{"ast":null,"code":"var _jsxFileName = \"/Users/halteverbotsocialmacpro/Desktop/ars vivai/HRthis/HRthis/src/components/VideoPlayer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useLearningStore } from '../state/learning';\nimport { cn } from '../utils/cn';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const VideoPlayer = ({\n  video,\n  onComplete\n}) => {\n  _s();\n  var _video$url$match;\n  const {\n    updateProgress,\n    completeVideo\n  } = useLearningStore();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [showTranscript, setShowTranscript] = useState(false);\n  const [playbackSpeed, setPlaybackSpeed] = useState(1);\n  const videoRef = useRef(null);\n  const progressInterval = useRef();\n  useEffect(() => {\n    const videoElement = videoRef.current;\n    if (!videoElement) return;\n    const handleTimeUpdate = () => {\n      setCurrentTime(videoElement.currentTime);\n\n      // Update progress every 5 seconds\n      if (Math.floor(videoElement.currentTime) % 5 === 0) {\n        updateProgress(video.id, Math.floor(videoElement.currentTime));\n      }\n    };\n    const handleEnded = () => {\n      completeVideo(video.id);\n      if (onComplete) onComplete();\n    };\n    videoElement.addEventListener('timeupdate', handleTimeUpdate);\n    videoElement.addEventListener('ended', handleEnded);\n    videoElement.addEventListener('play', () => setIsPlaying(true));\n    videoElement.addEventListener('pause', () => setIsPlaying(false));\n    return () => {\n      videoElement.removeEventListener('timeupdate', handleTimeUpdate);\n      videoElement.removeEventListener('ended', handleEnded);\n      videoElement.removeEventListener('play', () => setIsPlaying(true));\n      videoElement.removeEventListener('pause', () => setIsPlaying(false));\n    };\n  }, [video.id, updateProgress, completeVideo, onComplete]);\n  const togglePlayPause = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause();\n      } else {\n        videoRef.current.play();\n      }\n    }\n  };\n  const skipTime = seconds => {\n    if (videoRef.current) {\n      videoRef.current.currentTime += seconds;\n    }\n  };\n  const changeSpeed = () => {\n    const speeds = [0.5, 0.75, 1, 1.25, 1.5, 2];\n    const currentIndex = speeds.indexOf(playbackSpeed);\n    const nextIndex = (currentIndex + 1) % speeds.length;\n    const newSpeed = speeds[nextIndex];\n    setPlaybackSpeed(newSpeed);\n    if (videoRef.current) {\n      videoRef.current.playbackRate = newSpeed;\n    }\n  };\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  const getActiveTranscriptSegment = () => {\n    if (!video.transcription) return null;\n    return video.transcription.segments.find(segment => currentTime >= segment.start && currentTime <= segment.end);\n  };\n  const activeSegment = getActiveTranscriptSegment();\n\n  // For YouTube videos\n  const isYouTube = video.url.includes('youtube.com') || video.url.includes('youtu.be');\n  const youtubeId = isYouTube ? (_video$url$match = video.url.match(/(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^&\\n?#]+)/)) === null || _video$url$match === void 0 ? void 0 : _video$url$match[1] : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-black rounded-xl overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative aspect-video bg-gray-900\",\n      children: [isYouTube && youtubeId ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n        className: \"w-full h-full\",\n        src: `https://www.youtube.com/embed/${youtubeId}?enablejsapi=1`,\n        title: video.title,\n        frameBorder: \"0\",\n        allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n        allowFullScreen: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        className: \"w-full h-full\",\n        src: video.url,\n        poster: video.thumbnail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), !isYouTube && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-600 h-1 rounded-full overflow-hidden cursor-pointer\",\n            onClick: e => {\n              if (videoRef.current) {\n                const rect = e.currentTarget.getBoundingClientRect();\n                const percent = (e.clientX - rect.left) / rect.width;\n                videoRef.current.currentTime = percent * video.duration;\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-500 h-full\",\n              style: {\n                width: `${currentTime / video.duration * 100}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: togglePlayPause,\n              className: \"text-white hover:text-blue-400 transition-colors\",\n              children: isPlaying ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-8 h-8\",\n                fill: \"currentColor\",\n                viewBox: \"0 0 20 20\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fillRule: \"evenodd\",\n                  d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z\",\n                  clipRule: \"evenodd\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-8 h-8\",\n                fill: \"currentColor\",\n                viewBox: \"0 0 20 20\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fillRule: \"evenodd\",\n                  d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\",\n                  clipRule: \"evenodd\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => skipTime(-10),\n              className: \"text-white hover:text-blue-400 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"-10s\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => skipTime(10),\n              className: \"text-white hover:text-blue-400 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"+10s\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-white text-sm\",\n              children: [formatTime(currentTime), \" / \", formatTime(video.duration)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: changeSpeed,\n              className: \"text-white hover:text-blue-400 transition-colors text-sm font-medium\",\n              children: [playbackSpeed, \"x\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowTranscript(!showTranscript),\n              className: cn(\"text-white hover:text-blue-400 transition-colors\", showTranscript && \"text-blue-400\"),\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), showTranscript && video.transcription && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-900 p-4 max-h-48 overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-white font-semibold mb-3\",\n        children: \"Transkript\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: video.transcription.segments.map((segment, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: cn(\"p-2 rounded cursor-pointer transition-colors\", activeSegment === segment ? \"bg-blue-600/20 text-blue-300\" : \"text-gray-400 hover:bg-gray-800\"),\n          onClick: () => {\n            if (videoRef.current) {\n              videoRef.current.currentTime = segment.start;\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500 mb-1\",\n            children: [formatTime(segment.start), \" - \", formatTime(segment.end)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: segment.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }, this), activeSegment && !showTranscript && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bottom-20 left-0 right-0 text-center px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-block bg-black/80 text-white px-4 py-2 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg\",\n          children: activeSegment.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoPlayer, \"v09ZVr0pqg5p1aiay8O9Xs5RUAo=\", false, function () {\n  return [useLearningStore];\n});\n_c = VideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useLearningStore","cn","jsxDEV","_jsxDEV","VideoPlayer","video","onComplete","_s","_video$url$match","updateProgress","completeVideo","isPlaying","setIsPlaying","currentTime","setCurrentTime","showTranscript","setShowTranscript","playbackSpeed","setPlaybackSpeed","videoRef","progressInterval","videoElement","current","handleTimeUpdate","Math","floor","id","handleEnded","addEventListener","removeEventListener","togglePlayPause","pause","play","skipTime","seconds","changeSpeed","speeds","currentIndex","indexOf","nextIndex","length","newSpeed","playbackRate","formatTime","mins","secs","toString","padStart","getActiveTranscriptSegment","transcription","segments","find","segment","start","end","activeSegment","isYouTube","url","includes","youtubeId","match","className","children","src","title","frameBorder","allow","allowFullScreen","fileName","_jsxFileName","lineNumber","columnNumber","ref","poster","thumbnail","onClick","e","rect","currentTarget","getBoundingClientRect","percent","clientX","left","width","duration","style","fill","viewBox","fillRule","d","clipRule","stroke","strokeLinecap","strokeLinejoin","strokeWidth","map","index","text","_c","$RefreshReg$"],"sources":["/Users/halteverbotsocialmacpro/Desktop/ars vivai/HRthis/HRthis/src/components/VideoPlayer.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { useLearningStore } from '../state/learning';\nimport { VideoContent } from '../types/learning';\nimport { cn } from '../utils/cn';\n\ninterface VideoPlayerProps {\n  video: VideoContent;\n  onComplete?: () => void;\n}\n\nexport const VideoPlayer: React.FC<VideoPlayerProps> = ({ video, onComplete }) => {\n  const { updateProgress, completeVideo } = useLearningStore();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [showTranscript, setShowTranscript] = useState(false);\n  const [playbackSpeed, setPlaybackSpeed] = useState(1);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const progressInterval = useRef<number | undefined>();\n\n  useEffect(() => {\n    const videoElement = videoRef.current;\n    if (!videoElement) return;\n\n    const handleTimeUpdate = () => {\n      setCurrentTime(videoElement.currentTime);\n      \n      // Update progress every 5 seconds\n      if (Math.floor(videoElement.currentTime) % 5 === 0) {\n        updateProgress(video.id, Math.floor(videoElement.currentTime));\n      }\n    };\n\n    const handleEnded = () => {\n      completeVideo(video.id);\n      if (onComplete) onComplete();\n    };\n\n    videoElement.addEventListener('timeupdate', handleTimeUpdate);\n    videoElement.addEventListener('ended', handleEnded);\n    videoElement.addEventListener('play', () => setIsPlaying(true));\n    videoElement.addEventListener('pause', () => setIsPlaying(false));\n\n    return () => {\n      videoElement.removeEventListener('timeupdate', handleTimeUpdate);\n      videoElement.removeEventListener('ended', handleEnded);\n      videoElement.removeEventListener('play', () => setIsPlaying(true));\n      videoElement.removeEventListener('pause', () => setIsPlaying(false));\n    };\n  }, [video.id, updateProgress, completeVideo, onComplete]);\n\n  const togglePlayPause = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause();\n      } else {\n        videoRef.current.play();\n      }\n    }\n  };\n\n  const skipTime = (seconds: number) => {\n    if (videoRef.current) {\n      videoRef.current.currentTime += seconds;\n    }\n  };\n\n  const changeSpeed = () => {\n    const speeds = [0.5, 0.75, 1, 1.25, 1.5, 2];\n    const currentIndex = speeds.indexOf(playbackSpeed);\n    const nextIndex = (currentIndex + 1) % speeds.length;\n    const newSpeed = speeds[nextIndex];\n    \n    setPlaybackSpeed(newSpeed);\n    if (videoRef.current) {\n      videoRef.current.playbackRate = newSpeed;\n    }\n  };\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const getActiveTranscriptSegment = () => {\n    if (!video.transcription) return null;\n    \n    return video.transcription.segments.find(\n      segment => currentTime >= segment.start && currentTime <= segment.end\n    );\n  };\n\n  const activeSegment = getActiveTranscriptSegment();\n\n  // For YouTube videos\n  const isYouTube = video.url.includes('youtube.com') || video.url.includes('youtu.be');\n  const youtubeId = isYouTube ? video.url.match(/(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^&\\n?#]+)/)?.[1] : null;\n\n  return (\n    <div className=\"bg-black rounded-xl overflow-hidden\">\n      {/* Video Container */}\n      <div className=\"relative aspect-video bg-gray-900\">\n        {isYouTube && youtubeId ? (\n          <iframe\n            className=\"w-full h-full\"\n            src={`https://www.youtube.com/embed/${youtubeId}?enablejsapi=1`}\n            title={video.title}\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen\n          />\n        ) : (\n          <video\n            ref={videoRef}\n            className=\"w-full h-full\"\n            src={video.url}\n            poster={video.thumbnail}\n          />\n        )}\n\n        {/* Custom Controls Overlay */}\n        {!isYouTube && (\n          <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4\">\n            {/* Progress Bar */}\n            <div className=\"mb-3\">\n              <div className=\"bg-gray-600 h-1 rounded-full overflow-hidden cursor-pointer\"\n                onClick={(e) => {\n                  if (videoRef.current) {\n                    const rect = e.currentTarget.getBoundingClientRect();\n                    const percent = (e.clientX - rect.left) / rect.width;\n                    videoRef.current.currentTime = percent * video.duration;\n                  }\n                }}\n              >\n                <div \n                  className=\"bg-blue-500 h-full\"\n                  style={{ width: `${(currentTime / video.duration) * 100}%` }}\n                />\n              </div>\n            </div>\n\n            {/* Controls */}\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <button\n                  onClick={togglePlayPause}\n                  className=\"text-white hover:text-blue-400 transition-colors\"\n                >\n                  {isPlaying ? (\n                    <svg className=\"w-8 h-8\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                    </svg>\n                  ) : (\n                    <svg className=\"w-8 h-8\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\" clipRule=\"evenodd\" />\n                    </svg>\n                  )}\n                </button>\n\n                <button\n                  onClick={() => skipTime(-10)}\n                  className=\"text-white hover:text-blue-400 transition-colors\"\n                >\n                  <span className=\"text-sm font-medium\">-10s</span>\n                </button>\n\n                <button\n                  onClick={() => skipTime(10)}\n                  className=\"text-white hover:text-blue-400 transition-colors\"\n                >\n                  <span className=\"text-sm font-medium\">+10s</span>\n                </button>\n\n                <div className=\"text-white text-sm\">\n                  {formatTime(currentTime)} / {formatTime(video.duration)}\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-3\">\n                <button\n                  onClick={changeSpeed}\n                  className=\"text-white hover:text-blue-400 transition-colors text-sm font-medium\"\n                >\n                  {playbackSpeed}x\n                </button>\n\n                <button\n                  onClick={() => setShowTranscript(!showTranscript)}\n                  className={cn(\n                    \"text-white hover:text-blue-400 transition-colors\",\n                    showTranscript && \"text-blue-400\"\n                  )}\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Transcript Panel */}\n      {showTranscript && video.transcription && (\n        <div className=\"bg-gray-900 p-4 max-h-48 overflow-y-auto\">\n          <h3 className=\"text-white font-semibold mb-3\">Transkript</h3>\n          <div className=\"space-y-2\">\n            {video.transcription.segments.map((segment, index) => (\n              <div\n                key={index}\n                className={cn(\n                  \"p-2 rounded cursor-pointer transition-colors\",\n                  activeSegment === segment\n                    ? \"bg-blue-600/20 text-blue-300\"\n                    : \"text-gray-400 hover:bg-gray-800\"\n                )}\n                onClick={() => {\n                  if (videoRef.current) {\n                    videoRef.current.currentTime = segment.start;\n                  }\n                }}\n              >\n                <div className=\"text-xs text-gray-500 mb-1\">\n                  {formatTime(segment.start)} - {formatTime(segment.end)}\n                </div>\n                <div className=\"text-sm\">{segment.text}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Active Subtitle */}\n      {activeSegment && !showTranscript && (\n        <div className=\"absolute bottom-20 left-0 right-0 text-center px-4\">\n          <div className=\"inline-block bg-black/80 text-white px-4 py-2 rounded-lg\">\n            <p className=\"text-lg\">{activeSegment.text}</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,gBAAgB,QAAQ,mBAAmB;AAEpD,SAASC,EAAE,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAOjC,OAAO,MAAMC,WAAuC,GAAGA,CAAC;EAAEC,KAAK;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,gBAAA;EAChF,MAAM;IAAEC,cAAc;IAAEC;EAAc,CAAC,GAAGV,gBAAgB,CAAC,CAAC;EAC5D,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACgB,cAAc,EAAEC,iBAAiB,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACkB,aAAa,EAAEC,gBAAgB,CAAC,GAAGnB,QAAQ,CAAC,CAAC,CAAC;EACrD,MAAMoB,QAAQ,GAAGrB,MAAM,CAAmB,IAAI,CAAC;EAC/C,MAAMsB,gBAAgB,GAAGtB,MAAM,CAAqB,CAAC;EAErDD,SAAS,CAAC,MAAM;IACd,MAAMwB,YAAY,GAAGF,QAAQ,CAACG,OAAO;IACrC,IAAI,CAACD,YAAY,EAAE;IAEnB,MAAME,gBAAgB,GAAGA,CAAA,KAAM;MAC7BT,cAAc,CAACO,YAAY,CAACR,WAAW,CAAC;;MAExC;MACA,IAAIW,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACR,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;QAClDJ,cAAc,CAACJ,KAAK,CAACqB,EAAE,EAAEF,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACR,WAAW,CAAC,CAAC;MAChE;IACF,CAAC;IAED,MAAMc,WAAW,GAAGA,CAAA,KAAM;MACxBjB,aAAa,CAACL,KAAK,CAACqB,EAAE,CAAC;MACvB,IAAIpB,UAAU,EAAEA,UAAU,CAAC,CAAC;IAC9B,CAAC;IAEDe,YAAY,CAACO,gBAAgB,CAAC,YAAY,EAAEL,gBAAgB,CAAC;IAC7DF,YAAY,CAACO,gBAAgB,CAAC,OAAO,EAAED,WAAW,CAAC;IACnDN,YAAY,CAACO,gBAAgB,CAAC,MAAM,EAAE,MAAMhB,YAAY,CAAC,IAAI,CAAC,CAAC;IAC/DS,YAAY,CAACO,gBAAgB,CAAC,OAAO,EAAE,MAAMhB,YAAY,CAAC,KAAK,CAAC,CAAC;IAEjE,OAAO,MAAM;MACXS,YAAY,CAACQ,mBAAmB,CAAC,YAAY,EAAEN,gBAAgB,CAAC;MAChEF,YAAY,CAACQ,mBAAmB,CAAC,OAAO,EAAEF,WAAW,CAAC;MACtDN,YAAY,CAACQ,mBAAmB,CAAC,MAAM,EAAE,MAAMjB,YAAY,CAAC,IAAI,CAAC,CAAC;MAClES,YAAY,CAACQ,mBAAmB,CAAC,OAAO,EAAE,MAAMjB,YAAY,CAAC,KAAK,CAAC,CAAC;IACtE,CAAC;EACH,CAAC,EAAE,CAACP,KAAK,CAACqB,EAAE,EAAEjB,cAAc,EAAEC,aAAa,EAAEJ,UAAU,CAAC,CAAC;EAEzD,MAAMwB,eAAe,GAAGA,CAAA,KAAM;IAC5B,IAAIX,QAAQ,CAACG,OAAO,EAAE;MACpB,IAAIX,SAAS,EAAE;QACbQ,QAAQ,CAACG,OAAO,CAACS,KAAK,CAAC,CAAC;MAC1B,CAAC,MAAM;QACLZ,QAAQ,CAACG,OAAO,CAACU,IAAI,CAAC,CAAC;MACzB;IACF;EACF,CAAC;EAED,MAAMC,QAAQ,GAAIC,OAAe,IAAK;IACpC,IAAIf,QAAQ,CAACG,OAAO,EAAE;MACpBH,QAAQ,CAACG,OAAO,CAACT,WAAW,IAAIqB,OAAO;IACzC;EACF,CAAC;EAED,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxB,MAAMC,MAAM,GAAG,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;IAC3C,MAAMC,YAAY,GAAGD,MAAM,CAACE,OAAO,CAACrB,aAAa,CAAC;IAClD,MAAMsB,SAAS,GAAG,CAACF,YAAY,GAAG,CAAC,IAAID,MAAM,CAACI,MAAM;IACpD,MAAMC,QAAQ,GAAGL,MAAM,CAACG,SAAS,CAAC;IAElCrB,gBAAgB,CAACuB,QAAQ,CAAC;IAC1B,IAAItB,QAAQ,CAACG,OAAO,EAAE;MACpBH,QAAQ,CAACG,OAAO,CAACoB,YAAY,GAAGD,QAAQ;IAC1C;EACF,CAAC;EAED,MAAME,UAAU,GAAIT,OAAe,IAAK;IACtC,MAAMU,IAAI,GAAGpB,IAAI,CAACC,KAAK,CAACS,OAAO,GAAG,EAAE,CAAC;IACrC,MAAMW,IAAI,GAAGrB,IAAI,CAACC,KAAK,CAACS,OAAO,GAAG,EAAE,CAAC;IACrC,OAAO,GAAGU,IAAI,IAAIC,IAAI,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;EACtD,CAAC;EAED,MAAMC,0BAA0B,GAAGA,CAAA,KAAM;IACvC,IAAI,CAAC3C,KAAK,CAAC4C,aAAa,EAAE,OAAO,IAAI;IAErC,OAAO5C,KAAK,CAAC4C,aAAa,CAACC,QAAQ,CAACC,IAAI,CACtCC,OAAO,IAAIvC,WAAW,IAAIuC,OAAO,CAACC,KAAK,IAAIxC,WAAW,IAAIuC,OAAO,CAACE,GACpE,CAAC;EACH,CAAC;EAED,MAAMC,aAAa,GAAGP,0BAA0B,CAAC,CAAC;;EAElD;EACA,MAAMQ,SAAS,GAAGnD,KAAK,CAACoD,GAAG,CAACC,QAAQ,CAAC,aAAa,CAAC,IAAIrD,KAAK,CAACoD,GAAG,CAACC,QAAQ,CAAC,UAAU,CAAC;EACrF,MAAMC,SAAS,GAAGH,SAAS,IAAAhD,gBAAA,GAAGH,KAAK,CAACoD,GAAG,CAACG,KAAK,CAAC,oDAAoD,CAAC,cAAApD,gBAAA,uBAArEA,gBAAA,CAAwE,CAAC,CAAC,GAAG,IAAI;EAE/G,oBACEL,OAAA;IAAK0D,SAAS,EAAC,qCAAqC;IAAAC,QAAA,gBAElD3D,OAAA;MAAK0D,SAAS,EAAC,mCAAmC;MAAAC,QAAA,GAC/CN,SAAS,IAAIG,SAAS,gBACrBxD,OAAA;QACE0D,SAAS,EAAC,eAAe;QACzBE,GAAG,EAAE,iCAAiCJ,SAAS,gBAAiB;QAChEK,KAAK,EAAE3D,KAAK,CAAC2D,KAAM;QACnBC,WAAW,EAAC,GAAG;QACfC,KAAK,EAAC,0FAA0F;QAChGC,eAAe;MAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChB,CAAC,gBAEFpE,OAAA;QACEqE,GAAG,EAAErD,QAAS;QACd0C,SAAS,EAAC,eAAe;QACzBE,GAAG,EAAE1D,KAAK,CAACoD,GAAI;QACfgB,MAAM,EAAEpE,KAAK,CAACqE;MAAU;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CACF,EAGA,CAACf,SAAS,iBACTrD,OAAA;QAAK0D,SAAS,EAAC,oFAAoF;QAAAC,QAAA,gBAEjG3D,OAAA;UAAK0D,SAAS,EAAC,MAAM;UAAAC,QAAA,eACnB3D,OAAA;YAAK0D,SAAS,EAAC,6DAA6D;YAC1Ec,OAAO,EAAGC,CAAC,IAAK;cACd,IAAIzD,QAAQ,CAACG,OAAO,EAAE;gBACpB,MAAMuD,IAAI,GAAGD,CAAC,CAACE,aAAa,CAACC,qBAAqB,CAAC,CAAC;gBACpD,MAAMC,OAAO,GAAG,CAACJ,CAAC,CAACK,OAAO,GAAGJ,IAAI,CAACK,IAAI,IAAIL,IAAI,CAACM,KAAK;gBACpDhE,QAAQ,CAACG,OAAO,CAACT,WAAW,GAAGmE,OAAO,GAAG3E,KAAK,CAAC+E,QAAQ;cACzD;YACF,CAAE;YAAAtB,QAAA,eAEF3D,OAAA;cACE0D,SAAS,EAAC,oBAAoB;cAC9BwB,KAAK,EAAE;gBAAEF,KAAK,EAAE,GAAItE,WAAW,GAAGR,KAAK,CAAC+E,QAAQ,GAAI,GAAG;cAAI;YAAE;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9D;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNpE,OAAA;UAAK0D,SAAS,EAAC,mCAAmC;UAAAC,QAAA,gBAChD3D,OAAA;YAAK0D,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBACtC3D,OAAA;cACEwE,OAAO,EAAE7C,eAAgB;cACzB+B,SAAS,EAAC,kDAAkD;cAAAC,QAAA,EAE3DnD,SAAS,gBACRR,OAAA;gBAAK0D,SAAS,EAAC,SAAS;gBAACyB,IAAI,EAAC,cAAc;gBAACC,OAAO,EAAC,WAAW;gBAAAzB,QAAA,eAC9D3D,OAAA;kBAAMqF,QAAQ,EAAC,SAAS;kBAACC,CAAC,EAAC,qHAAqH;kBAACC,QAAQ,EAAC;gBAAS;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnK,CAAC,gBAENpE,OAAA;gBAAK0D,SAAS,EAAC,SAAS;gBAACyB,IAAI,EAAC,cAAc;gBAACC,OAAO,EAAC,WAAW;gBAAAzB,QAAA,eAC9D3D,OAAA;kBAAMqF,QAAQ,EAAC,SAAS;kBAACC,CAAC,EAAC,yGAAyG;kBAACC,QAAQ,EAAC;gBAAS;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvJ;YACN;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACK,CAAC,eAETpE,OAAA;cACEwE,OAAO,EAAEA,CAAA,KAAM1C,QAAQ,CAAC,CAAC,EAAE,CAAE;cAC7B4B,SAAS,EAAC,kDAAkD;cAAAC,QAAA,eAE5D3D,OAAA;gBAAM0D,SAAS,EAAC,qBAAqB;gBAAAC,QAAA,EAAC;cAAI;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3C,CAAC,eAETpE,OAAA;cACEwE,OAAO,EAAEA,CAAA,KAAM1C,QAAQ,CAAC,EAAE,CAAE;cAC5B4B,SAAS,EAAC,kDAAkD;cAAAC,QAAA,eAE5D3D,OAAA;gBAAM0D,SAAS,EAAC,qBAAqB;gBAAAC,QAAA,EAAC;cAAI;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3C,CAAC,eAETpE,OAAA;cAAK0D,SAAS,EAAC,oBAAoB;cAAAC,QAAA,GAChCnB,UAAU,CAAC9B,WAAW,CAAC,EAAC,KAAG,EAAC8B,UAAU,CAACtC,KAAK,CAAC+E,QAAQ,CAAC;YAAA;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpE,OAAA;YAAK0D,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBACtC3D,OAAA;cACEwE,OAAO,EAAExC,WAAY;cACrB0B,SAAS,EAAC,sEAAsE;cAAAC,QAAA,GAE/E7C,aAAa,EAAC,GACjB;YAAA;cAAAmD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAETpE,OAAA;cACEwE,OAAO,EAAEA,CAAA,KAAM3D,iBAAiB,CAAC,CAACD,cAAc,CAAE;cAClD8C,SAAS,EAAE5D,EAAE,CACX,kDAAkD,EAClDc,cAAc,IAAI,eACpB,CAAE;cAAA+C,QAAA,eAEF3D,OAAA;gBAAK0D,SAAS,EAAC,SAAS;gBAACyB,IAAI,EAAC,MAAM;gBAACK,MAAM,EAAC,cAAc;gBAACJ,OAAO,EAAC,WAAW;gBAAAzB,QAAA,eAC5E3D,OAAA;kBAAMyF,aAAa,EAAC,OAAO;kBAACC,cAAc,EAAC,OAAO;kBAACC,WAAW,EAAE,CAAE;kBAACL,CAAC,EAAC;gBAAsH;kBAAArB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3L;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGLxD,cAAc,IAAIV,KAAK,CAAC4C,aAAa,iBACpC9C,OAAA;MAAK0D,SAAS,EAAC,0CAA0C;MAAAC,QAAA,gBACvD3D,OAAA;QAAI0D,SAAS,EAAC,+BAA+B;QAAAC,QAAA,EAAC;MAAU;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7DpE,OAAA;QAAK0D,SAAS,EAAC,WAAW;QAAAC,QAAA,EACvBzD,KAAK,CAAC4C,aAAa,CAACC,QAAQ,CAAC6C,GAAG,CAAC,CAAC3C,OAAO,EAAE4C,KAAK,kBAC/C7F,OAAA;UAEE0D,SAAS,EAAE5D,EAAE,CACX,8CAA8C,EAC9CsD,aAAa,KAAKH,OAAO,GACrB,8BAA8B,GAC9B,iCACN,CAAE;UACFuB,OAAO,EAAEA,CAAA,KAAM;YACb,IAAIxD,QAAQ,CAACG,OAAO,EAAE;cACpBH,QAAQ,CAACG,OAAO,CAACT,WAAW,GAAGuC,OAAO,CAACC,KAAK;YAC9C;UACF,CAAE;UAAAS,QAAA,gBAEF3D,OAAA;YAAK0D,SAAS,EAAC,4BAA4B;YAAAC,QAAA,GACxCnB,UAAU,CAACS,OAAO,CAACC,KAAK,CAAC,EAAC,KAAG,EAACV,UAAU,CAACS,OAAO,CAACE,GAAG,CAAC;UAAA;YAAAc,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD,CAAC,eACNpE,OAAA;YAAK0D,SAAS,EAAC,SAAS;YAAAC,QAAA,EAAEV,OAAO,CAAC6C;UAAI;YAAA7B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA,GAhBxCyB,KAAK;UAAA5B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAiBP,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAhB,aAAa,IAAI,CAACxC,cAAc,iBAC/BZ,OAAA;MAAK0D,SAAS,EAAC,oDAAoD;MAAAC,QAAA,eACjE3D,OAAA;QAAK0D,SAAS,EAAC,0DAA0D;QAAAC,QAAA,eACvE3D,OAAA;UAAG0D,SAAS,EAAC,SAAS;UAAAC,QAAA,EAAEP,aAAa,CAAC0C;QAAI;UAAA7B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAChE,EAAA,CAzOWH,WAAuC;EAAA,QACRJ,gBAAgB;AAAA;AAAAkG,EAAA,GAD/C9F,WAAuC;AAAA,IAAA8F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}