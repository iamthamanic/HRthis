{"ast":null,"code":"var _jsxFileName = \"/Users/halteverbotsocialmacpro/Desktop/ars vivai/Worky Time/worky-time-web/src/screens/CalendarScreen.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuthStore } from '../state/auth';\nimport { useLeavesStore } from '../state/leaves';\nimport { useTimeRecordsStore } from '../state/timeRecords';\nimport { useRemindersStore } from '../state/reminders';\nimport { cn } from '../utils/cn';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const CalendarScreen = () => {\n  _s();\n  const {\n    user\n  } = useAuthStore();\n  const {\n    leaveRequests\n  } = useLeavesStore();\n  const {\n    timeRecords\n  } = useTimeRecordsStore();\n  const {\n    reminders,\n    getUpcomingVacationAlerts\n  } = useRemindersStore();\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [calendarDays, setCalendarDays] = useState([]);\n  const [viewMode, setViewMode] = useState('both');\n\n  // Mock data for team members (in real app, this would come from API)\n  const mockTeamLeaves = [...leaveRequests, {\n    id: '10',\n    userId: '2',\n    startDate: '2024-12-16',\n    endDate: '2024-12-20',\n    comment: 'Winterurlaub',\n    status: 'APPROVED',\n    type: 'VACATION',\n    createdAt: '2024-11-01T10:00:00Z'\n  }, {\n    id: '11',\n    userId: '3',\n    startDate: '2024-12-18',\n    endDate: '2024-12-19',\n    comment: '',\n    status: 'APPROVED',\n    type: 'SICK',\n    createdAt: '2024-12-18T08:00:00Z'\n  }, {\n    id: '12',\n    userId: '4',\n    startDate: '2024-12-09',\n    endDate: '2024-12-13',\n    comment: 'Familienurlaub',\n    status: 'APPROVED',\n    type: 'VACATION',\n    createdAt: '2024-11-15T10:00:00Z'\n  }, {\n    id: '13',\n    userId: '5',\n    startDate: '2024-12-02',\n    endDate: '2024-12-02',\n    comment: 'ErkÃ¤ltung',\n    status: 'APPROVED',\n    type: 'SICK',\n    createdAt: '2024-12-02T07:30:00Z'\n  }, {\n    id: '14',\n    userId: '6',\n    startDate: '2025-01-07',\n    endDate: '2025-01-17',\n    comment: 'Neujahrsurlaub',\n    status: 'APPROVED',\n    type: 'VACATION',\n    createdAt: '2024-11-20T14:00:00Z'\n  }, {\n    id: '15',\n    userId: '3',\n    startDate: '2024-12-27',\n    endDate: '2024-12-31',\n    comment: 'Jahresende',\n    status: 'APPROVED',\n    type: 'VACATION',\n    createdAt: '2024-11-25T09:15:00Z'\n  }];\n\n  /**\n   * Gets the display name for a user ID\n   * @param userId - The user ID to get the name for\n   * @returns The display name or 'Unbekannt' if not found\n   */\n  const getUserName = userId => {\n    const names = {\n      '1': 'Max M.',\n      '2': 'Anna A.',\n      '3': 'Tom K.',\n      '4': 'Lisa S.',\n      '5': 'Julia B.',\n      '6': 'Marco L.'\n    };\n    return names[userId] || 'Unbekannt';\n  };\n\n  /**\n   * Generates mock time records for team members for the current month\n   * Creates realistic working hours patterns for each team member,\n   * excluding weekends and leave periods\n   * @returns Array of mock time records for the current month\n   */\n  const generateMockTeamTimeRecords = () => {\n    const records = [];\n    const startOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n    const endOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);\n\n    // Generate records for all team members\n    const teamUserIds = ['1', '2', '3', '4', '5', '6'];\n    for (let userId of teamUserIds) {\n      for (let day = 1; day <= endOfMonth.getDate(); day++) {\n        const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);\n\n        // Skip weekends\n        if (date.getDay() === 0 || date.getDay() === 6) continue;\n\n        // Skip if user is on leave\n        const dateString = date.toISOString().split('T')[0];\n        const isOnLeave = mockTeamLeaves.some(leave => {\n          const startDate = new Date(leave.startDate);\n          const endDate = new Date(leave.endDate);\n          return date >= startDate && date <= endDate && leave.userId === userId && leave.status === 'APPROVED';\n        });\n        if (isOnLeave) continue;\n\n        // Generate realistic working hours\n        const variations = {\n          '1': {\n            baseStart: 8,\n            baseEnd: 17\n          },\n          // Max - regular hours\n          '2': {\n            baseStart: 9,\n            baseEnd: 18\n          },\n          // Anna - later start\n          '3': {\n            baseStart: 7,\n            baseEnd: 16\n          },\n          // Tom - early bird\n          '4': {\n            baseStart: 8.5,\n            baseEnd: 17.5\n          },\n          // Lisa - flexible\n          '5': {\n            baseStart: 9,\n            baseEnd: 17\n          },\n          // Julia - standard\n          '6': {\n            baseStart: 8,\n            baseEnd: 16\n          } // Marco - early finish\n        };\n        const userPattern = variations[userId] || variations['1'];\n        const startHour = userPattern.baseStart + (Math.random() * 0.5 - 0.25); // Â±15 min variation\n        const endHour = userPattern.baseEnd + (Math.random() * 0.5 - 0.25);\n        const timeIn = new Date(date);\n        timeIn.setHours(Math.floor(startHour), Math.floor(startHour % 1 * 60));\n        const timeOut = new Date(date);\n        timeOut.setHours(Math.floor(endHour), Math.floor(endHour % 1 * 60));\n        const breakMinutes = 30 + Math.floor(Math.random() * 30); // 30-60 min break\n        const totalHours = (timeOut.getTime() - timeIn.getTime()) / (1000 * 60 * 60) - breakMinutes / 60;\n        records.push({\n          id: `${userId}-${dateString}`,\n          userId,\n          date: dateString,\n          timeIn: timeIn.toTimeString().split(' ')[0].substring(0, 5),\n          timeOut: timeOut.toTimeString().split(' ')[0].substring(0, 5),\n          breakMinutes,\n          totalHours: Math.round(totalHours * 100) / 100\n        });\n      }\n    }\n    return records;\n  };\n  useEffect(() => {\n    generateCalendar();\n  }, [currentDate, mockTeamLeaves, timeRecords]);\n  const generateCalendar = () => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n\n    // First day of the month\n    const firstDay = new Date(year, month, 1);\n\n    // Start from Monday of the week containing the first day\n    const startDate = new Date(firstDay);\n    const dayOfWeek = firstDay.getDay();\n    const daysToSubtract = dayOfWeek === 0 ? 6 : dayOfWeek - 1;\n    startDate.setDate(firstDay.getDate() - daysToSubtract);\n\n    // Generate mock team time records\n    const teamTimeRecords = generateMockTeamTimeRecords();\n\n    // Generate 42 days (6 weeks)\n    const days = [];\n    const today = new Date();\n    for (let i = 0; i < 42; i++) {\n      const date = new Date(startDate);\n      date.setDate(startDate.getDate() + i);\n      const isCurrentMonth = date.getMonth() === month;\n      const isToday = date.toDateString() === today.toDateString();\n\n      // Find leaves for this date\n      const dateString = date.toISOString().split('T')[0];\n      const dayLeaves = mockTeamLeaves.filter(leave => {\n        const startDate = new Date(leave.startDate);\n        const endDate = new Date(leave.endDate);\n        const currentDate = new Date(dateString);\n        return currentDate >= startDate && currentDate <= endDate && leave.status === 'APPROVED';\n      });\n\n      // Find time records for this date\n      const dayTimeRecords = teamTimeRecords.filter(record => record.date === dateString);\n\n      // Find reminders for this date\n      const dayReminders = reminders.filter(reminder => reminder.reminderDate === dateString && reminder.isActive);\n      days.push({\n        date,\n        isCurrentMonth,\n        isToday,\n        leaves: dayLeaves,\n        timeRecords: dayTimeRecords,\n        reminders: dayReminders\n      });\n    }\n    setCalendarDays(days);\n  };\n  const navigateMonth = direction => {\n    const newDate = new Date(currentDate);\n    if (direction === 'prev') {\n      newDate.setMonth(currentDate.getMonth() - 1);\n    } else {\n      newDate.setMonth(currentDate.getMonth() + 1);\n    }\n    setCurrentDate(newDate);\n  };\n  const getMonthYearText = () => {\n    return currentDate.toLocaleDateString('de-DE', {\n      month: 'long',\n      year: 'numeric'\n    });\n  };\n  const getAverageHours = timeRecords => {\n    if (timeRecords.length === 0) return 0;\n    const totalHours = timeRecords.reduce((sum, record) => sum + record.totalHours, 0);\n    return totalHours / timeRecords.length;\n  };\n  const getHoursColor = avgHours => {\n    if (avgHours === 0) return 'text-gray-300';\n    if (avgHours < 7) return 'text-red-500';\n    if (avgHours > 9) return 'text-orange-500';\n    return 'text-green-500';\n  };\n  const weekdays = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 bg-gray-50 min-h-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 px-4 py-6 overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-bold text-gray-900\",\n          children: \"Team Kalender\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [((user === null || user === void 0 ? void 0 : user.role) === 'ADMIN' || (user === null || user === void 0 ? void 0 : user.role) === 'SUPERADMIN') && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-orange-500 px-3 py-2 rounded-lg hover:bg-orange-600 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white text-sm font-medium mr-1\",\n                children: \"\\uD83D\\uDD14\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this), user && getUpcomingVacationAlerts(user.id).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-red-600 rounded-full w-4 h-4 flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-white text-xs font-bold\",\n                  children: getUpcomingVacationAlerts(user.id).length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigateMonth('prev'),\n            className: \"w-10 h-10 flex items-center justify-center bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg text-gray-600\",\n              children: \"\\u2039\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-900 min-w-32 text-center\",\n            children: getMonthYearText()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigateMonth('next'),\n            className: \"w-10 h-10 flex items-center justify-center bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg text-gray-600\",\n              children: \"\\u203A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex bg-white rounded-lg p-1 mb-4 shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode('leaves'),\n          className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors\", viewMode === 'leaves' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-center font-medium text-xs\",\n            children: \"Abwesenheit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode('hours'),\n          className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors\", viewMode === 'hours' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-center font-medium text-xs\",\n            children: \"Stunden\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode('both'),\n          className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors\", viewMode === 'both' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-center font-medium text-xs\",\n            children: \"Beide\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-4 mb-4 shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-semibold text-gray-900 mb-2\",\n          children: \"Legende\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-4\",\n          children: [(viewMode === 'leaves' || viewMode === 'both') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-blue-500 rounded-full mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Urlaub\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-red-500 rounded-full mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Krankheit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), (viewMode === 'hours' || viewMode === 'both') && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-green-500 font-bold mr-1\",\n                children: \"8.0h\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Normal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-red-500 font-bold mr-1\",\n                children: \"6.5h\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Wenig\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-orange-500 font-bold mr-1\",\n                children: \"9.5h\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Viel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 bg-orange-500 rounded-full mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Erinnerung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-4 shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-7 mb-2\",\n          children: weekdays.map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center py-2\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-semibold text-gray-500\",\n              children: day\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this)\n          }, day, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-7 gap-0\",\n          children: calendarDays.map((day, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: cn(\"aspect-square border-b border-r border-gray-100 p-1 text-left hover:bg-gray-50 transition-colors\", !day.isCurrentMonth && \"bg-gray-50\"),\n            onClick: () => {\n              if (day.leaves.length > 0) {\n                // Could show detailed view of leaves for this day\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-full flex flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: cn(\"text-sm font-medium mb-1\", !day.isCurrentMonth && \"text-gray-400\", day.isToday && \"text-blue-600 font-bold\"),\n                children: day.date.getDate()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 flex flex-col justify-start text-left\",\n                children: [(viewMode === 'leaves' || viewMode === 'both') && day.leaves.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-1\",\n                  children: [day.leaves.slice(0, viewMode === 'both' ? 1 : 2).map((leave, leaveIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-0.5\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: cn(\"px-1 py-0.5 rounded-sm\", leave.type === 'VACATION' ? \"bg-blue-100\" : \"bg-red-100\"),\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: cn(\"text-xs font-medium\", leave.type === 'VACATION' ? \"text-blue-700\" : \"text-red-700\"),\n                        children: getUserName(leave.userId)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 436,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 432,\n                      columnNumber: 29\n                    }, this)\n                  }, leaveIndex, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 27\n                  }, this)), day.leaves.length > (viewMode === 'both' ? 1 : 2) && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-500\",\n                    children: [\"+\", day.leaves.length - (viewMode === 'both' ? 1 : 2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 23\n                }, this), (viewMode === 'hours' || viewMode === 'both') && day.timeRecords.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-0.5\",\n                  children: [viewMode === 'hours' ?\n                  // Show individual hours in hours-only mode\n                  day.timeRecords.slice(0, 3).map((record, recordIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: cn(\"text-xs font-bold mr-1\", getHoursColor(record.totalHours)),\n                      children: [record.totalHours.toFixed(1), \"h\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 460,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-500 flex-1\",\n                      children: getUserName(record.userId)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 466,\n                      columnNumber: 31\n                    }, this)]\n                  }, recordIndex, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 29\n                  }, this)) :\n                  /*#__PURE__*/\n                  // Show average in combined mode\n                  _jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: cn(\"text-xs font-bold mr-1\", getHoursColor(getAverageHours(day.timeRecords))),\n                      children: [\"\\u2300\", getAverageHours(day.timeRecords).toFixed(1), \"h\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-500\",\n                      children: [\"(\", day.timeRecords.length, \" MA)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 27\n                  }, this), viewMode === 'hours' && day.timeRecords.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-500\",\n                    children: [\"+\", day.timeRecords.length - 3]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 23\n                }, this), day.reminders.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-1 right-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-orange-500 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 23\n                }, this), day.isCurrentMonth && day.timeRecords.length === 0 && day.leaves.length === 0 && day.date.getDay() !== 0 && day.date.getDay() !== 6 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-300\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-4 mt-4 shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 mb-3\",\n          children: [\"\\xDCbersicht \", getMonthYearText()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this), (viewMode === 'leaves' || viewMode === 'both') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-gray-700 mb-2\",\n            children: \"Abwesenheiten\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 15\n          }, this), mockTeamLeaves.filter(leave => {\n            const leaveStart = new Date(leave.startDate);\n            return leaveStart.getMonth() === currentDate.getMonth() && leaveStart.getFullYear() === currentDate.getFullYear() && leave.status === 'APPROVED';\n          }).map(leave => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between py-2 border-b border-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl mr-3\",\n                children: leave.type === 'VACATION' ? 'ðŸ–ï¸' : 'ðŸ¥'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium text-gray-900\",\n                  children: getUserName(leave.userId)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [new Date(leave.startDate).toLocaleDateString('de-DE'), \" - \", new Date(leave.endDate).toLocaleDateString('de-DE')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 539,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: cn(\"px-2 py-1 rounded-full\", leave.type === 'VACATION' ? \"bg-blue-100\" : \"bg-red-100\"),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: cn(\"text-xs font-medium\", leave.type === 'VACATION' ? \"text-blue-700\" : \"text-red-700\"),\n                children: leave.type === 'VACATION' ? 'Urlaub' : 'Krank'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 21\n            }, this)]\n          }, leave.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 13\n        }, this), (viewMode === 'hours' || viewMode === 'both') && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-gray-700 mb-2\",\n            children: \"Arbeitszeiten-Statistik\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 15\n          }, this), (() => {\n            const monthRecords = calendarDays.flatMap(day => day.timeRecords);\n            const userStats = ['1', '2', '3', '4', '5', '6'].map(userId => {\n              const userRecords = monthRecords.filter(r => r.userId === userId);\n              const totalHours = userRecords.reduce((sum, r) => sum + r.totalHours, 0);\n              const avgHours = userRecords.length > 0 ? totalHours / userRecords.length : 0;\n              const workDays = userRecords.length;\n              return {\n                userId,\n                totalHours,\n                avgHours,\n                workDays,\n                name: getUserName(userId)\n              };\n            }).filter(stat => stat.workDays > 0);\n            return userStats.map(stat => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between py-2 border-b border-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl mr-3\",\n                  children: \"\\u23F0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium text-gray-900\",\n                    children: stat.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 586,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: [stat.workDays, \" Arbeitstage\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 589,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: cn(\"font-bold text-sm\", getHoursColor(stat.avgHours)),\n                  children: [\"\\u2300 \", stat.avgHours.toFixed(1), \"h\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: [stat.totalHours.toFixed(1), \"h gesamt\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 601,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 21\n              }, this)]\n            }, stat.userId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 19\n            }, this));\n          })()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 5\n  }, this);\n};\n_s(CalendarScreen, \"0o5sDBxn/kWBa7yc70LKgsRsXwQ=\", false, function () {\n  return [useAuthStore, useLeavesStore, useTimeRecordsStore, useRemindersStore];\n});\n_c = CalendarScreen;\nvar _c;\n$RefreshReg$(_c, \"CalendarScreen\");","map":{"version":3,"names":["React","useState","useEffect","useAuthStore","useLeavesStore","useTimeRecordsStore","useRemindersStore","cn","jsxDEV","_jsxDEV","Fragment","_Fragment","CalendarScreen","_s","user","leaveRequests","timeRecords","reminders","getUpcomingVacationAlerts","currentDate","setCurrentDate","Date","calendarDays","setCalendarDays","viewMode","setViewMode","mockTeamLeaves","id","userId","startDate","endDate","comment","status","type","createdAt","getUserName","names","generateMockTeamTimeRecords","records","startOfMonth","getFullYear","getMonth","endOfMonth","teamUserIds","day","getDate","date","getDay","dateString","toISOString","split","isOnLeave","some","leave","variations","baseStart","baseEnd","userPattern","startHour","Math","random","endHour","timeIn","setHours","floor","timeOut","breakMinutes","totalHours","getTime","push","toTimeString","substring","round","generateCalendar","year","month","firstDay","dayOfWeek","daysToSubtract","setDate","teamTimeRecords","days","today","i","isCurrentMonth","isToday","toDateString","dayLeaves","filter","dayTimeRecords","record","dayReminders","reminder","reminderDate","isActive","leaves","navigateMonth","direction","newDate","setMonth","getMonthYearText","toLocaleDateString","getAverageHours","length","reduce","sum","getHoursColor","avgHours","weekdays","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","map","index","slice","leaveIndex","recordIndex","toFixed","leaveStart","monthRecords","flatMap","userStats","userRecords","r","workDays","name","stat","_c","$RefreshReg$"],"sources":["/Users/halteverbotsocialmacpro/Desktop/ars vivai/Worky Time/worky-time-web/src/screens/CalendarScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuthStore } from '../state/auth';\nimport { useLeavesStore } from '../state/leaves';\nimport { useTimeRecordsStore } from '../state/timeRecords';\nimport { useRemindersStore } from '../state/reminders';\nimport { LeaveRequest, TimeRecord } from '../types';\nimport { VacationReminder } from '../types/reminders';\nimport { cn } from '../utils/cn';\n\ninterface CalendarDay {\n  date: Date;\n  isCurrentMonth: boolean;\n  isToday: boolean;\n  leaves: LeaveRequest[];\n  timeRecords: TimeRecord[];\n  reminders: VacationReminder[];\n}\n\nexport const CalendarScreen = () => {\n  const { user } = useAuthStore();\n  const { leaveRequests } = useLeavesStore();\n  const { timeRecords } = useTimeRecordsStore();\n  const { reminders, getUpcomingVacationAlerts } = useRemindersStore();\n  \n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [calendarDays, setCalendarDays] = useState<CalendarDay[]>([]);\n  const [viewMode, setViewMode] = useState<'leaves' | 'hours' | 'both'>('both');\n\n  // Mock data for team members (in real app, this would come from API)\n  const mockTeamLeaves: LeaveRequest[] = [\n    ...leaveRequests,\n    {\n      id: '10',\n      userId: '2',\n      startDate: '2024-12-16',\n      endDate: '2024-12-20',\n      comment: 'Winterurlaub',\n      status: 'APPROVED',\n      type: 'VACATION',\n      createdAt: '2024-11-01T10:00:00Z'\n    },\n    {\n      id: '11',\n      userId: '3',\n      startDate: '2024-12-18',\n      endDate: '2024-12-19',\n      comment: '',\n      status: 'APPROVED',\n      type: 'SICK',\n      createdAt: '2024-12-18T08:00:00Z'\n    },\n    {\n      id: '12',\n      userId: '4',\n      startDate: '2024-12-09',\n      endDate: '2024-12-13',\n      comment: 'Familienurlaub',\n      status: 'APPROVED',\n      type: 'VACATION',\n      createdAt: '2024-11-15T10:00:00Z'\n    },\n    {\n      id: '13',\n      userId: '5',\n      startDate: '2024-12-02',\n      endDate: '2024-12-02',\n      comment: 'ErkÃ¤ltung',\n      status: 'APPROVED',\n      type: 'SICK',\n      createdAt: '2024-12-02T07:30:00Z'\n    },\n    {\n      id: '14',\n      userId: '6',\n      startDate: '2025-01-07',\n      endDate: '2025-01-17',\n      comment: 'Neujahrsurlaub',\n      status: 'APPROVED',\n      type: 'VACATION',\n      createdAt: '2024-11-20T14:00:00Z'\n    },\n    {\n      id: '15',\n      userId: '3',\n      startDate: '2024-12-27',\n      endDate: '2024-12-31',\n      comment: 'Jahresende',\n      status: 'APPROVED',\n      type: 'VACATION',\n      createdAt: '2024-11-25T09:15:00Z'\n    }\n  ];\n\n  /**\n   * Gets the display name for a user ID\n   * @param userId - The user ID to get the name for\n   * @returns The display name or 'Unbekannt' if not found\n   */\n  const getUserName = (userId: string): string => {\n    const names: { [key: string]: string } = {\n      '1': 'Max M.',\n      '2': 'Anna A.',\n      '3': 'Tom K.',\n      '4': 'Lisa S.',\n      '5': 'Julia B.',\n      '6': 'Marco L.'\n    };\n    return names[userId] || 'Unbekannt';\n  };\n\n  /**\n   * Generates mock time records for team members for the current month\n   * Creates realistic working hours patterns for each team member,\n   * excluding weekends and leave periods\n   * @returns Array of mock time records for the current month\n   */\n  const generateMockTeamTimeRecords = (): TimeRecord[] => {\n    const records: TimeRecord[] = [];\n    const startOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n    const endOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);\n    \n    // Generate records for all team members\n    const teamUserIds = ['1', '2', '3', '4', '5', '6'];\n    \n    for (let userId of teamUserIds) {\n      for (let day = 1; day <= endOfMonth.getDate(); day++) {\n        const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);\n        \n        // Skip weekends\n        if (date.getDay() === 0 || date.getDay() === 6) continue;\n        \n        // Skip if user is on leave\n        const dateString = date.toISOString().split('T')[0];\n        const isOnLeave = mockTeamLeaves.some(leave => {\n          const startDate = new Date(leave.startDate);\n          const endDate = new Date(leave.endDate);\n          return date >= startDate && date <= endDate && leave.userId === userId && leave.status === 'APPROVED';\n        });\n        \n        if (isOnLeave) continue;\n        \n        // Generate realistic working hours\n        const variations = {\n          '1': { baseStart: 8, baseEnd: 17 },   // Max - regular hours\n          '2': { baseStart: 9, baseEnd: 18 },   // Anna - later start\n          '3': { baseStart: 7, baseEnd: 16 },   // Tom - early bird\n          '4': { baseStart: 8.5, baseEnd: 17.5 }, // Lisa - flexible\n          '5': { baseStart: 9, baseEnd: 17 },   // Julia - standard\n          '6': { baseStart: 8, baseEnd: 16 }    // Marco - early finish\n        };\n        \n        const userPattern = variations[userId as keyof typeof variations] || variations['1'];\n        \n        const startHour = userPattern.baseStart + (Math.random() * 0.5 - 0.25); // Â±15 min variation\n        const endHour = userPattern.baseEnd + (Math.random() * 0.5 - 0.25);\n        \n        const timeIn = new Date(date);\n        timeIn.setHours(Math.floor(startHour), Math.floor((startHour % 1) * 60));\n        \n        const timeOut = new Date(date);\n        timeOut.setHours(Math.floor(endHour), Math.floor((endHour % 1) * 60));\n        \n        const breakMinutes = 30 + Math.floor(Math.random() * 30); // 30-60 min break\n        const totalHours = (timeOut.getTime() - timeIn.getTime()) / (1000 * 60 * 60) - (breakMinutes / 60);\n        \n        records.push({\n          id: `${userId}-${dateString}`,\n          userId,\n          date: dateString,\n          timeIn: timeIn.toTimeString().split(' ')[0].substring(0, 5),\n          timeOut: timeOut.toTimeString().split(' ')[0].substring(0, 5),\n          breakMinutes,\n          totalHours: Math.round(totalHours * 100) / 100\n        });\n      }\n    }\n    \n    return records;\n  };\n\n  useEffect(() => {\n    generateCalendar();\n  }, [currentDate, mockTeamLeaves, timeRecords]);\n\n  const generateCalendar = () => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    \n    // First day of the month\n    const firstDay = new Date(year, month, 1);\n    \n    // Start from Monday of the week containing the first day\n    const startDate = new Date(firstDay);\n    const dayOfWeek = firstDay.getDay();\n    const daysToSubtract = dayOfWeek === 0 ? 6 : dayOfWeek - 1;\n    startDate.setDate(firstDay.getDate() - daysToSubtract);\n    \n    // Generate mock team time records\n    const teamTimeRecords = generateMockTeamTimeRecords();\n    \n    // Generate 42 days (6 weeks)\n    const days: CalendarDay[] = [];\n    const today = new Date();\n    \n    for (let i = 0; i < 42; i++) {\n      const date = new Date(startDate);\n      date.setDate(startDate.getDate() + i);\n      \n      const isCurrentMonth = date.getMonth() === month;\n      const isToday = date.toDateString() === today.toDateString();\n      \n      // Find leaves for this date\n      const dateString = date.toISOString().split('T')[0];\n      const dayLeaves = mockTeamLeaves.filter(leave => {\n        const startDate = new Date(leave.startDate);\n        const endDate = new Date(leave.endDate);\n        const currentDate = new Date(dateString);\n        \n        return currentDate >= startDate && currentDate <= endDate && leave.status === 'APPROVED';\n      });\n      \n      // Find time records for this date\n      const dayTimeRecords = teamTimeRecords.filter(record => record.date === dateString);\n      \n      // Find reminders for this date\n      const dayReminders = reminders.filter(reminder => reminder.reminderDate === dateString && reminder.isActive);\n      \n      days.push({\n        date,\n        isCurrentMonth,\n        isToday,\n        leaves: dayLeaves,\n        timeRecords: dayTimeRecords,\n        reminders: dayReminders\n      });\n    }\n    \n    setCalendarDays(days);\n  };\n\n  const navigateMonth = (direction: 'prev' | 'next') => {\n    const newDate = new Date(currentDate);\n    if (direction === 'prev') {\n      newDate.setMonth(currentDate.getMonth() - 1);\n    } else {\n      newDate.setMonth(currentDate.getMonth() + 1);\n    }\n    setCurrentDate(newDate);\n  };\n\n  const getMonthYearText = () => {\n    return currentDate.toLocaleDateString('de-DE', {\n      month: 'long',\n      year: 'numeric'\n    });\n  };\n\n  const getAverageHours = (timeRecords: TimeRecord[]) => {\n    if (timeRecords.length === 0) return 0;\n    const totalHours = timeRecords.reduce((sum, record) => sum + record.totalHours, 0);\n    return totalHours / timeRecords.length;\n  };\n\n  const getHoursColor = (avgHours: number) => {\n    if (avgHours === 0) return 'text-gray-300';\n    if (avgHours < 7) return 'text-red-500';\n    if (avgHours > 9) return 'text-orange-500';\n    return 'text-green-500';\n  };\n\n  const weekdays = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\n\n  return (\n    <div className=\"flex-1 bg-gray-50 min-h-screen\">\n      <div className=\"flex-1 px-4 py-6 overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <h1 className=\"text-xl font-bold text-gray-900\">\n            Team Kalender\n          </h1>\n          <div className=\"flex items-center space-x-4\">\n            {(user?.role === 'ADMIN' || user?.role === 'SUPERADMIN') && (\n              <button className=\"bg-orange-500 px-3 py-2 rounded-lg hover:bg-orange-600 transition-colors\">\n                <div className=\"flex items-center\">\n                  <span className=\"text-white text-sm font-medium mr-1\">ðŸ””</span>\n                  {user && getUpcomingVacationAlerts(user.id).length > 0 && (\n                    <div className=\"bg-red-600 rounded-full w-4 h-4 flex items-center justify-center\">\n                      <span className=\"text-white text-xs font-bold\">\n                        {getUpcomingVacationAlerts(user.id).length}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              </button>\n            )}\n            <button \n              onClick={() => navigateMonth('prev')}\n              className=\"w-10 h-10 flex items-center justify-center bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors\"\n            >\n              <span className=\"text-lg text-gray-600\">â€¹</span>\n            </button>\n            <h2 className=\"text-lg font-semibold text-gray-900 min-w-32 text-center\">\n              {getMonthYearText()}\n            </h2>\n            <button \n              onClick={() => navigateMonth('next')}\n              className=\"w-10 h-10 flex items-center justify-center bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors\"\n            >\n              <span className=\"text-lg text-gray-600\">â€º</span>\n            </button>\n          </div>\n        </div>\n\n        {/* View Mode Toggle */}\n        <div className=\"flex bg-white rounded-lg p-1 mb-4 shadow-sm\">\n          <button\n            onClick={() => setViewMode('leaves')}\n            className={cn(\n              \"flex-1 py-2 px-3 rounded-md transition-colors\",\n              viewMode === 'leaves' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n            )}\n          >\n            <span className=\"text-center font-medium text-xs\">\n              Abwesenheit\n            </span>\n          </button>\n          <button\n            onClick={() => setViewMode('hours')}\n            className={cn(\n              \"flex-1 py-2 px-3 rounded-md transition-colors\",\n              viewMode === 'hours' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n            )}\n          >\n            <span className=\"text-center font-medium text-xs\">\n              Stunden\n            </span>\n          </button>\n          <button\n            onClick={() => setViewMode('both')}\n            className={cn(\n              \"flex-1 py-2 px-3 rounded-md transition-colors\",\n              viewMode === 'both' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n            )}\n          >\n            <span className=\"text-center font-medium text-xs\">\n              Beide\n            </span>\n          </button>\n        </div>\n\n        {/* Legend */}\n        <div className=\"bg-white rounded-xl p-4 mb-4 shadow-sm\">\n          <h3 className=\"text-sm font-semibold text-gray-900 mb-2\">Legende</h3>\n          <div className=\"flex flex-wrap gap-4\">\n            {(viewMode === 'leaves' || viewMode === 'both') && (\n              <>\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-blue-500 rounded-full mr-2\" />\n                  <span className=\"text-sm text-gray-600\">Urlaub</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-red-500 rounded-full mr-2\" />\n                  <span className=\"text-sm text-gray-600\">Krankheit</span>\n                </div>\n              </>\n            )}\n            {(viewMode === 'hours' || viewMode === 'both') && (\n              <>\n                <div className=\"flex items-center\">\n                  <span className=\"text-sm text-green-500 font-bold mr-1\">8.0h</span>\n                  <span className=\"text-sm text-gray-600\">Normal</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <span className=\"text-sm text-red-500 font-bold mr-1\">6.5h</span>\n                  <span className=\"text-sm text-gray-600\">Wenig</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <span className=\"text-sm text-orange-500 font-bold mr-1\">9.5h</span>\n                  <span className=\"text-sm text-gray-600\">Viel</span>\n                </div>\n              </>\n            )}\n            <div className=\"flex items-center\">\n              <div className=\"w-3 h-3 bg-orange-500 rounded-full mr-2\" />\n              <span className=\"text-sm text-gray-600\">Erinnerung</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Calendar */}\n        <div className=\"bg-white rounded-xl p-4 shadow-sm\">\n          {/* Weekday headers */}\n          <div className=\"grid grid-cols-7 mb-2\">\n            {weekdays.map((day) => (\n              <div key={day} className=\"flex items-center justify-center py-2\">\n                <span className=\"text-sm font-semibold text-gray-500\">{day}</span>\n              </div>\n            ))}\n          </div>\n\n          {/* Calendar grid */}\n          <div className=\"grid grid-cols-7 gap-0\">\n            {calendarDays.map((day, index) => (\n              <button\n                key={index}\n                className={cn(\n                  \"aspect-square border-b border-r border-gray-100 p-1 text-left hover:bg-gray-50 transition-colors\",\n                  !day.isCurrentMonth && \"bg-gray-50\"\n                )}\n                onClick={() => {\n                  if (day.leaves.length > 0) {\n                    // Could show detailed view of leaves for this day\n                  }\n                }}\n              >\n                <div className=\"h-full flex flex-col\">\n                  <span className={cn(\n                    \"text-sm font-medium mb-1\",\n                    !day.isCurrentMonth && \"text-gray-400\",\n                    day.isToday && \"text-blue-600 font-bold\"\n                  )}>\n                    {day.date.getDate()}\n                  </span>\n                  \n                  {/* Content based on view mode */}\n                  <div className=\"flex-1 flex flex-col justify-start text-left\">\n                    {/* Leave indicators */}\n                    {(viewMode === 'leaves' || viewMode === 'both') && day.leaves.length > 0 && (\n                      <div className=\"mb-1\">\n                        {day.leaves.slice(0, viewMode === 'both' ? 1 : 2).map((leave, leaveIndex) => (\n                          <div key={leaveIndex} className=\"mb-0.5\">\n                            <div className={cn(\n                              \"px-1 py-0.5 rounded-sm\",\n                              leave.type === 'VACATION' ? \"bg-blue-100\" : \"bg-red-100\"\n                            )}>\n                              <span className={cn(\n                                \"text-xs font-medium\",\n                                leave.type === 'VACATION' ? \"text-blue-700\" : \"text-red-700\"\n                              )}>\n                                {getUserName(leave.userId)}\n                              </span>\n                            </div>\n                          </div>\n                        ))}\n                        {day.leaves.length > (viewMode === 'both' ? 1 : 2) && (\n                          <span className=\"text-xs text-gray-500\">\n                            +{day.leaves.length - (viewMode === 'both' ? 1 : 2)}\n                          </span>\n                        )}\n                      </div>\n                    )}\n                    \n                    {/* Hours indicators */}\n                    {(viewMode === 'hours' || viewMode === 'both') && day.timeRecords.length > 0 && (\n                      <div className=\"space-y-0.5\">\n                        {viewMode === 'hours' ? (\n                          // Show individual hours in hours-only mode\n                          day.timeRecords.slice(0, 3).map((record, recordIndex) => (\n                            <div key={recordIndex} className=\"flex items-center\">\n                              <span className={cn(\n                                \"text-xs font-bold mr-1\",\n                                getHoursColor(record.totalHours)\n                              )}>\n                                {record.totalHours.toFixed(1)}h\n                              </span>\n                              <span className=\"text-xs text-gray-500 flex-1\">\n                                {getUserName(record.userId)}\n                              </span>\n                            </div>\n                          ))\n                        ) : (\n                          // Show average in combined mode\n                          <div className=\"flex items-center\">\n                            <span className={cn(\n                              \"text-xs font-bold mr-1\",\n                              getHoursColor(getAverageHours(day.timeRecords))\n                            )}>\n                              âŒ€{getAverageHours(day.timeRecords).toFixed(1)}h\n                            </span>\n                            <span className=\"text-xs text-gray-500\">\n                              ({day.timeRecords.length} MA)\n                            </span>\n                          </div>\n                        )}\n                        {viewMode === 'hours' && day.timeRecords.length > 3 && (\n                          <span className=\"text-xs text-gray-500\">\n                            +{day.timeRecords.length - 3}\n                          </span>\n                        )}\n                      </div>\n                    )}\n                    \n                    {/* Reminder indicators */}\n                    {day.reminders.length > 0 && (\n                      <div className=\"absolute top-1 right-1\">\n                        <div className=\"w-2 h-2 bg-orange-500 rounded-full\" />\n                      </div>\n                    )}\n                    \n                    {/* No data indicator */}\n                    {day.isCurrentMonth && day.timeRecords.length === 0 && day.leaves.length === 0 && \n                     (day.date.getDay() !== 0 && day.date.getDay() !== 6) && (\n                      <span className=\"text-xs text-gray-300\">-</span>\n                    )}\n                  </div>\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Current Month Summary */}\n        <div className=\"bg-white rounded-xl p-4 mt-4 shadow-sm\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">\n            Ãœbersicht {getMonthYearText()}\n          </h3>\n          \n          {/* Leaves Summary */}\n          {(viewMode === 'leaves' || viewMode === 'both') && (\n            <div className=\"mb-4\">\n              <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Abwesenheiten</h4>\n              {mockTeamLeaves\n                .filter(leave => {\n                  const leaveStart = new Date(leave.startDate);\n                  return leaveStart.getMonth() === currentDate.getMonth() && \n                         leaveStart.getFullYear() === currentDate.getFullYear() &&\n                         leave.status === 'APPROVED';\n                })\n                .map((leave) => (\n                  <div key={leave.id} className=\"flex items-center justify-between py-2 border-b border-gray-100\">\n                    <div className=\"flex items-center\">\n                      <span className=\"text-2xl mr-3\">\n                        {leave.type === 'VACATION' ? 'ðŸ–ï¸' : 'ðŸ¥'}\n                      </span>\n                      <div>\n                        <p className=\"font-medium text-gray-900\">\n                          {getUserName(leave.userId)}\n                        </p>\n                        <p className=\"text-sm text-gray-500\">\n                          {new Date(leave.startDate).toLocaleDateString('de-DE')} - {new Date(leave.endDate).toLocaleDateString('de-DE')}\n                        </p>\n                      </div>\n                    </div>\n                    <div className={cn(\n                      \"px-2 py-1 rounded-full\",\n                      leave.type === 'VACATION' ? \"bg-blue-100\" : \"bg-red-100\"\n                    )}>\n                      <span className={cn(\n                        \"text-xs font-medium\",\n                        leave.type === 'VACATION' ? \"text-blue-700\" : \"text-red-700\"\n                      )}>\n                        {leave.type === 'VACATION' ? 'Urlaub' : 'Krank'}\n                      </span>\n                    </div>\n                  </div>\n                ))}\n            </div>\n          )}\n          \n          {/* Hours Summary */}\n          {(viewMode === 'hours' || viewMode === 'both') && (\n            <div>\n              <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Arbeitszeiten-Statistik</h4>\n              {(() => {\n                const monthRecords = calendarDays.flatMap(day => day.timeRecords);\n                const userStats = ['1', '2', '3', '4', '5', '6'].map(userId => {\n                  const userRecords = monthRecords.filter(r => r.userId === userId);\n                  const totalHours = userRecords.reduce((sum, r) => sum + r.totalHours, 0);\n                  const avgHours = userRecords.length > 0 ? totalHours / userRecords.length : 0;\n                  const workDays = userRecords.length;\n                  \n                  return {\n                    userId,\n                    totalHours,\n                    avgHours,\n                    workDays,\n                    name: getUserName(userId)\n                  };\n                }).filter(stat => stat.workDays > 0);\n                \n                return userStats.map((stat) => (\n                  <div key={stat.userId} className=\"flex items-center justify-between py-2 border-b border-gray-100\">\n                    <div className=\"flex items-center\">\n                      <span className=\"text-2xl mr-3\">â°</span>\n                      <div>\n                        <p className=\"font-medium text-gray-900\">\n                          {stat.name}\n                        </p>\n                        <p className=\"text-sm text-gray-500\">\n                          {stat.workDays} Arbeitstage\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className={cn(\n                        \"font-bold text-sm\",\n                        getHoursColor(stat.avgHours)\n                      )}>\n                        âŒ€ {stat.avgHours.toFixed(1)}h\n                      </p>\n                      <p className=\"text-xs text-gray-500\">\n                        {stat.totalHours.toFixed(1)}h gesamt\n                      </p>\n                    </div>\n                  </div>\n                ));\n              })()}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}