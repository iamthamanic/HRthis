{"ast":null,"code":"var _jsxFileName = \"/Users/halteverbotsocialmacpro/Desktop/ars vivai/HRthis/HRthis/src/screens/BenefitsScreen.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuthStore } from '../state/auth';\nimport { useCoinsStore } from '../state/coins';\nimport { useShopStore } from '../state/shop';\nimport { useCoinEventsStore } from '../state/coinEvents';\nimport { cn } from '../utils/cn';\n\n/**\n * Main benefits management screen\n * Provides interfaces for:\n * - Shopping for benefits with coins\n * - Viewing coin earning rules\n * - Transaction history\n * - Admin: Managing coins, benefits, rules, and events\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const BenefitsScreen = () => {\n  _s();\n  const {\n    user\n  } = useAuthStore();\n  const {\n    getUserBalance,\n    getUserTransactions,\n    getAllTransactions,\n    getCoinRules,\n    grantCoins,\n    addCoinRule,\n    updateCoinRule,\n    deleteCoinRule,\n    isLoading: coinsLoading\n  } = useCoinsStore();\n  const {\n    getActiveBenefits,\n    purchaseBenefit,\n    addBenefit,\n    updateBenefit,\n    deleteBenefit,\n    isLoading: shopLoading\n  } = useShopStore();\n  const {\n    getActiveEvents,\n    getUnlockedEvents,\n    getNextEvent,\n    addEvent,\n    updateEvent,\n    deleteEvent,\n    isLoading: eventsLoading\n  } = useCoinEventsStore();\n  const [activeTab, setActiveTab] = useState('shop');\n  const [userBalance, setUserBalance] = useState(0);\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  // State for coin granting\n  const [selectedUserId, setSelectedUserId] = useState('');\n  const [coinAmount, setCoinAmount] = useState('');\n  const [coinReason, setCoinReason] = useState('');\n  const [selectedRuleId, setSelectedRuleId] = useState('');\n  const [isCustomReason, setIsCustomReason] = useState(false);\n  const [error, setError] = useState('');\n\n  // State for history view (admin)\n  const [selectedHistoryUserId, setSelectedHistoryUserId] = useState('');\n\n  // State for rule management\n  const [showRuleForm, setShowRuleForm] = useState(false);\n  const [editingRule, setEditingRule] = useState(null);\n  const [ruleTitle, setRuleTitle] = useState('');\n  const [ruleDescription, setRuleDescription] = useState('');\n  const [ruleAmount, setRuleAmount] = useState('');\n\n  // State for benefit management\n  const [showBenefitForm, setShowBenefitForm] = useState(false);\n  const [editingBenefit, setEditingBenefit] = useState(null);\n  const [benefitTitle, setBenefitTitle] = useState('');\n  const [benefitDescription, setBenefitDescription] = useState('');\n  const [benefitCost, setBenefitCost] = useState('');\n  const [benefitCategory, setBenefitCategory] = useState('WELLNESS');\n  const [benefitStockLimit, setBenefitStockLimit] = useState('');\n  const [benefitUnlimited, setBenefitUnlimited] = useState(true);\n\n  // State for event management\n  const [showEventForm, setShowEventForm] = useState(false);\n  const [editingEvent, setEditingEvent] = useState(null);\n  const [eventTitle, setEventTitle] = useState('');\n  const [eventDescription, setEventDescription] = useState('');\n  const [eventRequiredCoins, setEventRequiredCoins] = useState('');\n  const [eventReward, setEventReward] = useState('');\n  useEffect(() => {\n    if (user) {\n      const balance = getUserBalance(user.id);\n      setUserBalance(balance.currentBalance);\n      setIsAdmin(user.role === 'ADMIN' || user.role === 'SUPERADMIN');\n\n      // Default to shop for regular users, manage for admins\n      if (user.role === 'ADMIN' || user.role === 'SUPERADMIN') {\n        setActiveTab('manage');\n      }\n    }\n  }, [user, getUserBalance]);\n\n  /**\n   * Formats an ISO date string to German locale format\n   * @param dateString - ISO date string to format\n   * @returns Formatted date string (dd.mm.yyyy hh:mm)\n   */\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('de-DE', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  /**\n   * Gets the display name for a user ID\n   * @param userId - The user ID to get the name for\n   * @returns The display name or 'Unbekannt' if not found\n   */\n  const getUserName = userId => {\n    const names = {\n      '1': 'Max M.',\n      '2': 'Anna A.',\n      '3': 'Tom K.',\n      '4': 'Lisa S.',\n      '5': 'Julia B.',\n      '6': 'Marco L.'\n    };\n    return names[userId] || 'Unbekannt';\n  };\n  const availableUsers = [{\n    id: '1',\n    name: 'Max M.'\n  }, {\n    id: '2',\n    name: 'Anna A.'\n  }, {\n    id: '3',\n    name: 'Tom K.'\n  }, {\n    id: '4',\n    name: 'Lisa S.'\n  }, {\n    id: '5',\n    name: 'Julia B.'\n  }, {\n    id: '6',\n    name: 'Marco L.'\n  }];\n\n  /**\n   * Handles the coin granting form submission\n   * Allows admins to grant coins based on predefined rules or custom reasons\n   * @param e - Form event\n   */\n  const handleGrantCoins = async e => {\n    e.preventDefault();\n    if (!user || !isAdmin) return;\n    setError('');\n    if (!selectedUserId) {\n      setError('Bitte wählen Sie einen Mitarbeiter aus');\n      return;\n    }\n    if (!isCustomReason && !selectedRuleId) {\n      setError('Bitte wählen Sie eine Regel aus');\n      return;\n    }\n    if (isCustomReason && (!coinAmount || !coinReason)) {\n      setError('Bitte geben Sie Anzahl und Begründung ein');\n      return;\n    }\n    let amount;\n    let reason;\n    if (isCustomReason) {\n      amount = parseInt(coinAmount);\n      if (isNaN(amount) || amount <= 0) {\n        setError('Bitte geben Sie eine gültige Coin-Anzahl ein');\n        return;\n      }\n      reason = coinReason;\n    } else {\n      // Using predefined rule for coin amount and reason\n      const selectedRule = getCoinRules().find(rule => rule.id === selectedRuleId);\n      if (!selectedRule) {\n        setError('Ungültige Regel ausgewählt');\n        return;\n      }\n      amount = selectedRule.coinAmount;\n      reason = selectedRule.title;\n    }\n    try {\n      await grantCoins(selectedUserId, amount, reason, user.id);\n      // Reset form after successful submission\n      setSelectedUserId('');\n      setCoinAmount('');\n      setCoinReason('');\n      setSelectedRuleId('');\n      setIsCustomReason(false);\n    } catch (error) {\n      setError('Fehler beim Verteilen der Coins');\n    }\n  };\n\n  /**\n   * Handles benefit purchase by a user\n   * @param benefitId - ID of the benefit to purchase\n   * @param coinCost - Cost of the benefit in coins\n   */\n  const handlePurchaseBenefit = async (benefitId, coinCost) => {\n    if (!user) return;\n    if (userBalance < coinCost) {\n      setError('Nicht genügend Coins für diesen Kauf');\n      return;\n    }\n    try {\n      await purchaseBenefit(user.id, benefitId);\n      // Update displayed balance after purchase\n      const newBalance = getUserBalance(user.id);\n      setUserBalance(newBalance.currentBalance);\n    } catch (error) {\n      setError('Fehler beim Kauf des Benefits');\n    }\n  };\n  const handleRuleSubmit = async e => {\n    e.preventDefault();\n    if (!user || !isAdmin) return;\n    setError('');\n    if (!ruleTitle || !ruleDescription || !ruleAmount) {\n      setError('Bitte füllen Sie alle Felder aus');\n      return;\n    }\n    const amount = parseInt(ruleAmount);\n    if (isNaN(amount) || amount <= 0) {\n      setError('Bitte geben Sie eine gültige Coin-Anzahl ein');\n      return;\n    }\n    try {\n      if (editingRule) {\n        await updateCoinRule(editingRule.id, {\n          title: ruleTitle,\n          description: ruleDescription,\n          coinAmount: amount\n        });\n      } else {\n        await addCoinRule({\n          title: ruleTitle,\n          description: ruleDescription,\n          coinAmount: amount,\n          isActive: true\n        });\n      }\n\n      // Reset form\n      setShowRuleForm(false);\n      setEditingRule(null);\n      setRuleTitle('');\n      setRuleDescription('');\n      setRuleAmount('');\n    } catch (error) {\n      setError('Fehler beim Speichern der Regel');\n    }\n  };\n\n  /**\n   * Prepares the form for editing an existing rule\n   * @param rule - The rule to edit\n   */\n  const handleEditRule = rule => {\n    setEditingRule(rule);\n    setRuleTitle(rule.title);\n    setRuleDescription(rule.description);\n    setRuleAmount(rule.coinAmount.toString());\n    setShowRuleForm(true);\n  };\n  const handleDeleteRule = async ruleId => {\n    if (!user || !isAdmin) return;\n    if (window.confirm('Sind Sie sicher, dass Sie diese Regel löschen möchten?')) {\n      try {\n        await deleteCoinRule(ruleId);\n      } catch (error) {\n        setError('Fehler beim Löschen der Regel');\n      }\n    }\n  };\n  const resetRuleForm = () => {\n    setShowRuleForm(false);\n    setEditingRule(null);\n    setRuleTitle('');\n    setRuleDescription('');\n    setRuleAmount('');\n    setError('');\n  };\n  const handleBenefitSubmit = async e => {\n    e.preventDefault();\n    if (!user || !isAdmin) return;\n    setError('');\n    if (!benefitTitle || !benefitDescription || !benefitCost || !benefitCategory) {\n      setError('Bitte füllen Sie alle Pflichtfelder aus');\n      return;\n    }\n    const cost = parseInt(benefitCost);\n    if (isNaN(cost) || cost <= 0) {\n      setError('Bitte geben Sie einen gültigen Coin-Preis ein');\n      return;\n    }\n    const stockLimit = benefitUnlimited ? undefined : parseInt(benefitStockLimit);\n    if (!benefitUnlimited && (isNaN(stockLimit) || stockLimit <= 0)) {\n      setError('Bitte geben Sie einen gültigen Lagerbestand ein');\n      return;\n    }\n    try {\n      if (editingBenefit) {\n        await updateBenefit(editingBenefit.id, {\n          title: benefitTitle,\n          description: benefitDescription,\n          coinCost: cost,\n          category: benefitCategory,\n          stockLimit: stockLimit,\n          currentStock: stockLimit\n        });\n      } else {\n        await addBenefit({\n          title: benefitTitle,\n          description: benefitDescription,\n          coinCost: cost,\n          category: benefitCategory,\n          isActive: true,\n          stockLimit: stockLimit,\n          currentStock: stockLimit\n        });\n      }\n\n      // Reset form\n      resetBenefitForm();\n    } catch (error) {\n      setError('Fehler beim Speichern des Benefits');\n    }\n  };\n\n  /**\n   * Prepares the form for editing an existing benefit\n   * @param benefit - The benefit to edit\n   */\n  const handleEditBenefit = benefit => {\n    var _benefit$stockLimit;\n    setEditingBenefit(benefit);\n    setBenefitTitle(benefit.title);\n    setBenefitDescription(benefit.description);\n    setBenefitCost(benefit.coinCost.toString());\n    setBenefitCategory(benefit.category);\n    setBenefitUnlimited(!benefit.stockLimit);\n    setBenefitStockLimit(((_benefit$stockLimit = benefit.stockLimit) === null || _benefit$stockLimit === void 0 ? void 0 : _benefit$stockLimit.toString()) || '');\n    setShowBenefitForm(true);\n  };\n  const handleDeleteBenefit = async benefitId => {\n    if (!user || !isAdmin) return;\n    if (window.confirm('Sind Sie sicher, dass Sie dieses Benefit löschen möchten?')) {\n      try {\n        await deleteBenefit(benefitId);\n      } catch (error) {\n        setError('Fehler beim Löschen des Benefits');\n      }\n    }\n  };\n  const resetBenefitForm = () => {\n    setShowBenefitForm(false);\n    setEditingBenefit(null);\n    setBenefitTitle('');\n    setBenefitDescription('');\n    setBenefitCost('');\n    setBenefitCategory('WELLNESS');\n    setBenefitUnlimited(true);\n    setBenefitStockLimit('');\n    setError('');\n  };\n  const handleEventSubmit = async e => {\n    e.preventDefault();\n    if (!user || !isAdmin) return;\n    setError('');\n    if (!eventTitle || !eventDescription || !eventRequiredCoins || !eventReward) {\n      setError('Bitte füllen Sie alle Felder aus');\n      return;\n    }\n    const requiredCoins = parseInt(eventRequiredCoins);\n    if (isNaN(requiredCoins) || requiredCoins <= 0) {\n      setError('Bitte geben Sie eine gültige Coin-Anzahl ein');\n      return;\n    }\n    try {\n      if (editingEvent) {\n        await updateEvent(editingEvent.id, {\n          title: eventTitle,\n          description: eventDescription,\n          requiredCoins: requiredCoins,\n          reward: eventReward\n        });\n      } else {\n        await addEvent({\n          title: eventTitle,\n          description: eventDescription,\n          requiredCoins: requiredCoins,\n          reward: eventReward,\n          isActive: true\n        });\n      }\n\n      // Reset form\n      resetEventForm();\n    } catch (error) {\n      setError('Fehler beim Speichern des Events');\n    }\n  };\n\n  /**\n   * Prepares the form for editing an existing coin event\n   * @param event - The event to edit\n   */\n  const handleEditEvent = event => {\n    setEditingEvent(event);\n    setEventTitle(event.title);\n    setEventDescription(event.description);\n    setEventRequiredCoins(event.requiredCoins.toString());\n    setEventReward(event.reward);\n    setShowEventForm(true);\n  };\n  const handleDeleteEvent = async eventId => {\n    if (!user || !isAdmin) return;\n    if (window.confirm('Sind Sie sicher, dass Sie dieses Event löschen möchten?')) {\n      try {\n        await deleteEvent(eventId);\n      } catch (error) {\n        setError('Fehler beim Löschen des Events');\n      }\n    }\n  };\n  const resetEventForm = () => {\n    setShowEventForm(false);\n    setEditingEvent(null);\n    setEventTitle('');\n    setEventDescription('');\n    setEventRequiredCoins('');\n    setEventReward('');\n    setError('');\n  };\n\n  /**\n   * Returns an emoji icon for a given benefit category\n   * @param category - The benefit category\n   * @returns Emoji icon representing the category\n   */\n  const getCategoryIcon = category => {\n    switch (category) {\n      case 'WELLNESS':\n        return '💆';\n      case 'FOOD':\n        return '🍽️';\n      case 'TECH':\n        return '💻';\n      case 'TIME_OFF':\n        return '🏖️';\n      default:\n        return '🎁';\n    }\n  };\n\n  /**\n   * Returns the display name for a given benefit category\n   * @param category - The benefit category\n   * @returns Localized category name in German\n   */\n  const getCategoryName = category => {\n    switch (category) {\n      case 'WELLNESS':\n        return 'Wellness';\n      case 'FOOD':\n        return 'Essen & Trinken';\n      case 'TECH':\n        return 'Technologie';\n      case 'TIME_OFF':\n        return 'Freizeit';\n      default:\n        return 'Sonstiges';\n    }\n  };\n  if (!user) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 bg-gray-50 min-h-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 px-4 py-6 overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-bold text-gray-900\",\n          children: \"Benefits & Coins\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white px-4 py-2 rounded-lg shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Meine Coins: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-bold text-blue-600\",\n            children: userBalance\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-red-50 border border-red-200 rounded-lg mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-800 text-sm\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex bg-white rounded-lg p-1 mb-6 shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('shop'),\n          className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors\", activeTab === 'shop' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-center font-medium text-sm\",\n            children: \"\\uD83D\\uDECD\\uFE0F Shop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('earn'),\n          className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors\", activeTab === 'earn' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-center font-medium text-sm\",\n            children: \"\\uD83D\\uDCB0 Coins bekommen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('history'),\n          className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors\", activeTab === 'history' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-center font-medium text-sm\",\n            children: \"\\uD83D\\uDCCA Historie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('manage'),\n          className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors\", activeTab === 'manage' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-center font-medium text-sm\",\n            children: \"\\u2699\\uFE0F Verwaltung\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this), activeTab === 'shop' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl p-4 text-white shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-lg\",\n              children: \"\\uD83C\\uDFAF Coin Events\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm opacity-90\",\n              children: \"Erreiche Meilensteine und erhalte Belohnungen!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 15\n          }, this), (() => {\n            const unlockedEvents = getUnlockedEvents(userBalance);\n            const nextEvent = getNextEvent(userBalance);\n            const allEvents = getActiveEvents();\n\n            // Show progress towards next milestone if available\n            if (nextEvent) {\n              const progress = userBalance / nextEvent.requiredCoins * 100;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: nextEvent.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 593,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: [userBalance, \" / \", nextEvent.requiredCoins, \" Coins\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 594,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 592,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full bg-white/20 rounded-full h-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-white rounded-full h-3 transition-all duration-500 ease-out\",\n                    style: {\n                      width: `${Math.min(progress, 100)}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 597,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 596,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs mt-2 opacity-90\",\n                  children: [\"Belohnung: \", nextEvent.reward]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 602,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 21\n              }, this);\n            } else if (unlockedEvents.length === allEvents.length && allEvents.length > 0) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-bold\",\n                  children: \"\\uD83C\\uDFC6 Alle Events freigeschaltet!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 608,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm opacity-90\",\n                  children: \"Gl\\xFCckwunsch, du hast alle Meilensteine erreicht!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 607,\n                columnNumber: 21\n              }, this);\n            } else {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-2\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm opacity-90\",\n                  children: \"Keine aktiven Events verf\\xFCgbar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 21\n              }, this);\n            }\n          })(), getUnlockedEvents(userBalance).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 pt-4 border-t border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs font-semibold mb-2\",\n              children: \"\\u2705 Freigeschaltet:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: getUnlockedEvents(userBalance).map(event => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs bg-white/20 px-2 py-1 rounded-full\",\n                children: event.title\n              }, event.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 625,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: \"Benefits Shop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 15\n          }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowBenefitForm(true),\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors\",\n            children: \"+ Neues Benefit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 13\n        }, this), showBenefitForm && isAdmin && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleBenefitSubmit,\n          className: \"bg-white rounded-xl p-6 shadow-sm space-y-4 border-2 border-blue-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: editingBenefit ? 'Benefit bearbeiten' : 'Neues Benefit erstellen'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: resetBenefitForm,\n              className: \"text-gray-500 hover:text-gray-700\",\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700 mb-2 block\",\n              children: \"Titel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 665,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: benefitTitle,\n              onChange: e => setBenefitTitle(e.target.value),\n              className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"z.B. Massage Gutschein\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700 mb-2 block\",\n              children: \"Beschreibung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: benefitDescription,\n              onChange: e => setBenefitDescription(e.target.value),\n              className: \"w-full border border-gray-300 rounded-lg px-3 py-2 h-20 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\",\n              placeholder: \"Beschreibung des Benefits...\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium text-gray-700 mb-2 block\",\n                children: \"Coin-Preis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: benefitCost,\n                onChange: e => setBenefitCost(e.target.value),\n                className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                placeholder: \"z.B. 150\",\n                min: \"1\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium text-gray-700 mb-2 block\",\n                children: \"Kategorie\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: benefitCategory,\n                onChange: e => setBenefitCategory(e.target.value),\n                className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"WELLNESS\",\n                  children: \"Wellness\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"FOOD\",\n                  children: \"Essen & Trinken\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 718,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"TECH\",\n                  children: \"Technologie\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 719,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"TIME_OFF\",\n                  children: \"Freizeit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 720,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"OTHER\",\n                  children: \"Sonstiges\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 721,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 711,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: benefitUnlimited,\n                onChange: e => setBenefitUnlimited(e.target.checked),\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700\",\n                children: \"Unbegrenzter Lagerbestand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 734,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 19\n            }, this), !benefitUnlimited && /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: benefitStockLimit,\n              onChange: e => setBenefitStockLimit(e.target.value),\n              className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"Lagerbestand (z.B. 10)\",\n              min: \"1\",\n              required: !benefitUnlimited\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: resetBenefitForm,\n              className: \"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors\",\n              children: \"Abbrechen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: shopLoading,\n              className: cn(\"flex-1 py-2 px-4 rounded-lg font-medium transition-colors\", shopLoading ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" : \"bg-blue-600 text-white hover:bg-blue-700\"),\n              children: shopLoading ? 'Speichert...' : editingBenefit ? 'Aktualisieren' : 'Erstellen'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 758,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 750,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid gap-4 md:grid-cols-2 lg:grid-cols-3\",\n          children: getActiveBenefits().map(benefit => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl p-4 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl mr-3\",\n                  children: getCategoryIcon(benefit.category)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 779,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-semibold text-gray-900\",\n                    children: benefit.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 781,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: getCategoryName(benefit.category)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 782,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 780,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 778,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-bold text-blue-600\",\n                  children: benefit.coinCost\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 786,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Coins\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 787,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 785,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 777,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mb-4\",\n              children: benefit.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 791,\n              columnNumber: 19\n            }, this), benefit.stockLimit && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mb-2\",\n              children: [\"Noch \", benefit.currentStock, \" von \", benefit.stockLimit, \" verf\\xFCgbar\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 794,\n              columnNumber: 21\n            }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditBenefit(benefit),\n                className: \"flex-1 p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium\",\n                children: \"\\u270F\\uFE0F Bearbeiten\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 802,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteBenefit(benefit.id),\n                className: \"flex-1 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium\",\n                children: \"\\uD83D\\uDDD1\\uFE0F L\\xF6schen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 808,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 801,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handlePurchaseBenefit(benefit.id, benefit.coinCost),\n              disabled: userBalance < benefit.coinCost || Boolean(benefit.stockLimit && (!benefit.currentStock || benefit.currentStock === 0)),\n              className: cn(\"w-full py-2 px-4 rounded-lg font-medium transition-colors\", userBalance >= benefit.coinCost && (!benefit.stockLimit || benefit.currentStock > 0) ? \"bg-blue-600 text-white hover:bg-blue-700\" : \"bg-gray-300 text-gray-500 cursor-not-allowed\"),\n              children: benefit.stockLimit && (!benefit.currentStock || benefit.currentStock === 0) ? 'Ausverkauft' : userBalance < benefit.coinCost ? 'Nicht genug Coins' : 'Einlösen'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 817,\n              columnNumber: 19\n            }, this)]\n          }, benefit.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }, this), activeTab === 'earn' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: \"Wie bekomme ich Coins?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 844,\n            columnNumber: 15\n          }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowRuleForm(true),\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors\",\n            children: \"+ Neue Regel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 13\n        }, this), showRuleForm && isAdmin && /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleRuleSubmit,\n          className: \"bg-white rounded-xl p-6 shadow-sm space-y-4 border-2 border-blue-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: editingRule ? 'Regel bearbeiten' : 'Neue Regel erstellen'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: resetRuleForm,\n              className: \"text-gray-500 hover:text-gray-700\",\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 862,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700 mb-2 block\",\n              children: \"Titel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 872,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: ruleTitle,\n              onChange: e => setRuleTitle(e.target.value),\n              className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"z.B. Schulung abgeschlossen\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 875,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 871,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700 mb-2 block\",\n              children: \"Beschreibung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 886,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: ruleDescription,\n              onChange: e => setRuleDescription(e.target.value),\n              className: \"w-full border border-gray-300 rounded-lg px-3 py-2 h-20 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\",\n              placeholder: \"Beschreibung der Regel...\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 889,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 885,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700 mb-2 block\",\n              children: \"Coin-Anzahl\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: ruleAmount,\n              onChange: e => setRuleAmount(e.target.value),\n              className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"z.B. 20\",\n              min: \"1\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: resetRuleForm,\n              className: \"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors\",\n              children: \"Abbrechen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 914,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: coinsLoading,\n              className: cn(\"flex-1 py-2 px-4 rounded-lg font-medium transition-colors\", coinsLoading ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" : \"bg-blue-600 text-white hover:bg-blue-700\"),\n              children: coinsLoading ? 'Speichert...' : editingRule ? 'Aktualisieren' : 'Erstellen'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 921,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 857,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: getCoinRules().map(rule => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl p-4 shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-gray-900\",\n                  children: rule.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 942,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: rule.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 943,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 941,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-lg font-bold text-green-600\",\n                    children: [\"+\", rule.coinAmount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 947,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: \"Coins\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 948,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 946,\n                  columnNumber: 23\n                }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleEditRule(rule),\n                    className: \"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\",\n                    children: \"\\u270F\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 952,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDeleteRule(rule.id),\n                    className: \"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\",\n                    children: \"\\uD83D\\uDDD1\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 958,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 951,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 945,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 940,\n              columnNumber: 19\n            }, this)\n          }, rule.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 939,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 937,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 842,\n        columnNumber: 11\n      }, this), activeTab === 'history' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: isAdmin ? 'Coin-Historie' : 'Meine Coin-Historie'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 15\n          }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedHistoryUserId,\n            onChange: e => setSelectedHistoryUserId(e.target.value),\n            className: \"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Alle Mitarbeiter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 989,\n              columnNumber: 19\n            }, this), availableUsers.map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: user.id,\n              children: user.name\n            }, user.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 991,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 984,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 977,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: (() => {\n            let transactions;\n            if (isAdmin) {\n              if (selectedHistoryUserId) {\n                transactions = getUserTransactions(selectedHistoryUserId);\n              } else {\n                transactions = getAllTransactions();\n              }\n            } else {\n              transactions = getUserTransactions(user.id);\n            }\n            return transactions.map(transaction => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-xl p-4 shadow-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2 mb-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-gray-900\",\n                      children: transaction.reason\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1017,\n                      columnNumber: 27\n                    }, this), transaction.type === 'BENEFIT_PURCHASE' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full\",\n                      children: \"Kauf\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1019,\n                      columnNumber: 29\n                    }, this), transaction.type === 'ADMIN_GRANT' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full\",\n                      children: \"Vergabe\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1024,\n                      columnNumber: 29\n                    }, this), transaction.type === 'RULE_EARNED' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full\",\n                      children: \"Verdient\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1029,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1016,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: [formatDate(transaction.createdAt), transaction.adminId && ` • von ${getUserName(transaction.adminId)}`, isAdmin && !selectedHistoryUserId && ` • ${getUserName(transaction.userId)}`]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1034,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1015,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: cn(\"text-lg font-bold\", transaction.amount > 0 ? \"text-green-600\" : \"text-red-600\"),\n                    children: [transaction.amount > 0 ? '+' : '', transaction.amount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1041,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: \"Coins\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1047,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1040,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1014,\n                columnNumber: 21\n              }, this)\n            }, transaction.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 19\n            }, this));\n          })()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 999,\n          columnNumber: 13\n        }, this), (() => {\n          let transactions;\n          if (isAdmin) {\n            if (selectedHistoryUserId) {\n              transactions = getUserTransactions(selectedHistoryUserId);\n            } else {\n              transactions = getAllTransactions();\n            }\n          } else {\n            transactions = getUserTransactions(user.id);\n          }\n          if (transactions.length === 0) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-xl p-8 flex flex-col items-center shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-4xl mb-4\",\n                children: \"\\uD83D\\uDCCA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1071,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900 mb-2\",\n                children: \"Keine Transaktionen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1072,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 text-center\",\n                children: isAdmin && selectedHistoryUserId ? `${getUserName(selectedHistoryUserId)} hat noch keine Coin-Transaktionen.` : isAdmin ? 'Es gibt noch keine Coin-Transaktionen im System.' : 'Sie haben noch keine Coin-Transaktionen.'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1075,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1070,\n              columnNumber: 19\n            }, this);\n          }\n          return null;\n        })()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 976,\n        columnNumber: 11\n      }, this), activeTab === 'manage' && isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-900 mb-4\",\n            children: \"Coins verteilen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1095,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleGrantCoins,\n            className: \"bg-white rounded-xl p-6 shadow-sm space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium text-gray-700 mb-2 block\",\n                children: \"Mitarbeiter ausw\\xE4hlen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1099,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedUserId,\n                onChange: e => setSelectedUserId(e.target.value),\n                className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Mitarbeiter ausw\\xE4hlen...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1108,\n                  columnNumber: 21\n                }, this), availableUsers.map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: user.id,\n                  children: user.name\n                }, user.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1110,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1102,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1098,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium text-gray-700 mb-2 block\",\n                children: \"Grund ausw\\xE4hlen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1118,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [getCoinRules().map(rule => /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"coinReason\",\n                    value: rule.id,\n                    checked: selectedRuleId === rule.id && !isCustomReason,\n                    onChange: e => {\n                      setSelectedRuleId(e.target.value);\n                      setIsCustomReason(false);\n                    },\n                    className: \"mt-1 mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1125,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-gray-900\",\n                      children: rule.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1137,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600\",\n                      children: rule.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1138,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-semibold text-green-600\",\n                      children: [\"+\", rule.coinAmount, \" Coins\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1139,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1136,\n                    columnNumber: 25\n                  }, this)]\n                }, rule.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1124,\n                  columnNumber: 23\n                }, this)), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"coinReason\",\n                    checked: isCustomReason,\n                    onChange: () => {\n                      setIsCustomReason(true);\n                      setSelectedRuleId('');\n                    },\n                    className: \"mt-1 mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1146,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-gray-900\",\n                      children: \"Eigene Begr\\xFCndung\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1157,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Geben Sie eine individuelle Begr\\xFCndung und Coin-Anzahl ein\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1158,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1156,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1145,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1121,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1117,\n              columnNumber: 17\n            }, this), isCustomReason && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-sm font-medium text-gray-700 mb-2 block\",\n                  children: \"Anzahl Coins\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1168,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: coinAmount,\n                  onChange: e => setCoinAmount(e.target.value),\n                  className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  placeholder: \"z.B. 25\",\n                  min: \"1\",\n                  required: isCustomReason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1171,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-sm font-medium text-gray-700 mb-2 block\",\n                  children: \"Begr\\xFCndung\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1183,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: coinReason,\n                  onChange: e => setCoinReason(e.target.value),\n                  className: \"w-full border border-gray-300 rounded-lg px-3 py-2 h-20 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\",\n                  placeholder: \"Grund f\\xFCr die Coin-Vergabe...\",\n                  required: isCustomReason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1186,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1182,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: coinsLoading,\n              className: cn(\"w-full py-2 px-4 rounded-lg font-medium transition-colors\", coinsLoading ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" : \"bg-blue-600 text-white hover:bg-blue-700\"),\n              children: coinsLoading ? 'Verteilt...' : 'Coins verteilen'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1197,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1097,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1094,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: \"Coin Events verwalten\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowEventForm(true),\n              className: \"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors\",\n              children: \"+ Neues Event\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1216,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1214,\n            columnNumber: 15\n          }, this), showEventForm && /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleEventSubmit,\n            className: \"bg-white rounded-xl p-6 shadow-sm space-y-4 border-2 border-purple-200 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: editingEvent ? 'Event bearbeiten' : 'Neues Event erstellen'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1228,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: resetEventForm,\n                className: \"text-gray-500 hover:text-gray-700\",\n                children: \"\\u2715\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1231,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1227,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium text-gray-700 mb-2 block\",\n                children: \"Titel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1241,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: eventTitle,\n                onChange: e => setEventTitle(e.target.value),\n                className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                placeholder: \"z.B. Bronze Status\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1244,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1240,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium text-gray-700 mb-2 block\",\n                children: \"Beschreibung\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1255,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: eventDescription,\n                onChange: e => setEventDescription(e.target.value),\n                className: \"w-full border border-gray-300 rounded-lg px-3 py-2 h-20 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none\",\n                placeholder: \"Beschreibung des Events...\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1258,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1254,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-sm font-medium text-gray-700 mb-2 block\",\n                  children: \"Ben\\xF6tigte Coins\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1269,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: eventRequiredCoins,\n                  onChange: e => setEventRequiredCoins(e.target.value),\n                  className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                  placeholder: \"z.B. 100\",\n                  min: \"1\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1272,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1268,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-sm font-medium text-gray-700 mb-2 block\",\n                  children: \"Belohnung\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1284,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: eventReward,\n                  onChange: e => setEventReward(e.target.value),\n                  className: \"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                  placeholder: \"z.B. Exklusiver Badge + 5% Rabatt\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1287,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1283,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1267,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: resetEventForm,\n                className: \"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors\",\n                children: \"Abbrechen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1299,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: eventsLoading,\n                className: cn(\"flex-1 py-2 px-4 rounded-lg font-medium transition-colors\", eventsLoading ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" : \"bg-purple-600 text-white hover:bg-purple-700\"),\n                children: eventsLoading ? 'Speichert...' : editingEvent ? 'Aktualisieren' : 'Erstellen'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1306,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1298,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1226,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: getActiveEvents().map(event => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-xl p-4 shadow-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-semibold text-gray-900\",\n                    children: event.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1328,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600\",\n                    children: event.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1329,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-4 mt-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium text-purple-600\",\n                      children: [\"\\uD83C\\uDFAF \", event.requiredCoins, \" Coins ben\\xF6tigt\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1331,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-500\",\n                      children: [\"\\uD83C\\uDF81 \", event.reward]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1334,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1330,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1327,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleEditEvent(event),\n                    className: \"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors\",\n                    children: \"\\u270F\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1340,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDeleteEvent(event.id),\n                    className: \"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\",\n                    children: \"\\uD83D\\uDDD1\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1346,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1339,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1326,\n                columnNumber: 21\n              }, this)\n            }, event.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1325,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1323,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1213,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1093,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 502,\n    columnNumber: 5\n  }, this);\n};\n_s(BenefitsScreen, \"5IhXuOgD05fm/NVKy8KSovyE/lE=\", false, function () {\n  return [useAuthStore, useCoinsStore, useShopStore, useCoinEventsStore];\n});\n_c = BenefitsScreen;\nvar _c;\n$RefreshReg$(_c, \"BenefitsScreen\");","map":{"version":3,"names":["React","useState","useEffect","useAuthStore","useCoinsStore","useShopStore","useCoinEventsStore","cn","jsxDEV","_jsxDEV","Fragment","_Fragment","BenefitsScreen","_s","user","getUserBalance","getUserTransactions","getAllTransactions","getCoinRules","grantCoins","addCoinRule","updateCoinRule","deleteCoinRule","isLoading","coinsLoading","getActiveBenefits","purchaseBenefit","addBenefit","updateBenefit","deleteBenefit","shopLoading","getActiveEvents","getUnlockedEvents","getNextEvent","addEvent","updateEvent","deleteEvent","eventsLoading","activeTab","setActiveTab","userBalance","setUserBalance","isAdmin","setIsAdmin","selectedUserId","setSelectedUserId","coinAmount","setCoinAmount","coinReason","setCoinReason","selectedRuleId","setSelectedRuleId","isCustomReason","setIsCustomReason","error","setError","selectedHistoryUserId","setSelectedHistoryUserId","showRuleForm","setShowRuleForm","editingRule","setEditingRule","ruleTitle","setRuleTitle","ruleDescription","setRuleDescription","ruleAmount","setRuleAmount","showBenefitForm","setShowBenefitForm","editingBenefit","setEditingBenefit","benefitTitle","setBenefitTitle","benefitDescription","setBenefitDescription","benefitCost","setBenefitCost","benefitCategory","setBenefitCategory","benefitStockLimit","setBenefitStockLimit","benefitUnlimited","setBenefitUnlimited","showEventForm","setShowEventForm","editingEvent","setEditingEvent","eventTitle","setEventTitle","eventDescription","setEventDescription","eventRequiredCoins","setEventRequiredCoins","eventReward","setEventReward","balance","id","currentBalance","role","formatDate","dateString","Date","toLocaleDateString","day","month","year","hour","minute","getUserName","userId","names","availableUsers","name","handleGrantCoins","e","preventDefault","amount","reason","parseInt","isNaN","selectedRule","find","rule","title","handlePurchaseBenefit","benefitId","coinCost","newBalance","handleRuleSubmit","description","isActive","handleEditRule","toString","handleDeleteRule","ruleId","window","confirm","resetRuleForm","handleBenefitSubmit","cost","stockLimit","undefined","category","currentStock","resetBenefitForm","handleEditBenefit","benefit","_benefit$stockLimit","handleDeleteBenefit","handleEventSubmit","requiredCoins","reward","resetEventForm","handleEditEvent","event","handleDeleteEvent","eventId","getCategoryIcon","getCategoryName","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","unlockedEvents","nextEvent","allEvents","progress","style","width","Math","min","length","map","onSubmit","type","value","onChange","target","placeholder","required","checked","disabled","Boolean","transactions","transaction","createdAt","adminId","_c","$RefreshReg$"],"sources":["/Users/halteverbotsocialmacpro/Desktop/ars vivai/HRthis/HRthis/src/screens/BenefitsScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuthStore } from '../state/auth';\nimport { useCoinsStore, type CoinRule } from '../state/coins';\nimport { useShopStore, type ShopBenefit } from '../state/shop';\nimport { useCoinEventsStore, type CoinEvent } from '../state/coinEvents';\nimport { cn } from '../utils/cn';\n\n/**\n * Main benefits management screen\n * Provides interfaces for:\n * - Shopping for benefits with coins\n * - Viewing coin earning rules\n * - Transaction history\n * - Admin: Managing coins, benefits, rules, and events\n */\nexport const BenefitsScreen = () => {\n  const { user } = useAuthStore();\n  const { \n    getUserBalance, \n    getUserTransactions, \n    getAllTransactions,\n    getCoinRules, \n    grantCoins,\n    addCoinRule,\n    updateCoinRule,\n    deleteCoinRule,\n    isLoading: coinsLoading \n  } = useCoinsStore();\n  const { \n    getActiveBenefits, \n    purchaseBenefit,\n    addBenefit,\n    updateBenefit,\n    deleteBenefit,\n    isLoading: shopLoading\n  } = useShopStore();\n  const {\n    getActiveEvents,\n    getUnlockedEvents,\n    getNextEvent,\n    addEvent,\n    updateEvent,\n    deleteEvent,\n    isLoading: eventsLoading\n  } = useCoinEventsStore();\n  \n  const [activeTab, setActiveTab] = useState<'shop' | 'earn' | 'history' | 'manage'>('shop');\n  const [userBalance, setUserBalance] = useState(0);\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  // State for coin granting\n  const [selectedUserId, setSelectedUserId] = useState('');\n  const [coinAmount, setCoinAmount] = useState('');\n  const [coinReason, setCoinReason] = useState('');\n  const [selectedRuleId, setSelectedRuleId] = useState('');\n  const [isCustomReason, setIsCustomReason] = useState(false);\n  const [error, setError] = useState('');\n\n  // State for history view (admin)\n  const [selectedHistoryUserId, setSelectedHistoryUserId] = useState('');\n\n  // State for rule management\n  const [showRuleForm, setShowRuleForm] = useState(false);\n  const [editingRule, setEditingRule] = useState<CoinRule | null>(null);\n  const [ruleTitle, setRuleTitle] = useState('');\n  const [ruleDescription, setRuleDescription] = useState('');\n  const [ruleAmount, setRuleAmount] = useState('');\n\n  // State for benefit management\n  const [showBenefitForm, setShowBenefitForm] = useState(false);\n  const [editingBenefit, setEditingBenefit] = useState<ShopBenefit | null>(null);\n  const [benefitTitle, setBenefitTitle] = useState('');\n  const [benefitDescription, setBenefitDescription] = useState('');\n  const [benefitCost, setBenefitCost] = useState('');\n  const [benefitCategory, setBenefitCategory] = useState<'WELLNESS' | 'FOOD' | 'TECH' | 'TIME_OFF' | 'OTHER'>('WELLNESS');\n  const [benefitStockLimit, setBenefitStockLimit] = useState('');\n  const [benefitUnlimited, setBenefitUnlimited] = useState(true);\n\n  // State for event management\n  const [showEventForm, setShowEventForm] = useState(false);\n  const [editingEvent, setEditingEvent] = useState<CoinEvent | null>(null);\n  const [eventTitle, setEventTitle] = useState('');\n  const [eventDescription, setEventDescription] = useState('');\n  const [eventRequiredCoins, setEventRequiredCoins] = useState('');\n  const [eventReward, setEventReward] = useState('');\n\n  useEffect(() => {\n    if (user) {\n      const balance = getUserBalance(user.id);\n      setUserBalance(balance.currentBalance);\n      setIsAdmin(user.role === 'ADMIN' || user.role === 'SUPERADMIN');\n      \n      // Default to shop for regular users, manage for admins\n      if (user.role === 'ADMIN' || user.role === 'SUPERADMIN') {\n        setActiveTab('manage');\n      }\n    }\n  }, [user, getUserBalance]);\n\n  /**\n   * Formats an ISO date string to German locale format\n   * @param dateString - ISO date string to format\n   * @returns Formatted date string (dd.mm.yyyy hh:mm)\n   */\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('de-DE', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  /**\n   * Gets the display name for a user ID\n   * @param userId - The user ID to get the name for\n   * @returns The display name or 'Unbekannt' if not found\n   */\n  const getUserName = (userId: string): string => {\n    const names: { [key: string]: string } = {\n      '1': 'Max M.',\n      '2': 'Anna A.',\n      '3': 'Tom K.',\n      '4': 'Lisa S.',\n      '5': 'Julia B.',\n      '6': 'Marco L.'\n    };\n    return names[userId] || 'Unbekannt';\n  };\n\n  const availableUsers = [\n    { id: '1', name: 'Max M.' },\n    { id: '2', name: 'Anna A.' },\n    { id: '3', name: 'Tom K.' },\n    { id: '4', name: 'Lisa S.' },\n    { id: '5', name: 'Julia B.' },\n    { id: '6', name: 'Marco L.' }\n  ];\n\n  /**\n   * Handles the coin granting form submission\n   * Allows admins to grant coins based on predefined rules or custom reasons\n   * @param e - Form event\n   */\n  const handleGrantCoins = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user || !isAdmin) return;\n    \n    setError('');\n    \n    if (!selectedUserId) {\n      setError('Bitte wählen Sie einen Mitarbeiter aus');\n      return;\n    }\n\n    if (!isCustomReason && !selectedRuleId) {\n      setError('Bitte wählen Sie eine Regel aus');\n      return;\n    }\n\n    if (isCustomReason && (!coinAmount || !coinReason)) {\n      setError('Bitte geben Sie Anzahl und Begründung ein');\n      return;\n    }\n\n    let amount: number;\n    let reason: string;\n\n    if (isCustomReason) {\n      amount = parseInt(coinAmount);\n      if (isNaN(amount) || amount <= 0) {\n        setError('Bitte geben Sie eine gültige Coin-Anzahl ein');\n        return;\n      }\n      reason = coinReason;\n    } else {\n      // Using predefined rule for coin amount and reason\n      const selectedRule = getCoinRules().find(rule => rule.id === selectedRuleId);\n      if (!selectedRule) {\n        setError('Ungültige Regel ausgewählt');\n        return;\n      }\n      amount = selectedRule.coinAmount;\n      reason = selectedRule.title;\n    }\n\n    try {\n      await grantCoins(selectedUserId, amount, reason, user.id);\n      // Reset form after successful submission\n      setSelectedUserId('');\n      setCoinAmount('');\n      setCoinReason('');\n      setSelectedRuleId('');\n      setIsCustomReason(false);\n    } catch (error) {\n      setError('Fehler beim Verteilen der Coins');\n    }\n  };\n\n  /**\n   * Handles benefit purchase by a user\n   * @param benefitId - ID of the benefit to purchase\n   * @param coinCost - Cost of the benefit in coins\n   */\n  const handlePurchaseBenefit = async (benefitId: string, coinCost: number) => {\n    if (!user) return;\n    \n    if (userBalance < coinCost) {\n      setError('Nicht genügend Coins für diesen Kauf');\n      return;\n    }\n\n    try {\n      await purchaseBenefit(user.id, benefitId);\n      // Update displayed balance after purchase\n      const newBalance = getUserBalance(user.id);\n      setUserBalance(newBalance.currentBalance);\n    } catch (error) {\n      setError('Fehler beim Kauf des Benefits');\n    }\n  };\n\n  const handleRuleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user || !isAdmin) return;\n\n    setError('');\n\n    if (!ruleTitle || !ruleDescription || !ruleAmount) {\n      setError('Bitte füllen Sie alle Felder aus');\n      return;\n    }\n\n    const amount = parseInt(ruleAmount);\n    if (isNaN(amount) || amount <= 0) {\n      setError('Bitte geben Sie eine gültige Coin-Anzahl ein');\n      return;\n    }\n\n    try {\n      if (editingRule) {\n        await updateCoinRule(editingRule.id, {\n          title: ruleTitle,\n          description: ruleDescription,\n          coinAmount: amount\n        });\n      } else {\n        await addCoinRule({\n          title: ruleTitle,\n          description: ruleDescription,\n          coinAmount: amount,\n          isActive: true\n        });\n      }\n      \n      // Reset form\n      setShowRuleForm(false);\n      setEditingRule(null);\n      setRuleTitle('');\n      setRuleDescription('');\n      setRuleAmount('');\n    } catch (error) {\n      setError('Fehler beim Speichern der Regel');\n    }\n  };\n\n  /**\n   * Prepares the form for editing an existing rule\n   * @param rule - The rule to edit\n   */\n  const handleEditRule = (rule: CoinRule) => {\n    setEditingRule(rule);\n    setRuleTitle(rule.title);\n    setRuleDescription(rule.description);\n    setRuleAmount(rule.coinAmount.toString());\n    setShowRuleForm(true);\n  };\n\n  const handleDeleteRule = async (ruleId: string) => {\n    if (!user || !isAdmin) return;\n    \n    if (window.confirm('Sind Sie sicher, dass Sie diese Regel löschen möchten?')) {\n      try {\n        await deleteCoinRule(ruleId);\n      } catch (error) {\n        setError('Fehler beim Löschen der Regel');\n      }\n    }\n  };\n\n  const resetRuleForm = () => {\n    setShowRuleForm(false);\n    setEditingRule(null);\n    setRuleTitle('');\n    setRuleDescription('');\n    setRuleAmount('');\n    setError('');\n  };\n\n  const handleBenefitSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user || !isAdmin) return;\n\n    setError('');\n\n    if (!benefitTitle || !benefitDescription || !benefitCost || !benefitCategory) {\n      setError('Bitte füllen Sie alle Pflichtfelder aus');\n      return;\n    }\n\n    const cost = parseInt(benefitCost);\n    if (isNaN(cost) || cost <= 0) {\n      setError('Bitte geben Sie einen gültigen Coin-Preis ein');\n      return;\n    }\n\n    const stockLimit = benefitUnlimited ? undefined : parseInt(benefitStockLimit);\n    if (!benefitUnlimited && (isNaN(stockLimit!) || stockLimit! <= 0)) {\n      setError('Bitte geben Sie einen gültigen Lagerbestand ein');\n      return;\n    }\n\n    try {\n      if (editingBenefit) {\n        await updateBenefit(editingBenefit.id, {\n          title: benefitTitle,\n          description: benefitDescription,\n          coinCost: cost,\n          category: benefitCategory,\n          stockLimit: stockLimit,\n          currentStock: stockLimit\n        });\n      } else {\n        await addBenefit({\n          title: benefitTitle,\n          description: benefitDescription,\n          coinCost: cost,\n          category: benefitCategory,\n          isActive: true,\n          stockLimit: stockLimit,\n          currentStock: stockLimit\n        });\n      }\n      \n      // Reset form\n      resetBenefitForm();\n    } catch (error) {\n      setError('Fehler beim Speichern des Benefits');\n    }\n  };\n\n  /**\n   * Prepares the form for editing an existing benefit\n   * @param benefit - The benefit to edit\n   */\n  const handleEditBenefit = (benefit: ShopBenefit) => {\n    setEditingBenefit(benefit);\n    setBenefitTitle(benefit.title);\n    setBenefitDescription(benefit.description);\n    setBenefitCost(benefit.coinCost.toString());\n    setBenefitCategory(benefit.category);\n    setBenefitUnlimited(!benefit.stockLimit);\n    setBenefitStockLimit(benefit.stockLimit?.toString() || '');\n    setShowBenefitForm(true);\n  };\n\n  const handleDeleteBenefit = async (benefitId: string) => {\n    if (!user || !isAdmin) return;\n    \n    if (window.confirm('Sind Sie sicher, dass Sie dieses Benefit löschen möchten?')) {\n      try {\n        await deleteBenefit(benefitId);\n      } catch (error) {\n        setError('Fehler beim Löschen des Benefits');\n      }\n    }\n  };\n\n  const resetBenefitForm = () => {\n    setShowBenefitForm(false);\n    setEditingBenefit(null);\n    setBenefitTitle('');\n    setBenefitDescription('');\n    setBenefitCost('');\n    setBenefitCategory('WELLNESS');\n    setBenefitUnlimited(true);\n    setBenefitStockLimit('');\n    setError('');\n  };\n\n  const handleEventSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user || !isAdmin) return;\n\n    setError('');\n\n    if (!eventTitle || !eventDescription || !eventRequiredCoins || !eventReward) {\n      setError('Bitte füllen Sie alle Felder aus');\n      return;\n    }\n\n    const requiredCoins = parseInt(eventRequiredCoins);\n    if (isNaN(requiredCoins) || requiredCoins <= 0) {\n      setError('Bitte geben Sie eine gültige Coin-Anzahl ein');\n      return;\n    }\n\n    try {\n      if (editingEvent) {\n        await updateEvent(editingEvent.id, {\n          title: eventTitle,\n          description: eventDescription,\n          requiredCoins: requiredCoins,\n          reward: eventReward\n        });\n      } else {\n        await addEvent({\n          title: eventTitle,\n          description: eventDescription,\n          requiredCoins: requiredCoins,\n          reward: eventReward,\n          isActive: true\n        });\n      }\n      \n      // Reset form\n      resetEventForm();\n    } catch (error) {\n      setError('Fehler beim Speichern des Events');\n    }\n  };\n\n  /**\n   * Prepares the form for editing an existing coin event\n   * @param event - The event to edit\n   */\n  const handleEditEvent = (event: CoinEvent) => {\n    setEditingEvent(event);\n    setEventTitle(event.title);\n    setEventDescription(event.description);\n    setEventRequiredCoins(event.requiredCoins.toString());\n    setEventReward(event.reward);\n    setShowEventForm(true);\n  };\n\n  const handleDeleteEvent = async (eventId: string) => {\n    if (!user || !isAdmin) return;\n    \n    if (window.confirm('Sind Sie sicher, dass Sie dieses Event löschen möchten?')) {\n      try {\n        await deleteEvent(eventId);\n      } catch (error) {\n        setError('Fehler beim Löschen des Events');\n      }\n    }\n  };\n\n  const resetEventForm = () => {\n    setShowEventForm(false);\n    setEditingEvent(null);\n    setEventTitle('');\n    setEventDescription('');\n    setEventRequiredCoins('');\n    setEventReward('');\n    setError('');\n  };\n\n  /**\n   * Returns an emoji icon for a given benefit category\n   * @param category - The benefit category\n   * @returns Emoji icon representing the category\n   */\n  const getCategoryIcon = (category: string): string => {\n    switch (category) {\n      case 'WELLNESS': return '💆';\n      case 'FOOD': return '🍽️';\n      case 'TECH': return '💻';\n      case 'TIME_OFF': return '🏖️';\n      default: return '🎁';\n    }\n  };\n\n  /**\n   * Returns the display name for a given benefit category\n   * @param category - The benefit category\n   * @returns Localized category name in German\n   */\n  const getCategoryName = (category: string): string => {\n    switch (category) {\n      case 'WELLNESS': return 'Wellness';\n      case 'FOOD': return 'Essen & Trinken';\n      case 'TECH': return 'Technologie';\n      case 'TIME_OFF': return 'Freizeit';\n      default: return 'Sonstiges';\n    }\n  };\n\n  if (!user) return null;\n\n  return (\n    <div className=\"flex-1 bg-gray-50 min-h-screen\">\n      <div className=\"flex-1 px-4 py-6 overflow-y-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h1 className=\"text-xl font-bold text-gray-900\">\n            Benefits & Coins\n          </h1>\n          <div className=\"bg-white px-4 py-2 rounded-lg shadow-sm\">\n            <span className=\"text-sm text-gray-500\">Meine Coins: </span>\n            <span className=\"text-lg font-bold text-blue-600\">{userBalance}</span>\n          </div>\n        </div>\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg mb-4\">\n            <p className=\"text-red-800 text-sm\">{error}</p>\n          </div>\n        )}\n\n        {/* Tab Navigation */}\n        <div className=\"flex bg-white rounded-lg p-1 mb-6 shadow-sm\">\n          <button\n            onClick={() => setActiveTab('shop')}\n            className={cn(\n              \"flex-1 py-2 px-3 rounded-md transition-colors\",\n              activeTab === 'shop' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n            )}\n          >\n            <span className=\"text-center font-medium text-sm\">\n              🛍️ Shop\n            </span>\n          </button>\n          <button\n            onClick={() => setActiveTab('earn')}\n            className={cn(\n              \"flex-1 py-2 px-3 rounded-md transition-colors\",\n              activeTab === 'earn' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n            )}\n          >\n            <span className=\"text-center font-medium text-sm\">\n              💰 Coins bekommen\n            </span>\n          </button>\n          <button\n            onClick={() => setActiveTab('history')}\n            className={cn(\n              \"flex-1 py-2 px-3 rounded-md transition-colors\",\n              activeTab === 'history' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n            )}\n          >\n            <span className=\"text-center font-medium text-sm\">\n              📊 Historie\n            </span>\n          </button>\n          {isAdmin && (\n            <button\n              onClick={() => setActiveTab('manage')}\n              className={cn(\n                \"flex-1 py-2 px-3 rounded-md transition-colors\",\n                activeTab === 'manage' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n              )}\n            >\n              <span className=\"text-center font-medium text-sm\">\n                ⚙️ Verwaltung\n              </span>\n            </button>\n          )}\n        </div>\n\n        {/* Shop Tab */}\n        {activeTab === 'shop' && (\n          <div className=\"space-y-4\">\n            {/* Coin Events Progress Bar */}\n            <div className=\"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl p-4 text-white shadow-lg\">\n              <div className=\"mb-3\">\n                <h3 className=\"font-semibold text-lg\">🎯 Coin Events</h3>\n                <p className=\"text-sm opacity-90\">Erreiche Meilensteine und erhalte Belohnungen!</p>\n              </div>\n              \n              {(() => {\n                const unlockedEvents = getUnlockedEvents(userBalance);\n                const nextEvent = getNextEvent(userBalance);\n                const allEvents = getActiveEvents();\n                \n                // Show progress towards next milestone if available\n                if (nextEvent) {\n                  const progress = (userBalance / nextEvent.requiredCoins) * 100;\n                  \n                  return (\n                    <div>\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <span className=\"text-sm font-medium\">{nextEvent.title}</span>\n                        <span className=\"text-sm\">{userBalance} / {nextEvent.requiredCoins} Coins</span>\n                      </div>\n                      <div className=\"w-full bg-white/20 rounded-full h-3\">\n                        <div \n                          className=\"bg-white rounded-full h-3 transition-all duration-500 ease-out\"\n                          style={{ width: `${Math.min(progress, 100)}%` }}\n                        />\n                      </div>\n                      <p className=\"text-xs mt-2 opacity-90\">Belohnung: {nextEvent.reward}</p>\n                    </div>\n                  );\n                } else if (unlockedEvents.length === allEvents.length && allEvents.length > 0) {\n                  return (\n                    <div className=\"text-center py-2\">\n                      <p className=\"text-lg font-bold\">🏆 Alle Events freigeschaltet!</p>\n                      <p className=\"text-sm opacity-90\">Glückwunsch, du hast alle Meilensteine erreicht!</p>\n                    </div>\n                  );\n                } else {\n                  return (\n                    <div className=\"text-center py-2\">\n                      <p className=\"text-sm opacity-90\">Keine aktiven Events verfügbar</p>\n                    </div>\n                  );\n                }\n              })()}\n              \n              {/* Show unlocked events */}\n              {getUnlockedEvents(userBalance).length > 0 && (\n                <div className=\"mt-4 pt-4 border-t border-white/20\">\n                  <p className=\"text-xs font-semibold mb-2\">✅ Freigeschaltet:</p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {getUnlockedEvents(userBalance).map((event) => (\n                      <span key={event.id} className=\"text-xs bg-white/20 px-2 py-1 rounded-full\">\n                        {event.title}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Benefits Shop</h2>\n              {isAdmin && (\n                <button\n                  onClick={() => setShowBenefitForm(true)}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors\"\n                >\n                  + Neues Benefit\n                </button>\n              )}\n            </div>\n\n            {/* Benefit Form */}\n            {showBenefitForm && isAdmin && (\n              <form onSubmit={handleBenefitSubmit} className=\"bg-white rounded-xl p-6 shadow-sm space-y-4 border-2 border-blue-200\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">\n                    {editingBenefit ? 'Benefit bearbeiten' : 'Neues Benefit erstellen'}\n                  </h3>\n                  <button\n                    type=\"button\"\n                    onClick={resetBenefitForm}\n                    className=\"text-gray-500 hover:text-gray-700\"\n                  >\n                    ✕\n                  </button>\n                </div>\n                \n                <div>\n                  <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                    Titel\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={benefitTitle}\n                    onChange={(e) => setBenefitTitle(e.target.value)}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"z.B. Massage Gutschein\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                    Beschreibung\n                  </label>\n                  <textarea\n                    value={benefitDescription}\n                    onChange={(e) => setBenefitDescription(e.target.value)}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 h-20 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n                    placeholder=\"Beschreibung des Benefits...\"\n                    required\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                      Coin-Preis\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={benefitCost}\n                      onChange={(e) => setBenefitCost(e.target.value)}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      placeholder=\"z.B. 150\"\n                      min=\"1\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                      Kategorie\n                    </label>\n                    <select\n                      value={benefitCategory}\n                      onChange={(e) => setBenefitCategory(e.target.value as 'WELLNESS' | 'FOOD' | 'TECH' | 'TIME_OFF' | 'OTHER')}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      required\n                    >\n                      <option value=\"WELLNESS\">Wellness</option>\n                      <option value=\"FOOD\">Essen & Trinken</option>\n                      <option value=\"TECH\">Technologie</option>\n                      <option value=\"TIME_OFF\">Freizeit</option>\n                      <option value=\"OTHER\">Sonstiges</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"flex items-center mb-2\">\n                    <input\n                      type=\"checkbox\"\n                      checked={benefitUnlimited}\n                      onChange={(e) => setBenefitUnlimited(e.target.checked)}\n                      className=\"mr-2\"\n                    />\n                    <span className=\"text-sm font-medium text-gray-700\">Unbegrenzter Lagerbestand</span>\n                  </label>\n                  \n                  {!benefitUnlimited && (\n                    <input\n                      type=\"number\"\n                      value={benefitStockLimit}\n                      onChange={(e) => setBenefitStockLimit(e.target.value)}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      placeholder=\"Lagerbestand (z.B. 10)\"\n                      min=\"1\"\n                      required={!benefitUnlimited}\n                    />\n                  )}\n                </div>\n\n                <div className=\"flex space-x-3\">\n                  <button\n                    type=\"button\"\n                    onClick={resetBenefitForm}\n                    className=\"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors\"\n                  >\n                    Abbrechen\n                  </button>\n                  <button\n                    type=\"submit\"\n                    disabled={shopLoading}\n                    className={cn(\n                      \"flex-1 py-2 px-4 rounded-lg font-medium transition-colors\",\n                      shopLoading \n                        ? \"bg-gray-300 text-gray-500 cursor-not-allowed\"\n                        : \"bg-blue-600 text-white hover:bg-blue-700\"\n                    )}\n                  >\n                    {shopLoading ? 'Speichert...' : editingBenefit ? 'Aktualisieren' : 'Erstellen'}\n                  </button>\n                </div>\n              </form>\n            )}\n            \n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n              {getActiveBenefits().map((benefit) => (\n                <div key={benefit.id} className=\"bg-white rounded-xl p-4 shadow-sm\">\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div className=\"flex items-center\">\n                      <span className=\"text-2xl mr-3\">{getCategoryIcon(benefit.category)}</span>\n                      <div>\n                        <h3 className=\"font-semibold text-gray-900\">{benefit.title}</h3>\n                        <p className=\"text-xs text-gray-500\">{getCategoryName(benefit.category)}</p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"text-lg font-bold text-blue-600\">{benefit.coinCost}</p>\n                      <p className=\"text-xs text-gray-500\">Coins</p>\n                    </div>\n                  </div>\n                  \n                  <p className=\"text-sm text-gray-600 mb-4\">{benefit.description}</p>\n                  \n                  {benefit.stockLimit && (\n                    <p className=\"text-xs text-gray-500 mb-2\">\n                      Noch {benefit.currentStock} von {benefit.stockLimit} verfügbar\n                    </p>\n                  )}\n                  \n                  {/* Admin Controls */}\n                  {isAdmin && (\n                    <div className=\"flex gap-2 mb-2\">\n                      <button\n                        onClick={() => handleEditBenefit(benefit)}\n                        className=\"flex-1 p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors text-sm font-medium\"\n                      >\n                        ✏️ Bearbeiten\n                      </button>\n                      <button\n                        onClick={() => handleDeleteBenefit(benefit.id)}\n                        className=\"flex-1 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium\"\n                      >\n                        🗑️ Löschen\n                      </button>\n                    </div>\n                  )}\n                  \n                  <button\n                    onClick={() => handlePurchaseBenefit(benefit.id, benefit.coinCost)}\n                    disabled={userBalance < benefit.coinCost || Boolean(benefit.stockLimit && (!benefit.currentStock || benefit.currentStock === 0))}\n                    className={cn(\n                      \"w-full py-2 px-4 rounded-lg font-medium transition-colors\",\n                      userBalance >= benefit.coinCost && (!benefit.stockLimit || benefit.currentStock! > 0)\n                        ? \"bg-blue-600 text-white hover:bg-blue-700\"\n                        : \"bg-gray-300 text-gray-500 cursor-not-allowed\"\n                    )}\n                  >\n                    {benefit.stockLimit && (!benefit.currentStock || benefit.currentStock === 0)\n                      ? 'Ausverkauft'\n                      : userBalance < benefit.coinCost \n                        ? 'Nicht genug Coins' \n                        : 'Einlösen'\n                    }\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Earn Tab */}\n        {activeTab === 'earn' && (\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Wie bekomme ich Coins?</h2>\n              {isAdmin && (\n                <button\n                  onClick={() => setShowRuleForm(true)}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors\"\n                >\n                  + Neue Regel\n                </button>\n              )}\n            </div>\n\n            {/* Rule Form */}\n            {showRuleForm && isAdmin && (\n              <form onSubmit={handleRuleSubmit} className=\"bg-white rounded-xl p-6 shadow-sm space-y-4 border-2 border-blue-200\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">\n                    {editingRule ? 'Regel bearbeiten' : 'Neue Regel erstellen'}\n                  </h3>\n                  <button\n                    type=\"button\"\n                    onClick={resetRuleForm}\n                    className=\"text-gray-500 hover:text-gray-700\"\n                  >\n                    ✕\n                  </button>\n                </div>\n                \n                <div>\n                  <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                    Titel\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={ruleTitle}\n                    onChange={(e) => setRuleTitle(e.target.value)}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"z.B. Schulung abgeschlossen\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                    Beschreibung\n                  </label>\n                  <textarea\n                    value={ruleDescription}\n                    onChange={(e) => setRuleDescription(e.target.value)}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 h-20 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n                    placeholder=\"Beschreibung der Regel...\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                    Coin-Anzahl\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={ruleAmount}\n                    onChange={(e) => setRuleAmount(e.target.value)}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"z.B. 20\"\n                    min=\"1\"\n                    required\n                  />\n                </div>\n\n                <div className=\"flex space-x-3\">\n                  <button\n                    type=\"button\"\n                    onClick={resetRuleForm}\n                    className=\"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors\"\n                  >\n                    Abbrechen\n                  </button>\n                  <button\n                    type=\"submit\"\n                    disabled={coinsLoading}\n                    className={cn(\n                      \"flex-1 py-2 px-4 rounded-lg font-medium transition-colors\",\n                      coinsLoading \n                        ? \"bg-gray-300 text-gray-500 cursor-not-allowed\"\n                        : \"bg-blue-600 text-white hover:bg-blue-700\"\n                    )}\n                  >\n                    {coinsLoading ? 'Speichert...' : editingRule ? 'Aktualisieren' : 'Erstellen'}\n                  </button>\n                </div>\n              </form>\n            )}\n            \n            <div className=\"space-y-3\">\n              {getCoinRules().map((rule) => (\n                <div key={rule.id} className=\"bg-white rounded-xl p-4 shadow-sm\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-semibold text-gray-900\">{rule.title}</h3>\n                      <p className=\"text-sm text-gray-600\">{rule.description}</p>\n                    </div>\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"text-right\">\n                        <p className=\"text-lg font-bold text-green-600\">+{rule.coinAmount}</p>\n                        <p className=\"text-xs text-gray-500\">Coins</p>\n                      </div>\n                      {isAdmin && (\n                        <div className=\"flex gap-2\">\n                          <button\n                            onClick={() => handleEditRule(rule)}\n                            className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\n                          >\n                            ✏️\n                          </button>\n                          <button\n                            onClick={() => handleDeleteRule(rule.id)}\n                            className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                          >\n                            🗑️\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* History Tab */}\n        {activeTab === 'history' && (\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">\n                {isAdmin ? 'Coin-Historie' : 'Meine Coin-Historie'}\n              </h2>\n              \n              {/* Admin User Selection */}\n              {isAdmin && (\n                <select\n                  value={selectedHistoryUserId}\n                  onChange={(e) => setSelectedHistoryUserId(e.target.value)}\n                  className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">Alle Mitarbeiter</option>\n                  {availableUsers.map((user) => (\n                    <option key={user.id} value={user.id}>\n                      {user.name}\n                    </option>\n                  ))}\n                </select>\n              )}\n            </div>\n            \n            <div className=\"space-y-3\">\n              {(() => {\n                let transactions;\n                if (isAdmin) {\n                  if (selectedHistoryUserId) {\n                    transactions = getUserTransactions(selectedHistoryUserId);\n                  } else {\n                    transactions = getAllTransactions();\n                  }\n                } else {\n                  transactions = getUserTransactions(user.id);\n                }\n                \n                return transactions.map((transaction) => (\n                  <div key={transaction.id} className=\"bg-white rounded-xl p-4 shadow-sm\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <p className=\"font-medium text-gray-900\">{transaction.reason}</p>\n                          {transaction.type === 'BENEFIT_PURCHASE' && (\n                            <span className=\"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full\">\n                              Kauf\n                            </span>\n                          )}\n                          {transaction.type === 'ADMIN_GRANT' && (\n                            <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full\">\n                              Vergabe\n                            </span>\n                          )}\n                          {transaction.type === 'RULE_EARNED' && (\n                            <span className=\"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full\">\n                              Verdient\n                            </span>\n                          )}\n                        </div>\n                        <p className=\"text-sm text-gray-500\">\n                          {formatDate(transaction.createdAt)}\n                          {transaction.adminId && ` • von ${getUserName(transaction.adminId)}`}\n                          {isAdmin && !selectedHistoryUserId && ` • ${getUserName(transaction.userId)}`}\n                        </p>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className={cn(\n                          \"text-lg font-bold\",\n                          transaction.amount > 0 ? \"text-green-600\" : \"text-red-600\"\n                        )}>\n                          {transaction.amount > 0 ? '+' : ''}{transaction.amount}\n                        </p>\n                        <p className=\"text-xs text-gray-500\">Coins</p>\n                      </div>\n                    </div>\n                  </div>\n                ));\n              })()}\n            </div>\n            \n            {/* No transactions message */}\n            {(() => {\n              let transactions;\n              if (isAdmin) {\n                if (selectedHistoryUserId) {\n                  transactions = getUserTransactions(selectedHistoryUserId);\n                } else {\n                  transactions = getAllTransactions();\n                }\n              } else {\n                transactions = getUserTransactions(user.id);\n              }\n              \n              if (transactions.length === 0) {\n                return (\n                  <div className=\"bg-white rounded-xl p-8 flex flex-col items-center shadow-sm\">\n                    <span className=\"text-4xl mb-4\">📊</span>\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                      Keine Transaktionen\n                    </h3>\n                    <p className=\"text-gray-600 text-center\">\n                      {isAdmin && selectedHistoryUserId \n                        ? `${getUserName(selectedHistoryUserId)} hat noch keine Coin-Transaktionen.`\n                        : isAdmin \n                          ? 'Es gibt noch keine Coin-Transaktionen im System.'\n                          : 'Sie haben noch keine Coin-Transaktionen.'\n                      }\n                    </p>\n                  </div>\n                );\n              }\n              return null;\n            })()}\n          </div>\n        )}\n\n        {/* Manage Tab (Admin only) */}\n        {activeTab === 'manage' && isAdmin && (\n          <div className=\"space-y-6\">\n            <div>\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Coins verteilen</h2>\n              \n              <form onSubmit={handleGrantCoins} className=\"bg-white rounded-xl p-6 shadow-sm space-y-4\">\n                <div>\n                  <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                    Mitarbeiter auswählen\n                  </label>\n                  <select\n                    value={selectedUserId}\n                    onChange={(e) => setSelectedUserId(e.target.value)}\n                    className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    required\n                  >\n                    <option value=\"\">Mitarbeiter auswählen...</option>\n                    {availableUsers.map((user) => (\n                      <option key={user.id} value={user.id}>\n                        {user.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                    Grund auswählen\n                  </label>\n                  <div className=\"space-y-2\">\n                    {/* Rule selection */}\n                    {getCoinRules().map((rule) => (\n                      <label key={rule.id} className=\"flex items-start\">\n                        <input\n                          type=\"radio\"\n                          name=\"coinReason\"\n                          value={rule.id}\n                          checked={selectedRuleId === rule.id && !isCustomReason}\n                          onChange={(e) => {\n                            setSelectedRuleId(e.target.value);\n                            setIsCustomReason(false);\n                          }}\n                          className=\"mt-1 mr-3\"\n                        />\n                        <div className=\"flex-1\">\n                          <p className=\"font-medium text-gray-900\">{rule.title}</p>\n                          <p className=\"text-sm text-gray-600\">{rule.description}</p>\n                          <p className=\"text-sm font-semibold text-green-600\">+{rule.coinAmount} Coins</p>\n                        </div>\n                      </label>\n                    ))}\n                    \n                    {/* Custom reason option */}\n                    <label className=\"flex items-start\">\n                      <input\n                        type=\"radio\"\n                        name=\"coinReason\"\n                        checked={isCustomReason}\n                        onChange={() => {\n                          setIsCustomReason(true);\n                          setSelectedRuleId('');\n                        }}\n                        className=\"mt-1 mr-3\"\n                      />\n                      <div className=\"flex-1\">\n                        <p className=\"font-medium text-gray-900\">Eigene Begründung</p>\n                        <p className=\"text-sm text-gray-600\">Geben Sie eine individuelle Begründung und Coin-Anzahl ein</p>\n                      </div>\n                    </label>\n                  </div>\n                </div>\n\n                {/* Show custom reason fields only when selected */}\n                {isCustomReason && (\n                  <>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                        Anzahl Coins\n                      </label>\n                      <input\n                        type=\"number\"\n                        value={coinAmount}\n                        onChange={(e) => setCoinAmount(e.target.value)}\n                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        placeholder=\"z.B. 25\"\n                        min=\"1\"\n                        required={isCustomReason}\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                        Begründung\n                      </label>\n                      <textarea\n                        value={coinReason}\n                        onChange={(e) => setCoinReason(e.target.value)}\n                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2 h-20 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n                        placeholder=\"Grund für die Coin-Vergabe...\"\n                        required={isCustomReason}\n                      />\n                    </div>\n                  </>\n                )}\n\n                <button\n                  type=\"submit\"\n                  disabled={coinsLoading}\n                  className={cn(\n                    \"w-full py-2 px-4 rounded-lg font-medium transition-colors\",\n                    coinsLoading \n                      ? \"bg-gray-300 text-gray-500 cursor-not-allowed\"\n                      : \"bg-blue-600 text-white hover:bg-blue-700\"\n                  )}\n                >\n                  {coinsLoading ? 'Verteilt...' : 'Coins verteilen'}\n                </button>\n              </form>\n            </div>\n\n            {/* Coin Events Management */}\n            <div>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-lg font-semibold text-gray-900\">Coin Events verwalten</h2>\n                <button\n                  onClick={() => setShowEventForm(true)}\n                  className=\"px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors\"\n                >\n                  + Neues Event\n                </button>\n              </div>\n\n              {/* Event Form */}\n              {showEventForm && (\n                <form onSubmit={handleEventSubmit} className=\"bg-white rounded-xl p-6 shadow-sm space-y-4 border-2 border-purple-200 mb-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <h3 className=\"text-lg font-semibold text-gray-900\">\n                      {editingEvent ? 'Event bearbeiten' : 'Neues Event erstellen'}\n                    </h3>\n                    <button\n                      type=\"button\"\n                      onClick={resetEventForm}\n                      className=\"text-gray-500 hover:text-gray-700\"\n                    >\n                      ✕\n                    </button>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                      Titel\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={eventTitle}\n                      onChange={(e) => setEventTitle(e.target.value)}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                      placeholder=\"z.B. Bronze Status\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                      Beschreibung\n                    </label>\n                    <textarea\n                      value={eventDescription}\n                      onChange={(e) => setEventDescription(e.target.value)}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 h-20 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none\"\n                      placeholder=\"Beschreibung des Events...\"\n                      required\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                        Benötigte Coins\n                      </label>\n                      <input\n                        type=\"number\"\n                        value={eventRequiredCoins}\n                        onChange={(e) => setEventRequiredCoins(e.target.value)}\n                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                        placeholder=\"z.B. 100\"\n                        min=\"1\"\n                        required\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700 mb-2 block\">\n                        Belohnung\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={eventReward}\n                        onChange={(e) => setEventReward(e.target.value)}\n                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                        placeholder=\"z.B. Exklusiver Badge + 5% Rabatt\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"flex space-x-3\">\n                    <button\n                      type=\"button\"\n                      onClick={resetEventForm}\n                      className=\"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors\"\n                    >\n                      Abbrechen\n                    </button>\n                    <button\n                      type=\"submit\"\n                      disabled={eventsLoading}\n                      className={cn(\n                        \"flex-1 py-2 px-4 rounded-lg font-medium transition-colors\",\n                        eventsLoading \n                          ? \"bg-gray-300 text-gray-500 cursor-not-allowed\"\n                          : \"bg-purple-600 text-white hover:bg-purple-700\"\n                      )}\n                    >\n                      {eventsLoading ? 'Speichert...' : editingEvent ? 'Aktualisieren' : 'Erstellen'}\n                    </button>\n                  </div>\n                </form>\n              )}\n\n              {/* Events List */}\n              <div className=\"space-y-3\">\n                {getActiveEvents().map((event) => (\n                  <div key={event.id} className=\"bg-white rounded-xl p-4 shadow-sm\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-semibold text-gray-900\">{event.title}</h3>\n                        <p className=\"text-sm text-gray-600\">{event.description}</p>\n                        <div className=\"flex items-center gap-4 mt-2\">\n                          <span className=\"text-sm font-medium text-purple-600\">\n                            🎯 {event.requiredCoins} Coins benötigt\n                          </span>\n                          <span className=\"text-sm text-gray-500\">\n                            🎁 {event.reward}\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"flex gap-2\">\n                        <button\n                          onClick={() => handleEditEvent(event)}\n                          className=\"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors\"\n                        >\n                          ✏️\n                        </button>\n                        <button\n                          onClick={() => handleDeleteEvent(event.id)}\n                          className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                        >\n                          🗑️\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}