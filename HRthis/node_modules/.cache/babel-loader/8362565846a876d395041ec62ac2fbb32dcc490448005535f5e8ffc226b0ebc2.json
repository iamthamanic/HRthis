{"ast":null,"code":"var _jsxFileName = \"/Users/halteverbotsocialmacpro/Desktop/ars vivai/HRthis/HRthis/src/components/YearView.tsx\";\nimport React from 'react';\nimport { cn } from '../utils/cn';\n\n/**\n * Props for the YearView component\n */\n\n/**\n * Type representing the result of leave type analysis for a week\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n/**\n * YearView component displays a calendar overview showing vacation/sick leave \n * for all users across all weeks of a year in a horizontal scrollable format.\n * \n * Features:\n * - Horizontal scrolling grid with 53 weeks\n * - Color-coded leave types (blue for vacation, red for sick)\n * - Current week highlighting\n * - Tooltips with detailed leave information\n * - Month headers for easy orientation\n */\nexport const YearView = ({\n  year,\n  yearData,\n  allUsers,\n  viewMode,\n  getUserName\n}) => {\n  // Generate week numbers array (1-53 weeks per year)\n  const weeks = Array.from({\n    length: 53\n  }, (_, i) => i + 1);\n\n  /**\n   * Calculates the start and end dates for a given week number in a year.\n   * Uses ISO 8601 week calculation where week starts on Monday.\n   * \n   * @param week - Week number (1-53)\n   * @param year - Year to calculate for\n   * @returns Object with start and end dates of the week\n   */\n  const getWeekDateRange = (week, year) => {\n    const jan1 = new Date(year, 0, 1);\n    const days = (week - 1) * 7;\n    const weekStart = new Date(jan1.getTime() + days * 24 * 60 * 60 * 1000);\n\n    // Adjust to Monday (ISO 8601 week starts on Monday)\n    // Sunday = 0, Monday = 1, so we need to adjust accordingly\n    const dayOfWeek = weekStart.getDay();\n    const diff = (dayOfWeek === 0 ? -6 : 1) - dayOfWeek;\n    weekStart.setDate(weekStart.getDate() + diff);\n    const weekEnd = new Date(weekStart);\n    weekEnd.setDate(weekEnd.getDate() + 6);\n    return {\n      start: weekStart,\n      end: weekEnd\n    };\n  };\n\n  /**\n   * Formats a week's date range as a readable string for German locale.\n   * \n   * @param week - Week number to format\n   * @returns Formatted string like \"01.01 - 07.01\"\n   */\n  const formatWeekRange = week => {\n    const {\n      start,\n      end\n    } = getWeekDateRange(week, year);\n    const startStr = start.toLocaleDateString('de-DE', {\n      day: '2-digit',\n      month: '2-digit'\n    });\n    const endStr = end.toLocaleDateString('de-DE', {\n      day: '2-digit',\n      month: '2-digit'\n    });\n    return `${startStr} - ${endStr}`;\n  };\n\n  /**\n   * Analyzes leave requests for a week and determines the predominant leave type.\n   * Handles cases where multiple leave types exist in the same week.\n   * \n   * @param leaves - Array of leave requests for the week\n   * @returns The leave type or null if no leaves\n   */\n  const getWeekLeaveType = leaves => {\n    if (leaves.length === 0) return null;\n\n    // Check for different leave types in the week\n    const hasVacation = leaves.some(leave => leave.type === 'VACATION');\n    const hasSick = leaves.some(leave => leave.type === 'SICK');\n\n    // Priority: mixed > vacation > sick\n    if (hasVacation && hasSick) return 'mixed';\n    if (hasVacation) return 'vacation';\n    if (hasSick) return 'sick';\n    return null;\n  };\n\n  /**\n   * Returns appropriate CSS classes for week cell styling based on leave type and current week status.\n   * \n   * @param leaveType - Type of leave for the week\n   * @param isCurrentWeek - Whether this is the current week\n   * @returns CSS class string for styling\n   */\n  const getCellColor = (leaveType, isCurrentWeek) => {\n    if (isCurrentWeek) {\n      return 'bg-blue-100 border-blue-300';\n    }\n    switch (leaveType) {\n      case 'vacation':\n        return 'bg-blue-200';\n      case 'sick':\n        return 'bg-red-200';\n      case 'mixed':\n        return 'bg-gradient-to-r from-blue-200 to-red-200';\n      default:\n        return 'bg-white hover:bg-gray-50';\n    }\n  };\n\n  /**\n   * Calculates the current week number using ISO 8601 standard.\n   * \n   * @returns Current week number (1-53)\n   */\n  const getCurrentWeekNumber = () => {\n    const now = new Date();\n    const start = new Date(now.getFullYear(), 0, 1);\n    const days = Math.floor((now.getTime() - start.getTime()) / (24 * 60 * 60 * 1000));\n    return Math.ceil((days + start.getDay() + 1) / 7);\n  };\n  const currentWeek = getCurrentWeekNumber();\n\n  // Month names in German for display\n  const monthNames = ['Jan', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-w-max\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-1 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-32 text-sm font-medium text-gray-500 text-center flex-shrink-0\",\n            children: viewMode === 'team' ? 'Mitarbeiter' : 'Benutzer'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), weeks.map(week => {\n            const {\n              start\n            } = getWeekDateRange(week, year);\n            const month = start.getMonth();\n\n            // Show month name only for first week of each month to avoid clutter\n            const isFirstWeekOfMonth = week === 1 || week > 1 && getWeekDateRange(week - 1, year).start.getMonth() !== month;\n            const isCurrentYear = year === new Date().getFullYear();\n            const isCurrentWeekHighlighted = isCurrentYear && week === currentWeek;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 text-xs font-medium text-gray-500 text-center flex-shrink-0\",\n              children: [isFirstWeekOfMonth && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1\",\n                children: monthNames[month]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: cn(\"text-xs p-1 rounded\", isCurrentWeekHighlighted ? \"bg-blue-500 text-white font-bold\" : \"text-gray-400\"),\n                children: week\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this)]\n            }, week, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1\",\n          children: allUsers.map(user => {\n            // Safely get user name with fallback\n            const userName = getUserName(user.id);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-1 items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 text-sm font-medium text-gray-700 p-2 bg-gray-50 rounded text-center truncate flex-shrink-0\",\n                children: userName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this), weeks.map(week => {\n                var _yearData$user$id$wee, _yearData$user$id;\n                // Safely access user's vacation data for this week\n                const userWeekData = (_yearData$user$id$wee = (_yearData$user$id = yearData[user.id]) === null || _yearData$user$id === void 0 ? void 0 : _yearData$user$id[week]) !== null && _yearData$user$id$wee !== void 0 ? _yearData$user$id$wee : [];\n                const leaveType = getWeekLeaveType(userWeekData);\n                const isCurrentYear = year === new Date().getFullYear();\n                const isCurrentWeekCell = isCurrentYear && week === currentWeek;\n\n                // Create tooltip content based on leave data\n                const tooltipContent = userWeekData.length > 0 ? userWeekData.map(leave => {\n                  const leaveTypeText = leave.type === 'VACATION' ? 'Urlaub' : leave.type === 'SICK' ? 'Krank' : 'Abwesenheit';\n                  return `${leaveTypeText}: ${leave.startDate} - ${leave.endDate}`;\n                }).join('\\n') : `KW ${week}: ${formatWeekRange(week)}`;\n\n                // Select appropriate emoji based on leave type\n                const getLeaveEmoji = type => {\n                  switch (type) {\n                    case 'vacation':\n                      return '🏖️';\n                    case 'sick':\n                      return '🏥';\n                    case 'mixed':\n                      return '📅';\n                    default:\n                      return '';\n                  }\n                };\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: cn(\"w-8 h-8 border border-gray-200 rounded text-xs flex items-center justify-center cursor-pointer transition-colors flex-shrink-0\", getCellColor(leaveType, isCurrentWeekCell)),\n                  title: tooltipContent,\n                  role: \"gridcell\",\n                  \"aria-label\": `${userName}, Woche ${week}: ${userWeekData.length > 0 ? `${userWeekData.length} Abwesenheit(en)` : 'Keine Abwesenheit'}`,\n                  children: userWeekData.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs\",\n                    \"aria-hidden\": \"true\",\n                    children: getLeaveEmoji(leaveType)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 27\n                  }, this)\n                }, `${user.id}-${week}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 23\n                }, this);\n              })]\n            }, user.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl p-4 mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-sm font-medium text-gray-700 mb-3\",\n        children: \"Legende\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-4 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4 h-4 bg-blue-200 border border-gray-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Urlaub\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4 h-4 bg-red-200 border border-gray-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Krankheit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4 h-4 bg-gradient-to-r from-blue-200 to-red-200 border border-gray-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Gemischt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4 h-4 bg-blue-100 border border-blue-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Aktuelle Woche\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n_c = YearView;\nvar _c;\n$RefreshReg$(_c, \"YearView\");","map":{"version":3,"names":["React","cn","jsxDEV","_jsxDEV","YearView","year","yearData","allUsers","viewMode","getUserName","weeks","Array","from","length","_","i","getWeekDateRange","week","jan1","Date","days","weekStart","getTime","dayOfWeek","getDay","diff","setDate","getDate","weekEnd","start","end","formatWeekRange","startStr","toLocaleDateString","day","month","endStr","getWeekLeaveType","leaves","hasVacation","some","leave","type","hasSick","getCellColor","leaveType","isCurrentWeek","getCurrentWeekNumber","now","getFullYear","Math","floor","ceil","currentWeek","monthNames","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","getMonth","isFirstWeekOfMonth","isCurrentYear","isCurrentWeekHighlighted","user","userName","id","_yearData$user$id$wee","_yearData$user$id","userWeekData","isCurrentWeekCell","tooltipContent","leaveTypeText","startDate","endDate","join","getLeaveEmoji","title","role","_c","$RefreshReg$"],"sources":["/Users/halteverbotsocialmacpro/Desktop/ars vivai/HRthis/HRthis/src/components/YearView.tsx"],"sourcesContent":["import React from 'react';\nimport { LeaveRequest } from '../types';\nimport { User } from '../types';\nimport { cn } from '../utils/cn';\n\n/**\n * Props for the YearView component\n */\ninterface YearViewProps {\n  /** The year to display (e.g., 2024) */\n  year: number;\n  /** Vacation data organized by user ID and week number */\n  yearData: { [userId: string]: { [week: string]: LeaveRequest[] } };\n  /** List of users to display in the view */\n  allUsers: User[];\n  /** Current view mode - personal shows only current user, team shows all users */\n  viewMode: 'personal' | 'team';\n  /** Function to get formatted user name by user ID */\n  getUserName: (userId: string) => string;\n}\n\n/**\n * Type representing the result of leave type analysis for a week\n */\ntype WeekLeaveType = 'vacation' | 'sick' | 'mixed' | null;\n\n/**\n * YearView component displays a calendar overview showing vacation/sick leave \n * for all users across all weeks of a year in a horizontal scrollable format.\n * \n * Features:\n * - Horizontal scrolling grid with 53 weeks\n * - Color-coded leave types (blue for vacation, red for sick)\n * - Current week highlighting\n * - Tooltips with detailed leave information\n * - Month headers for easy orientation\n */\nexport const YearView: React.FC<YearViewProps> = ({\n  year,\n  yearData,\n  allUsers,\n  viewMode,\n  getUserName\n}) => {\n  // Generate week numbers array (1-53 weeks per year)\n  const weeks = Array.from({ length: 53 }, (_, i) => i + 1);\n  \n  /**\n   * Calculates the start and end dates for a given week number in a year.\n   * Uses ISO 8601 week calculation where week starts on Monday.\n   * \n   * @param week - Week number (1-53)\n   * @param year - Year to calculate for\n   * @returns Object with start and end dates of the week\n   */\n  const getWeekDateRange = (week: number, year: number): { start: Date; end: Date } => {\n    const jan1 = new Date(year, 0, 1);\n    const days = (week - 1) * 7;\n    const weekStart = new Date(jan1.getTime() + days * 24 * 60 * 60 * 1000);\n    \n    // Adjust to Monday (ISO 8601 week starts on Monday)\n    // Sunday = 0, Monday = 1, so we need to adjust accordingly\n    const dayOfWeek = weekStart.getDay();\n    const diff = (dayOfWeek === 0 ? -6 : 1) - dayOfWeek;\n    weekStart.setDate(weekStart.getDate() + diff);\n    \n    const weekEnd = new Date(weekStart);\n    weekEnd.setDate(weekEnd.getDate() + 6);\n    \n    return {\n      start: weekStart,\n      end: weekEnd\n    };\n  };\n\n  /**\n   * Formats a week's date range as a readable string for German locale.\n   * \n   * @param week - Week number to format\n   * @returns Formatted string like \"01.01 - 07.01\"\n   */\n  const formatWeekRange = (week: number): string => {\n    const { start, end } = getWeekDateRange(week, year);\n    const startStr = start.toLocaleDateString('de-DE', { day: '2-digit', month: '2-digit' });\n    const endStr = end.toLocaleDateString('de-DE', { day: '2-digit', month: '2-digit' });\n    return `${startStr} - ${endStr}`;\n  };\n\n  /**\n   * Analyzes leave requests for a week and determines the predominant leave type.\n   * Handles cases where multiple leave types exist in the same week.\n   * \n   * @param leaves - Array of leave requests for the week\n   * @returns The leave type or null if no leaves\n   */\n  const getWeekLeaveType = (leaves: LeaveRequest[]): WeekLeaveType => {\n    if (leaves.length === 0) return null;\n    \n    // Check for different leave types in the week\n    const hasVacation = leaves.some(leave => leave.type === 'VACATION');\n    const hasSick = leaves.some(leave => leave.type === 'SICK');\n    \n    // Priority: mixed > vacation > sick\n    if (hasVacation && hasSick) return 'mixed';\n    if (hasVacation) return 'vacation';\n    if (hasSick) return 'sick';\n    return null;\n  };\n\n  /**\n   * Returns appropriate CSS classes for week cell styling based on leave type and current week status.\n   * \n   * @param leaveType - Type of leave for the week\n   * @param isCurrentWeek - Whether this is the current week\n   * @returns CSS class string for styling\n   */\n  const getCellColor = (leaveType: WeekLeaveType, isCurrentWeek: boolean): string => {\n    if (isCurrentWeek) {\n      return 'bg-blue-100 border-blue-300';\n    }\n    \n    switch (leaveType) {\n      case 'vacation':\n        return 'bg-blue-200';\n      case 'sick':\n        return 'bg-red-200';\n      case 'mixed':\n        return 'bg-gradient-to-r from-blue-200 to-red-200';\n      default:\n        return 'bg-white hover:bg-gray-50';\n    }\n  };\n\n  /**\n   * Calculates the current week number using ISO 8601 standard.\n   * \n   * @returns Current week number (1-53)\n   */\n  const getCurrentWeekNumber = (): number => {\n    const now = new Date();\n    const start = new Date(now.getFullYear(), 0, 1);\n    const days = Math.floor((now.getTime() - start.getTime()) / (24 * 60 * 60 * 1000));\n    return Math.ceil((days + start.getDay() + 1) / 7);\n  };\n\n  const currentWeek = getCurrentWeekNumber();\n  \n  // Month names in German for display\n  const monthNames = ['Jan', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'] as const;\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Year View with horizontal scrolling for 53 weeks */}\n      <div className=\"overflow-x-auto\">\n        <div className=\"min-w-max\">\n          {/* Week headers with month indicators */}\n          <div className=\"flex gap-1 mb-2\">\n            <div className=\"w-32 text-sm font-medium text-gray-500 text-center flex-shrink-0\">\n              {viewMode === 'team' ? 'Mitarbeiter' : 'Benutzer'}\n            </div>\n            {weeks.map((week) => {\n              const { start } = getWeekDateRange(week, year);\n              const month = start.getMonth();\n              \n              // Show month name only for first week of each month to avoid clutter\n              const isFirstWeekOfMonth = week === 1 || \n                (week > 1 && getWeekDateRange(week - 1, year).start.getMonth() !== month);\n              \n              const isCurrentYear = year === new Date().getFullYear();\n              const isCurrentWeekHighlighted = isCurrentYear && week === currentWeek;\n              \n              return (\n                <div key={week} className=\"w-8 text-xs font-medium text-gray-500 text-center flex-shrink-0\">\n                  {isFirstWeekOfMonth && (\n                    <div className=\"mb-1\">\n                      {monthNames[month]}\n                    </div>\n                  )}\n                  <div className={cn(\n                    \"text-xs p-1 rounded\",\n                    isCurrentWeekHighlighted \n                      ? \"bg-blue-500 text-white font-bold\" \n                      : \"text-gray-400\"\n                  )}>\n                    {week}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          {/* User vacation overview rows */}\n          <div className=\"space-y-1\">\n            {allUsers.map((user) => {\n              // Safely get user name with fallback\n              const userName = getUserName(user.id);\n              \n              return (\n                <div key={user.id} className=\"flex gap-1 items-center\">\n                  {/* User name column - fixed width for alignment */}\n                  <div className=\"w-32 text-sm font-medium text-gray-700 p-2 bg-gray-50 rounded text-center truncate flex-shrink-0\">\n                    {userName}\n                  </div>\n                  \n                  {/* Week cells for vacation visualization */}\n                  {weeks.map((week) => {\n                    // Safely access user's vacation data for this week\n                    const userWeekData = yearData[user.id]?.[week] ?? [];\n                    const leaveType = getWeekLeaveType(userWeekData);\n                    \n                    const isCurrentYear = year === new Date().getFullYear();\n                    const isCurrentWeekCell = isCurrentYear && week === currentWeek;\n                    \n                    // Create tooltip content based on leave data\n                    const tooltipContent = userWeekData.length > 0\n                      ? userWeekData.map(leave => {\n                          const leaveTypeText = leave.type === 'VACATION' ? 'Urlaub' : \n                                               leave.type === 'SICK' ? 'Krank' : 'Abwesenheit';\n                          return `${leaveTypeText}: ${leave.startDate} - ${leave.endDate}`;\n                        }).join('\\n')\n                      : `KW ${week}: ${formatWeekRange(week)}`;\n                    \n                    // Select appropriate emoji based on leave type\n                    const getLeaveEmoji = (type: WeekLeaveType): string => {\n                      switch (type) {\n                        case 'vacation': return '🏖️';\n                        case 'sick': return '🏥';\n                        case 'mixed': return '📅';\n                        default: return '';\n                      }\n                    };\n                    \n                    return (\n                      <div\n                        key={`${user.id}-${week}`}\n                        className={cn(\n                          \"w-8 h-8 border border-gray-200 rounded text-xs flex items-center justify-center cursor-pointer transition-colors flex-shrink-0\",\n                          getCellColor(leaveType, isCurrentWeekCell)\n                        )}\n                        title={tooltipContent}\n                        role=\"gridcell\"\n                        aria-label={`${userName}, Woche ${week}: ${userWeekData.length > 0 ? `${userWeekData.length} Abwesenheit(en)` : 'Keine Abwesenheit'}`}\n                      >\n                        {userWeekData.length > 0 && (\n                          <span className=\"text-xs\" aria-hidden=\"true\">\n                            {getLeaveEmoji(leaveType)}\n                          </span>\n                        )}\n                      </div>\n                    );\n                  })}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n\n      {/* Legend */}\n      <div className=\"bg-white rounded-xl p-4 mt-4\">\n        <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Legende</h4>\n        <div className=\"flex flex-wrap gap-4 text-sm\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 bg-blue-200 border border-gray-300 rounded\" />\n            <span>Urlaub</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 bg-red-200 border border-gray-300 rounded\" />\n            <span>Krankheit</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 bg-gradient-to-r from-blue-200 to-red-200 border border-gray-300 rounded\" />\n            <span>Gemischt</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 bg-blue-100 border border-blue-300 rounded\" />\n            <span>Aktuelle Woche</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}