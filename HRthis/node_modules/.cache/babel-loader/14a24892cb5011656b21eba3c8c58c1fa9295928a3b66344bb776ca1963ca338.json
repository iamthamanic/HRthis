{"ast":null,"code":"var _jsxFileName = \"/Users/halteverbotsocialmacpro/Desktop/ars vivai/Worky Time/worky-time-web/src/screens/CalendarScreen.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '../state/auth';\nimport { useLeavesStore } from '../state/leaves';\nimport { useTimeRecordsStore } from '../state/timeRecords';\nimport { useRemindersStore } from '../state/reminders';\nimport { cn } from '../utils/cn';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n/**\n * Enhanced calendar screen with personal and team views\n * Features vacation planning, time tracking integration, and event management\n */\nexport const CalendarScreen = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user,\n    getAllUsers\n  } = useAuthStore();\n  const {\n    getAllLeaveRequests\n  } = useLeavesStore();\n  const {\n    getTimeRecordsForPeriod\n  } = useTimeRecordsStore();\n  const {\n    reminders\n  } = useRemindersStore();\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [calendarDays, setCalendarDays] = useState([]);\n  const [viewMode, setViewMode] = useState('personal');\n  const [filterMode, setFilterMode] = useState('all');\n  const [selectedDay, setSelectedDay] = useState(null);\n  const [showEventModal, setShowEventModal] = useState(false);\n  const isAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'ADMIN' || (user === null || user === void 0 ? void 0 : user.role) === 'SUPERADMIN';\n  const allUsers = useMemo(() => getAllUsers(), [getAllUsers]);\n  const allLeaves = getAllLeaveRequests();\n\n  /**\n   * Gets user name by ID\n   */\n  const getUserName = userId => {\n    const foundUser = allUsers.find(u => u.id === userId);\n    if (foundUser) {\n      return `${foundUser.firstName || foundUser.name.split(' ')[0]} ${foundUser.lastName || foundUser.name.split(' ')[1] || ''}`.trim();\n    }\n    const names = {\n      '1': 'Max M.',\n      '2': 'Anna A.',\n      '3': 'Tom K.',\n      '4': 'Test U.',\n      '5': 'Lisa S.',\n      '6': 'Julia B.',\n      '7': 'Marco L.'\n    };\n    return names[userId] || 'Unbekannt';\n  };\n\n  /**\n   * Generates calendar events for the current month\n   */\n  const generateCalendarEvents = () => {\n    const events = [];\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n\n    // Get month range\n    const startOfMonth = new Date(year, month, 1);\n    const endOfMonth = new Date(year, month + 1, 0);\n    const startDateStr = startOfMonth.toISOString().split('T')[0];\n    const endDateStr = endOfMonth.toISOString().split('T')[0];\n\n    // Add leave events\n    allLeaves.filter(leave => {\n      const leaveStart = new Date(leave.startDate);\n      const leaveEnd = new Date(leave.endDate);\n      return leaveStart <= endOfMonth && leaveEnd >= startOfMonth && leave.status === 'APPROVED' && (viewMode === 'team' || leave.userId === (user === null || user === void 0 ? void 0 : user.id));\n    }).forEach(leave => {\n      const startDate = new Date(Math.max(new Date(leave.startDate).getTime(), startOfMonth.getTime()));\n      const endDate = new Date(Math.min(new Date(leave.endDate).getTime(), endOfMonth.getTime()));\n      for (let date = new Date(startDate); date <= endDate; date.setDate(date.getDate() + 1)) {\n        events.push({\n          id: `${leave.id}-${date.toISOString().split('T')[0]}`,\n          title: viewMode === 'team' ? `${getUserName(leave.userId)} - ${leave.type === 'VACATION' ? 'Urlaub' : 'Krank'}` : leave.type === 'VACATION' ? 'Urlaub' : 'Krank',\n          date: date.toISOString().split('T')[0],\n          type: leave.type === 'VACATION' ? 'vacation' : 'sick',\n          userId: leave.userId,\n          color: leave.type === 'VACATION' ? 'bg-blue-500' : 'bg-red-500'\n        });\n      }\n    });\n\n    // Add time records for personal view\n    if (viewMode === 'personal' && user) {\n      const timeRecords = getTimeRecordsForPeriod(user.id, startDateStr, endDateStr);\n      timeRecords.forEach(record => {\n        if (record.timeOut) {\n          // Only completed records\n          events.push({\n            id: `time-${record.id}`,\n            title: `${record.totalHours.toFixed(1)}h gearbeitet`,\n            date: record.date,\n            type: 'work',\n            color: record.totalHours >= 8 ? 'bg-green-500' : record.totalHours >= 6 ? 'bg-yellow-500' : 'bg-red-500'\n          });\n        }\n      });\n    }\n\n    // Add reminders\n    reminders.filter(reminder => {\n      const reminderDate = new Date(reminder.reminderDate);\n      return reminderDate >= startOfMonth && reminderDate <= endOfMonth && reminder.isActive && (viewMode === 'team' || reminder.userId === (user === null || user === void 0 ? void 0 : user.id));\n    }).forEach(reminder => {\n      events.push({\n        id: `reminder-${reminder.id}`,\n        title: reminder.message,\n        date: reminder.reminderDate,\n        type: 'reminder',\n        color: 'bg-orange-500'\n      });\n    });\n    return events;\n  };\n\n  /**\n   * Generates calendar days with events and time data\n   */\n  useEffect(() => {\n    const generateCalendar = () => {\n      const year = currentDate.getFullYear();\n      const month = currentDate.getMonth();\n\n      // First day of the month\n      const firstDay = new Date(year, month, 1);\n\n      // Start from Monday of the week containing the first day\n      const startDate = new Date(firstDay);\n      const dayOfWeek = firstDay.getDay();\n      const daysToSubtract = dayOfWeek === 0 ? 6 : dayOfWeek - 1;\n      startDate.setDate(firstDay.getDate() - daysToSubtract);\n\n      // Generate time records for the month\n      const startDateStr = new Date(year, month, 1).toISOString().split('T')[0];\n      const endDateStr = new Date(year, month + 1, 0).toISOString().split('T')[0];\n\n      // Get user's time records if in personal mode\n      const userTimeRecords = user && viewMode === 'personal' ? getTimeRecordsForPeriod(user.id, startDateStr, endDateStr) : [];\n\n      // Generate team time records for team view\n      const teamTimeRecords = viewMode === 'team' ? allUsers.flatMap(u => getTimeRecordsForPeriod(u.id, startDateStr, endDateStr)) : [];\n\n      // Generate 42 days (6 weeks)\n      const days = [];\n      const today = new Date();\n      for (let i = 0; i < 42; i++) {\n        const date = new Date(startDate);\n        date.setDate(startDate.getDate() + i);\n        const isCurrentMonth = date.getMonth() === month;\n        const isToday = date.toDateString() === today.toDateString();\n        const isWeekend = date.getDay() === 0 || date.getDay() === 6;\n\n        // Find leaves for this date\n        const dateString = date.toISOString().split('T')[0];\n        const dayLeaves = allLeaves.filter(leave => {\n          const startDate = new Date(leave.startDate);\n          const endDate = new Date(leave.endDate);\n          const currentDate = new Date(dateString);\n          return currentDate >= startDate && currentDate <= endDate && leave.status === 'APPROVED' && (viewMode === 'team' || leave.userId === (user === null || user === void 0 ? void 0 : user.id));\n        });\n\n        // User's leaves for personal view\n        const userLeaves = allLeaves.filter(leave => {\n          const startDate = new Date(leave.startDate);\n          const endDate = new Date(leave.endDate);\n          const currentDate = new Date(dateString);\n          return currentDate >= startDate && currentDate <= endDate && leave.userId === (user === null || user === void 0 ? void 0 : user.id) && leave.status === 'APPROVED';\n        });\n\n        // Find time records for this date\n        const dayTimeRecords = teamTimeRecords.filter(record => record.date === dateString);\n        const userTimeRecord = userTimeRecords.find(record => record.date === dateString) || null;\n\n        // Find reminders for this date\n        const dayReminders = reminders.filter(reminder => reminder.reminderDate === dateString && reminder.isActive && (viewMode === 'team' || reminder.userId === (user === null || user === void 0 ? void 0 : user.id)));\n        days.push({\n          date,\n          isCurrentMonth,\n          isToday,\n          isWeekend,\n          leaves: dayLeaves,\n          timeRecords: dayTimeRecords,\n          reminders: dayReminders,\n          userLeaves,\n          userTimeRecord\n        });\n      }\n      setCalendarDays(days);\n    };\n    generateCalendar();\n  }, [currentDate, allLeaves, reminders, viewMode, user, isAdmin, allUsers, getTimeRecordsForPeriod]);\n\n  /**\n   * Navigation functions\n   */\n  const navigateMonth = direction => {\n    const newDate = new Date(currentDate);\n    if (direction === 'prev') {\n      newDate.setMonth(currentDate.getMonth() - 1);\n    } else {\n      newDate.setMonth(currentDate.getMonth() + 1);\n    }\n    setCurrentDate(newDate);\n  };\n  const goToToday = () => {\n    setCurrentDate(new Date());\n  };\n\n  /**\n   * Get month year text\n   */\n  const getMonthYearText = () => {\n    return currentDate.toLocaleDateString('de-DE', {\n      month: 'long',\n      year: 'numeric'\n    });\n  };\n\n  /**\n   * Get vacation days remaining for current user\n   */\n  const getVacationStats = () => {\n    if (!user) return {\n      total: 0,\n      used: 0,\n      remaining: 0\n    };\n    const currentYear = new Date().getFullYear();\n    const approvedVacations = allLeaves.filter(leave => leave.userId === user.id && leave.type === 'VACATION' && leave.status === 'APPROVED' && new Date(leave.startDate).getFullYear() === currentYear);\n    const usedDays = approvedVacations.reduce((total, leave) => {\n      const start = new Date(leave.startDate);\n      const end = new Date(leave.endDate);\n      const days = Math.ceil((end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24)) + 1;\n      return total + days;\n    }, 0);\n    const totalDays = user.vacationDays || 30;\n    return {\n      total: totalDays,\n      used: usedDays,\n      remaining: Math.max(0, totalDays - usedDays)\n    };\n  };\n\n  /**\n   * Renders day content based on view mode and filters\n   */\n  const renderDayContent = day => {\n    const events = generateCalendarEvents().filter(event => event.date === day.date.toISOString().split('T')[0]);\n\n    // Apply filter\n    const filteredEvents = events.filter(event => {\n      if (filterMode === 'all') return true;\n      if (filterMode === 'leaves') return event.type === 'vacation' || event.type === 'sick';\n      if (filterMode === 'work') return event.type === 'work';\n      return true;\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full flex flex-col p-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: cn(\"text-sm font-medium mb-1\", !day.isCurrentMonth && \"text-gray-400\", day.isToday && \"text-blue-600 font-bold\", day.isWeekend && day.isCurrentMonth && \"text-gray-600\"),\n        children: day.date.getDate()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 space-y-0.5\",\n        children: [filteredEvents.slice(0, 3).map((event, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: cn(\"text-xs px-1 py-0.5 rounded text-white truncate\", event.color),\n          children: event.title\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this)), filteredEvents.length > 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: [\"+\", filteredEvents.length - 3, \" mehr\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), day.isWeekend && day.isCurrentMonth && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-400 mt-auto\",\n        children: day.date.getDay() === 6 ? 'SA' : 'SO'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this);\n  };\n\n  /**\n   * Handle day click\n   */\n  const handleDayClick = day => {\n    setSelectedDay(day);\n    setShowEventModal(true);\n  };\n  const weekdays = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\n  const vacationStats = getVacationStats();\n  if (!user) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 bg-gray-50 min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 px-4 py-6 overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-bold text-gray-900\",\n          children: viewMode === 'personal' ? 'Mein Kalender' : 'Team Kalender'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/request-leave'),\n            className: \"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm\",\n            children: \"+ Urlaub\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: goToToday,\n            className: \"bg-white px-3 py-2 rounded-lg shadow-sm hover:bg-gray-50 transition-colors text-sm border\",\n            children: \"Heute\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigateMonth('prev'),\n              className: \"w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-lg text-gray-600\",\n                children: \"\\u2039\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900 min-w-40 text-center\",\n              children: getMonthYearText()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigateMonth('next'),\n              className: \"w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-lg text-gray-600\",\n                children: \"\\u203A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex bg-white rounded-lg p-1 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setViewMode('personal'),\n              className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors text-sm\", viewMode === 'personal' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n              children: \"\\uD83D\\uDC64 Pers\\xF6nlich\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setViewMode('team'),\n              className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors text-sm\", viewMode === 'team' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n              children: \"\\uD83D\\uDC65 Team\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), viewMode === 'personal' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl p-4 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-gray-700 mb-3\",\n              children: [\"Urlaubs\\xFCbersicht \", new Date().getFullYear()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-blue-600\",\n                  children: vacationStats.total\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Gesamt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-red-600\",\n                  children: vacationStats.used\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Genommen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-green-600\",\n                  children: vacationStats.remaining\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Verf\\xFCgbar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-gray-200 rounded-full h-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-500 h-2 rounded-full transition-all\",\n                  style: {\n                    width: `${Math.min(100, vacationStats.used / vacationStats.total * 100)}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-1 text-center\",\n                children: [(vacationStats.used / vacationStats.total * 100).toFixed(0), \"% verbraucht\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex bg-white rounded-lg p-1 mb-4 shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterMode('all'),\n          className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors text-sm\", filterMode === 'all' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n          children: \"Alle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterMode('leaves'),\n          className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors text-sm\", filterMode === 'leaves' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n          children: \"Abwesenheit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 11\n        }, this), viewMode === 'personal' && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterMode('work'),\n          className: cn(\"flex-1 py-2 px-3 rounded-md transition-colors text-sm\", filterMode === 'work' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"),\n          children: \"Arbeitszeit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-4 shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-7 mb-2\",\n          children: weekdays.map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center py-3\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-semibold text-gray-500\",\n              children: day\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 17\n            }, this)\n          }, day, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-7 gap-0 border border-gray-200 rounded-lg overflow-hidden\",\n          children: calendarDays.map((day, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: cn(\"aspect-square border-b border-r border-gray-100 text-left hover:bg-gray-50 transition-colors relative\", !day.isCurrentMonth && \"bg-gray-50\", day.isToday && \"bg-blue-50 border-blue-200\", day.isWeekend && \"bg-gray-25\"),\n            onClick: () => handleDayClick(day),\n            children: renderDayContent(day)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-4 mt-4 shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-semibold text-gray-900 mb-3\",\n          children: \"Legende\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 bg-blue-500 rounded-full mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Urlaub\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 bg-red-500 rounded-full mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Krankheit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this), viewMode === 'personal' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-green-500 rounded-full mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Vollzeit (\\u22658h)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-yellow-500 rounded-full mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Teilzeit (6-8h)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-red-500 rounded-full mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Unterzeit (<6h)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 bg-orange-500 rounded-full mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Erinnerung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this), showEventModal && selectedDay && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-6 max-w-md w-full max-h-96 overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: selectedDay.date.toLocaleDateString('de-DE', {\n              weekday: 'long',\n              day: 'numeric',\n              month: 'long',\n              year: 'numeric'\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowEventModal(false),\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [selectedDay.userLeaves.map(leave => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-blue-50 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl mr-3\",\n                children: leave.type === 'VACATION' ? 'ðŸ–ï¸' : 'ðŸ¥'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 605,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: leave.type === 'VACATION' ? 'Urlaub' : 'Krankheit'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 23\n                }, this), leave.comment && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: leave.comment\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 613,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 19\n            }, this)\n          }, leave.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 17\n          }, this)), selectedDay.userTimeRecord && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-green-50 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl mr-3\",\n                children: \"\\u23F0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: [selectedDay.userTimeRecord.totalHours.toFixed(1), \"h gearbeitet\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 626,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [selectedDay.userTimeRecord.timeIn, \" - \", selectedDay.userTimeRecord.timeOut || 'lÃ¤uft', selectedDay.userTimeRecord.breakMinutes > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\" (Pause: \", selectedDay.userTimeRecord.breakMinutes, \"min)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 632,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 17\n          }, this), viewMode === 'team' && selectedDay.leaves.map(leave => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-gray-50 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-2xl mr-3\",\n                children: leave.type === 'VACATION' ? 'ðŸ–ï¸' : 'ðŸ¥'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: [getUserName(leave.userId), \" - \", leave.type === 'VACATION' ? 'Urlaub' : 'Krank']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 648,\n                  columnNumber: 23\n                }, this), leave.comment && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: leave.comment\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 652,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 19\n            }, this)\n          }, leave.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 17\n          }, this)), selectedDay.userLeaves.length === 0 && !selectedDay.userTimeRecord && selectedDay.leaves.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 text-center py-4\",\n            children: \"Keine Ereignisse an diesem Tag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 flex space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowEventModal(false);\n              navigate('/request-leave');\n            },\n            className: \"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",\n            children: \"Urlaub beantragen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowEventModal(false);\n              navigate('/time');\n            },\n            className: \"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors\",\n            children: \"Zeiten erfassen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 5\n  }, this);\n};\n_s(CalendarScreen, \"m7Hbh9hMbFruoliFo1+AMky0u3Q=\", false, function () {\n  return [useNavigate, useAuthStore, useLeavesStore, useTimeRecordsStore, useRemindersStore];\n});\n_c = CalendarScreen;\nvar _c;\n$RefreshReg$(_c, \"CalendarScreen\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useNavigate","useAuthStore","useLeavesStore","useTimeRecordsStore","useRemindersStore","cn","jsxDEV","_jsxDEV","Fragment","_Fragment","CalendarScreen","_s","navigate","user","getAllUsers","getAllLeaveRequests","getTimeRecordsForPeriod","reminders","currentDate","setCurrentDate","Date","calendarDays","setCalendarDays","viewMode","setViewMode","filterMode","setFilterMode","selectedDay","setSelectedDay","showEventModal","setShowEventModal","isAdmin","role","allUsers","allLeaves","getUserName","userId","foundUser","find","u","id","firstName","name","split","lastName","trim","names","generateCalendarEvents","events","year","getFullYear","month","getMonth","startOfMonth","endOfMonth","startDateStr","toISOString","endDateStr","filter","leave","leaveStart","startDate","leaveEnd","endDate","status","forEach","Math","max","getTime","min","date","setDate","getDate","push","title","type","color","timeRecords","record","timeOut","totalHours","toFixed","reminder","reminderDate","isActive","message","generateCalendar","firstDay","dayOfWeek","getDay","daysToSubtract","userTimeRecords","teamTimeRecords","flatMap","days","today","i","isCurrentMonth","isToday","toDateString","isWeekend","dateString","dayLeaves","userLeaves","dayTimeRecords","userTimeRecord","dayReminders","leaves","navigateMonth","direction","newDate","setMonth","goToToday","getMonthYearText","toLocaleDateString","getVacationStats","total","used","remaining","currentYear","approvedVacations","usedDays","reduce","start","end","ceil","totalDays","vacationDays","renderDayContent","day","event","filteredEvents","className","children","fileName","_jsxFileName","lineNumber","columnNumber","slice","map","index","length","handleDayClick","weekdays","vacationStats","onClick","style","width","weekday","comment","timeIn","breakMinutes","_c","$RefreshReg$"],"sources":["/Users/halteverbotsocialmacpro/Desktop/ars vivai/Worky Time/worky-time-web/src/screens/CalendarScreen.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '../state/auth';\nimport { useLeavesStore } from '../state/leaves';\nimport { useTimeRecordsStore } from '../state/timeRecords';\nimport { useRemindersStore } from '../state/reminders';\nimport { LeaveRequest, TimeRecord } from '../types';\nimport { VacationReminder } from '../types/reminders';\nimport { cn } from '../utils/cn';\n\ninterface CalendarDay {\n  date: Date;\n  isCurrentMonth: boolean;\n  isToday: boolean;\n  isWeekend: boolean;\n  leaves: LeaveRequest[];\n  timeRecords: TimeRecord[];\n  reminders: VacationReminder[];\n  userLeaves: LeaveRequest[]; // Own leaves for personal view\n  userTimeRecord: TimeRecord | null; // Own time record\n}\n\ninterface CalendarEvent {\n  id: string;\n  title: string;\n  date: string;\n  type: 'vacation' | 'sick' | 'work' | 'reminder' | 'personal';\n  userId?: string;\n  color: string;\n}\n\n/**\n * Enhanced calendar screen with personal and team views\n * Features vacation planning, time tracking integration, and event management\n */\nexport const CalendarScreen = () => {\n  const navigate = useNavigate();\n  const { user, getAllUsers } = useAuthStore();\n  const { getAllLeaveRequests } = useLeavesStore();\n  const { getTimeRecordsForPeriod } = useTimeRecordsStore();\n  const { reminders } = useRemindersStore();\n  \n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [calendarDays, setCalendarDays] = useState<CalendarDay[]>([]);\n  const [viewMode, setViewMode] = useState<'personal' | 'team'>('personal');\n  const [filterMode, setFilterMode] = useState<'all' | 'leaves' | 'work'>('all');\n  const [selectedDay, setSelectedDay] = useState<CalendarDay | null>(null);\n  const [showEventModal, setShowEventModal] = useState(false);\n\n  const isAdmin = user?.role === 'ADMIN' || user?.role === 'SUPERADMIN';\n  const allUsers = useMemo(() => getAllUsers(), [getAllUsers]);\n  const allLeaves = getAllLeaveRequests();\n\n  /**\n   * Gets user name by ID\n   */\n  const getUserName = (userId: string): string => {\n    const foundUser = allUsers.find(u => u.id === userId);\n    if (foundUser) {\n      return `${foundUser.firstName || foundUser.name.split(' ')[0]} ${foundUser.lastName || foundUser.name.split(' ')[1] || ''}`.trim();\n    }\n    \n    const names: { [key: string]: string } = {\n      '1': 'Max M.',\n      '2': 'Anna A.',\n      '3': 'Tom K.',\n      '4': 'Test U.',\n      '5': 'Lisa S.',\n      '6': 'Julia B.',\n      '7': 'Marco L.'\n    };\n    return names[userId] || 'Unbekannt';\n  };\n\n  /**\n   * Generates calendar events for the current month\n   */\n  const generateCalendarEvents = (): CalendarEvent[] => {\n    const events: CalendarEvent[] = [];\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    \n    // Get month range\n    const startOfMonth = new Date(year, month, 1);\n    const endOfMonth = new Date(year, month + 1, 0);\n    const startDateStr = startOfMonth.toISOString().split('T')[0];\n    const endDateStr = endOfMonth.toISOString().split('T')[0];\n\n    // Add leave events\n    allLeaves\n      .filter(leave => {\n        const leaveStart = new Date(leave.startDate);\n        const leaveEnd = new Date(leave.endDate);\n        return (leaveStart <= endOfMonth && leaveEnd >= startOfMonth) && \n               leave.status === 'APPROVED' &&\n               (viewMode === 'team' || leave.userId === user?.id);\n      })\n      .forEach(leave => {\n        const startDate = new Date(Math.max(new Date(leave.startDate).getTime(), startOfMonth.getTime()));\n        const endDate = new Date(Math.min(new Date(leave.endDate).getTime(), endOfMonth.getTime()));\n        \n        for (let date = new Date(startDate); date <= endDate; date.setDate(date.getDate() + 1)) {\n          events.push({\n            id: `${leave.id}-${date.toISOString().split('T')[0]}`,\n            title: viewMode === 'team' ? \n              `${getUserName(leave.userId)} - ${leave.type === 'VACATION' ? 'Urlaub' : 'Krank'}` :\n              leave.type === 'VACATION' ? 'Urlaub' : 'Krank',\n            date: date.toISOString().split('T')[0],\n            type: leave.type === 'VACATION' ? 'vacation' : 'sick',\n            userId: leave.userId,\n            color: leave.type === 'VACATION' ? 'bg-blue-500' : 'bg-red-500'\n          });\n        }\n      });\n\n    // Add time records for personal view\n    if (viewMode === 'personal' && user) {\n      const timeRecords = getTimeRecordsForPeriod(user.id, startDateStr, endDateStr);\n      timeRecords.forEach(record => {\n        if (record.timeOut) { // Only completed records\n          events.push({\n            id: `time-${record.id}`,\n            title: `${record.totalHours.toFixed(1)}h gearbeitet`,\n            date: record.date,\n            type: 'work',\n            color: record.totalHours >= 8 ? 'bg-green-500' : \n                   record.totalHours >= 6 ? 'bg-yellow-500' : 'bg-red-500'\n          });\n        }\n      });\n    }\n\n    // Add reminders\n    reminders\n      .filter(reminder => {\n        const reminderDate = new Date(reminder.reminderDate);\n        return reminderDate >= startOfMonth && reminderDate <= endOfMonth && \n               reminder.isActive &&\n               (viewMode === 'team' || reminder.userId === user?.id);\n      })\n      .forEach(reminder => {\n        events.push({\n          id: `reminder-${reminder.id}`,\n          title: reminder.message,\n          date: reminder.reminderDate,\n          type: 'reminder',\n          color: 'bg-orange-500'\n        });\n      });\n\n    return events;\n  };\n\n  /**\n   * Generates calendar days with events and time data\n   */\n  useEffect(() => {\n    const generateCalendar = () => {\n      const year = currentDate.getFullYear();\n      const month = currentDate.getMonth();\n      \n      // First day of the month\n      const firstDay = new Date(year, month, 1);\n      \n      // Start from Monday of the week containing the first day\n      const startDate = new Date(firstDay);\n      const dayOfWeek = firstDay.getDay();\n      const daysToSubtract = dayOfWeek === 0 ? 6 : dayOfWeek - 1;\n      startDate.setDate(firstDay.getDate() - daysToSubtract);\n      \n      // Generate time records for the month\n      const startDateStr = new Date(year, month, 1).toISOString().split('T')[0];\n      const endDateStr = new Date(year, month + 1, 0).toISOString().split('T')[0];\n      \n      // Get user's time records if in personal mode\n      const userTimeRecords = user && viewMode === 'personal' ? \n        getTimeRecordsForPeriod(user.id, startDateStr, endDateStr) : [];\n      \n      // Generate team time records for team view\n      const teamTimeRecords = viewMode === 'team' ? \n        allUsers.flatMap(u => getTimeRecordsForPeriod(u.id, startDateStr, endDateStr)) : [];\n      \n      // Generate 42 days (6 weeks)\n      const days: CalendarDay[] = [];\n      const today = new Date();\n      \n      for (let i = 0; i < 42; i++) {\n        const date = new Date(startDate);\n        date.setDate(startDate.getDate() + i);\n        \n        const isCurrentMonth = date.getMonth() === month;\n        const isToday = date.toDateString() === today.toDateString();\n        const isWeekend = date.getDay() === 0 || date.getDay() === 6;\n        \n        // Find leaves for this date\n        const dateString = date.toISOString().split('T')[0];\n        const dayLeaves = allLeaves.filter(leave => {\n          const startDate = new Date(leave.startDate);\n          const endDate = new Date(leave.endDate);\n          const currentDate = new Date(dateString);\n          \n          return currentDate >= startDate && currentDate <= endDate && \n                 leave.status === 'APPROVED' &&\n                 (viewMode === 'team' || leave.userId === user?.id);\n        });\n\n        // User's leaves for personal view\n        const userLeaves = allLeaves.filter(leave => {\n          const startDate = new Date(leave.startDate);\n          const endDate = new Date(leave.endDate);\n          const currentDate = new Date(dateString);\n          \n          return currentDate >= startDate && currentDate <= endDate && \n                 leave.userId === user?.id && leave.status === 'APPROVED';\n        });\n        \n        // Find time records for this date\n        const dayTimeRecords = teamTimeRecords.filter(record => record.date === dateString);\n        const userTimeRecord = userTimeRecords.find(record => record.date === dateString) || null;\n        \n        // Find reminders for this date\n        const dayReminders = reminders.filter(reminder => \n          reminder.reminderDate === dateString && reminder.isActive &&\n          (viewMode === 'team' || reminder.userId === user?.id)\n        );\n        \n        days.push({\n          date,\n          isCurrentMonth,\n          isToday,\n          isWeekend,\n          leaves: dayLeaves,\n          timeRecords: dayTimeRecords,\n          reminders: dayReminders,\n          userLeaves,\n          userTimeRecord\n        });\n      }\n      \n      setCalendarDays(days);\n    };\n    \n    generateCalendar();\n  }, [currentDate, allLeaves, reminders, viewMode, user, isAdmin, allUsers, getTimeRecordsForPeriod]);\n\n  /**\n   * Navigation functions\n   */\n  const navigateMonth = (direction: 'prev' | 'next') => {\n    const newDate = new Date(currentDate);\n    if (direction === 'prev') {\n      newDate.setMonth(currentDate.getMonth() - 1);\n    } else {\n      newDate.setMonth(currentDate.getMonth() + 1);\n    }\n    setCurrentDate(newDate);\n  };\n\n  const goToToday = () => {\n    setCurrentDate(new Date());\n  };\n\n  /**\n   * Get month year text\n   */\n  const getMonthYearText = () => {\n    return currentDate.toLocaleDateString('de-DE', {\n      month: 'long',\n      year: 'numeric'\n    });\n  };\n\n  /**\n   * Get vacation days remaining for current user\n   */\n  const getVacationStats = () => {\n    if (!user) return { total: 0, used: 0, remaining: 0 };\n    \n    const currentYear = new Date().getFullYear();\n    const approvedVacations = allLeaves.filter(leave =>\n      leave.userId === user.id &&\n      leave.type === 'VACATION' &&\n      leave.status === 'APPROVED' &&\n      new Date(leave.startDate).getFullYear() === currentYear\n    );\n    \n    const usedDays = approvedVacations.reduce((total, leave) => {\n      const start = new Date(leave.startDate);\n      const end = new Date(leave.endDate);\n      const days = Math.ceil((end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24)) + 1;\n      return total + days;\n    }, 0);\n    \n    const totalDays = user.vacationDays || 30;\n    \n    return {\n      total: totalDays,\n      used: usedDays,\n      remaining: Math.max(0, totalDays - usedDays)\n    };\n  };\n\n  /**\n   * Renders day content based on view mode and filters\n   */\n  const renderDayContent = (day: CalendarDay) => {\n    const events = generateCalendarEvents().filter(event => event.date === day.date.toISOString().split('T')[0]);\n    \n    // Apply filter\n    const filteredEvents = events.filter(event => {\n      if (filterMode === 'all') return true;\n      if (filterMode === 'leaves') return event.type === 'vacation' || event.type === 'sick';\n      if (filterMode === 'work') return event.type === 'work';\n      return true;\n    });\n\n    return (\n      <div className=\"h-full flex flex-col p-1\">\n        {/* Day number */}\n        <span className={cn(\n          \"text-sm font-medium mb-1\",\n          !day.isCurrentMonth && \"text-gray-400\",\n          day.isToday && \"text-blue-600 font-bold\",\n          day.isWeekend && day.isCurrentMonth && \"text-gray-600\"\n        )}>\n          {day.date.getDate()}\n        </span>\n        \n        {/* Events */}\n        <div className=\"flex-1 space-y-0.5\">\n          {filteredEvents.slice(0, 3).map((event, index) => (\n            <div key={index} className={cn(\n              \"text-xs px-1 py-0.5 rounded text-white truncate\",\n              event.color\n            )}>\n              {event.title}\n            </div>\n          ))}\n          \n          {filteredEvents.length > 3 && (\n            <div className=\"text-xs text-gray-500\">\n              +{filteredEvents.length - 3} mehr\n            </div>\n          )}\n        </div>\n        \n        {/* Weekend indicator */}\n        {day.isWeekend && day.isCurrentMonth && (\n          <div className=\"text-xs text-gray-400 mt-auto\">\n            {day.date.getDay() === 6 ? 'SA' : 'SO'}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  /**\n   * Handle day click\n   */\n  const handleDayClick = (day: CalendarDay) => {\n    setSelectedDay(day);\n    setShowEventModal(true);\n  };\n\n  const weekdays = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'];\n  const vacationStats = getVacationStats();\n\n  if (!user) return null;\n\n  return (\n    <div className=\"flex-1 bg-gray-50 min-h-screen\">\n      <div className=\"flex-1 px-4 py-6 overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <h1 className=\"text-xl font-bold text-gray-900\">\n            {viewMode === 'personal' ? 'Mein Kalender' : 'Team Kalender'}\n          </h1>\n          \n          <div className=\"flex items-center space-x-3\">\n            {/* Quick Actions */}\n            <button\n              onClick={() => navigate('/request-leave')}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm\"\n            >\n              + Urlaub\n            </button>\n            \n            {/* Today Button */}\n            <button\n              onClick={goToToday}\n              className=\"bg-white px-3 py-2 rounded-lg shadow-sm hover:bg-gray-50 transition-colors text-sm border\"\n            >\n              Heute\n            </button>\n            \n            {/* Month Navigation */}\n            <div className=\"flex items-center space-x-2\">\n              <button \n                onClick={() => navigateMonth('prev')}\n                className=\"w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors\"\n              >\n                <span className=\"text-lg text-gray-600\">â€¹</span>\n              </button>\n              <h2 className=\"text-lg font-semibold text-gray-900 min-w-40 text-center\">\n                {getMonthYearText()}\n              </h2>\n              <button \n                onClick={() => navigateMonth('next')}\n                className=\"w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors\"\n              >\n                <span className=\"text-lg text-gray-600\">â€º</span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* View Toggle and Stats */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6\">\n          {/* View Mode Toggle */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"flex bg-white rounded-lg p-1 shadow-sm\">\n              <button\n                onClick={() => setViewMode('personal')}\n                className={cn(\n                  \"flex-1 py-2 px-3 rounded-md transition-colors text-sm\",\n                  viewMode === 'personal' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n                )}\n              >\n                ðŸ‘¤ PersÃ¶nlich\n              </button>\n              <button\n                onClick={() => setViewMode('team')}\n                className={cn(\n                  \"flex-1 py-2 px-3 rounded-md transition-colors text-sm\",\n                  viewMode === 'team' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n                )}\n              >\n                ðŸ‘¥ Team\n              </button>\n            </div>\n          </div>\n\n          {/* Vacation Stats (Personal View Only) */}\n          {viewMode === 'personal' && (\n            <div className=\"lg:col-span-2\">\n              <div className=\"bg-white rounded-xl p-4 shadow-sm\">\n                <h3 className=\"text-sm font-medium text-gray-700 mb-3\">UrlaubsÃ¼bersicht {new Date().getFullYear()}</h3>\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <div className=\"text-center\">\n                    <p className=\"text-2xl font-bold text-blue-600\">{vacationStats.total}</p>\n                    <p className=\"text-xs text-gray-500\">Gesamt</p>\n                  </div>\n                  <div className=\"text-center\">\n                    <p className=\"text-2xl font-bold text-red-600\">{vacationStats.used}</p>\n                    <p className=\"text-xs text-gray-500\">Genommen</p>\n                  </div>\n                  <div className=\"text-center\">\n                    <p className=\"text-2xl font-bold text-green-600\">{vacationStats.remaining}</p>\n                    <p className=\"text-xs text-gray-500\">VerfÃ¼gbar</p>\n                  </div>\n                </div>\n                \n                {/* Progress Bar */}\n                <div className=\"mt-3\">\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div \n                      className=\"bg-blue-500 h-2 rounded-full transition-all\"\n                      style={{ width: `${Math.min(100, (vacationStats.used / vacationStats.total) * 100)}%` }}\n                    />\n                  </div>\n                  <p className=\"text-xs text-gray-500 mt-1 text-center\">\n                    {((vacationStats.used / vacationStats.total) * 100).toFixed(0)}% verbraucht\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Filter Toggle */}\n        <div className=\"flex bg-white rounded-lg p-1 mb-4 shadow-sm\">\n          <button\n            onClick={() => setFilterMode('all')}\n            className={cn(\n              \"flex-1 py-2 px-3 rounded-md transition-colors text-sm\",\n              filterMode === 'all' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n            )}\n          >\n            Alle\n          </button>\n          <button\n            onClick={() => setFilterMode('leaves')}\n            className={cn(\n              \"flex-1 py-2 px-3 rounded-md transition-colors text-sm\",\n              filterMode === 'leaves' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n            )}\n          >\n            Abwesenheit\n          </button>\n          {viewMode === 'personal' && (\n            <button\n              onClick={() => setFilterMode('work')}\n              className={cn(\n                \"flex-1 py-2 px-3 rounded-md transition-colors text-sm\",\n                filterMode === 'work' ? \"bg-blue-500 text-white\" : \"bg-transparent text-gray-700 hover:bg-gray-100\"\n              )}\n            >\n              Arbeitszeit\n            </button>\n          )}\n        </div>\n\n        {/* Calendar */}\n        <div className=\"bg-white rounded-xl p-4 shadow-sm\">\n          {/* Weekday headers */}\n          <div className=\"grid grid-cols-7 mb-2\">\n            {weekdays.map((day) => (\n              <div key={day} className=\"flex items-center justify-center py-3\">\n                <span className=\"text-sm font-semibold text-gray-500\">{day}</span>\n              </div>\n            ))}\n          </div>\n\n          {/* Calendar grid */}\n          <div className=\"grid grid-cols-7 gap-0 border border-gray-200 rounded-lg overflow-hidden\">\n            {calendarDays.map((day, index) => (\n              <button\n                key={index}\n                className={cn(\n                  \"aspect-square border-b border-r border-gray-100 text-left hover:bg-gray-50 transition-colors relative\",\n                  !day.isCurrentMonth && \"bg-gray-50\",\n                  day.isToday && \"bg-blue-50 border-blue-200\",\n                  day.isWeekend && \"bg-gray-25\"\n                )}\n                onClick={() => handleDayClick(day)}\n              >\n                {renderDayContent(day)}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Legend */}\n        <div className=\"bg-white rounded-xl p-4 mt-4 shadow-sm\">\n          <h3 className=\"text-sm font-semibold text-gray-900 mb-3\">Legende</h3>\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex items-center\">\n              <div className=\"w-3 h-3 bg-blue-500 rounded-full mr-2\" />\n              <span className=\"text-sm text-gray-600\">Urlaub</span>\n            </div>\n            <div className=\"flex items-center\">\n              <div className=\"w-3 h-3 bg-red-500 rounded-full mr-2\" />\n              <span className=\"text-sm text-gray-600\">Krankheit</span>\n            </div>\n            {viewMode === 'personal' && (\n              <>\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-green-500 rounded-full mr-2\" />\n                  <span className=\"text-sm text-gray-600\">Vollzeit (â‰¥8h)</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-yellow-500 rounded-full mr-2\" />\n                  <span className=\"text-sm text-gray-600\">Teilzeit (6-8h)</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-red-500 rounded-full mr-2\" />\n                  <span className=\"text-sm text-gray-600\">Unterzeit (&lt;6h)</span>\n                </div>\n              </>\n            )}\n            <div className=\"flex items-center\">\n              <div className=\"w-3 h-3 bg-orange-500 rounded-full mr-2\" />\n              <span className=\"text-sm text-gray-600\">Erinnerung</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Day Detail Modal */}\n      {showEventModal && selectedDay && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-xl p-6 max-w-md w-full max-h-96 overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold\">\n                {selectedDay.date.toLocaleDateString('de-DE', { \n                  weekday: 'long',\n                  day: 'numeric',\n                  month: 'long',\n                  year: 'numeric'\n                })}\n              </h3>\n              <button\n                onClick={() => setShowEventModal(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                âœ•\n              </button>\n            </div>\n            \n            <div className=\"space-y-3\">\n              {/* User's events */}\n              {selectedDay.userLeaves.map(leave => (\n                <div key={leave.id} className=\"p-3 bg-blue-50 rounded-lg\">\n                  <div className=\"flex items-center\">\n                    <span className=\"text-2xl mr-3\">\n                      {leave.type === 'VACATION' ? 'ðŸ–ï¸' : 'ðŸ¥'}\n                    </span>\n                    <div>\n                      <p className=\"font-medium\">\n                        {leave.type === 'VACATION' ? 'Urlaub' : 'Krankheit'}\n                      </p>\n                      {leave.comment && (\n                        <p className=\"text-sm text-gray-600\">{leave.comment}</p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n              \n              {/* User's time record */}\n              {selectedDay.userTimeRecord && (\n                <div className=\"p-3 bg-green-50 rounded-lg\">\n                  <div className=\"flex items-center\">\n                    <span className=\"text-2xl mr-3\">â°</span>\n                    <div>\n                      <p className=\"font-medium\">\n                        {selectedDay.userTimeRecord.totalHours.toFixed(1)}h gearbeitet\n                      </p>\n                      <p className=\"text-sm text-gray-600\">\n                        {selectedDay.userTimeRecord.timeIn} - {selectedDay.userTimeRecord.timeOut || 'lÃ¤uft'}\n                        {selectedDay.userTimeRecord.breakMinutes > 0 && (\n                          <span> (Pause: {selectedDay.userTimeRecord.breakMinutes}min)</span>\n                        )}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              {/* Team events (if team view) */}\n              {viewMode === 'team' && selectedDay.leaves.map(leave => (\n                <div key={leave.id} className=\"p-3 bg-gray-50 rounded-lg\">\n                  <div className=\"flex items-center\">\n                    <span className=\"text-2xl mr-3\">\n                      {leave.type === 'VACATION' ? 'ðŸ–ï¸' : 'ðŸ¥'}\n                    </span>\n                    <div>\n                      <p className=\"font-medium\">\n                        {getUserName(leave.userId)} - {leave.type === 'VACATION' ? 'Urlaub' : 'Krank'}\n                      </p>\n                      {leave.comment && (\n                        <p className=\"text-sm text-gray-600\">{leave.comment}</p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n              \n              {/* No events */}\n              {selectedDay.userLeaves.length === 0 && \n               !selectedDay.userTimeRecord && \n               selectedDay.leaves.length === 0 && (\n                <p className=\"text-gray-500 text-center py-4\">\n                  Keine Ereignisse an diesem Tag\n                </p>\n              )}\n            </div>\n            \n            {/* Quick Actions */}\n            <div className=\"mt-6 flex space-x-3\">\n              <button\n                onClick={() => {\n                  setShowEventModal(false);\n                  navigate('/request-leave');\n                }}\n                className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                Urlaub beantragen\n              </button>\n              <button\n                onClick={() => {\n                  setShowEventModal(false);\n                  navigate('/time');\n                }}\n                className=\"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors\"\n              >\n                Zeiten erfassen\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}