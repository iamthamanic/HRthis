{"ast":null,"code":"var _jsxFileName = \"/Users/halteverbotsocialmacpro/Desktop/ars vivai/Worky Time/worky-time-web/src/screens/DashboardScreen.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '../state/auth';\nimport { useLeavesStore } from '../state/leaves';\nimport { useTimeRecordsStore } from '../state/timeRecords';\nimport { useCoinsStore } from '../state/coins';\nimport { useCoinEventsStore } from '../state/coinEvents';\nimport { cn } from '../utils/cn';\n\n/**\n * Main dashboard screen showing personalized information\n * Different views for employees and admins\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const DashboardScreen = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user,\n    organization,\n    logout,\n    updateUser,\n    getAllUsers\n  } = useAuthStore();\n  const {\n    getAllLeaveRequests\n  } = useLeavesStore();\n  const {\n    getTimeRecords,\n    getMonthlyStats,\n    getWeeklyStats\n  } = useTimeRecordsStore();\n  const {\n    getUserBalance\n  } = useCoinsStore();\n  const {\n    getNextEvent,\n    getUnlockedEvents\n  } = useCoinEventsStore();\n  const [selectedUserId, setSelectedUserId] = useState((user === null || user === void 0 ? void 0 : user.id) || '');\n  const [isEditingUser, setIsEditingUser] = useState(false);\n  const [editForm, setEditForm] = useState({\n    position: '',\n    weeklyHours: '',\n    vacationDays: ''\n  });\n  const isAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'ADMIN' || (user === null || user === void 0 ? void 0 : user.role) === 'SUPERADMIN';\n  const allUsers = isAdmin ? getAllUsers() : [];\n  const displayUser = isAdmin && selectedUserId !== user.id ? allUsers.find(u => u.id === selectedUserId) || user : user;\n  useEffect(() => {\n    if (displayUser) {\n      var _displayUser$weeklyHo, _displayUser$vacation;\n      setEditForm({\n        position: displayUser.position || '',\n        weeklyHours: ((_displayUser$weeklyHo = displayUser.weeklyHours) === null || _displayUser$weeklyHo === void 0 ? void 0 : _displayUser$weeklyHo.toString()) || '',\n        vacationDays: ((_displayUser$vacation = displayUser.vacationDays) === null || _displayUser$vacation === void 0 ? void 0 : _displayUser$vacation.toString()) || ''\n      });\n    }\n  }, [displayUser]);\n  if (!user || !displayUser) return null;\n\n  // Get user's data\n  const userBalance = getUserBalance(displayUser.id);\n  const todayDate = new Date().toISOString().split('T')[0];\n  const todayRecords = getTimeRecords(displayUser.id).filter(record => record.date === todayDate);\n  const todayRecord = todayRecords[0];\n\n  // Calculate monthly and weekly stats\n  const currentMonth = new Date().getMonth();\n  const currentYear = new Date().getFullYear();\n  const monthlyStats = getMonthlyStats(displayUser.id, currentMonth, currentYear);\n  const weeklyStats = getWeeklyStats(displayUser.id);\n\n  // Calculate vacation usage\n  const approvedVacations = getAllLeaveRequests().filter(req => req.userId === displayUser.id && req.type === 'VACATION' && req.status === 'APPROVED' && new Date(req.startDate).getFullYear() === currentYear);\n  const usedVacationDays = approvedVacations.reduce((total, req) => {\n    const start = new Date(req.startDate);\n    const end = new Date(req.endDate);\n    const days = Math.ceil((end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24)) + 1;\n    return total + days;\n  }, 0);\n\n  // Calculate working hours based on employment type\n  const expectedMonthlyHours = displayUser.weeklyHours ? displayUser.weeklyHours * 4.33 : 0; // Average weeks per month\n  const expectedWeeklyHours = displayUser.weeklyHours || 0;\n\n  // Get coin level info\n  const coinBalance = (userBalance === null || userBalance === void 0 ? void 0 : userBalance.currentBalance) || 0;\n  const nextEvent = getNextEvent(coinBalance);\n  const unlockedEvents = getUnlockedEvents(coinBalance);\n  const currentLevel = unlockedEvents.length > 0 ? unlockedEvents[unlockedEvents.length - 1] : null;\n\n  /**\n   * Handles saving user edits (admin only)\n   */\n  const handleSaveUserEdit = async () => {\n    if (!isAdmin || !displayUser) return;\n    try {\n      await updateUser(displayUser.id, {\n        position: editForm.position,\n        weeklyHours: parseInt(editForm.weeklyHours) || undefined,\n        vacationDays: parseInt(editForm.vacationDays) || undefined\n      });\n      setIsEditingUser(false);\n    } catch (error) {\n      console.error('Error updating user:', error);\n    }\n  };\n\n  /**\n   * Formats time to German format\n   */\n  const formatTime = time => {\n    return new Date(`2000-01-01T${time}`).toLocaleTimeString('de-DE', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 bg-gray-50 min-h-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 py-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm p-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: displayUser.id === user.id ? `Hallo, ${displayUser.firstName || displayUser.name.split(' ')[0]}!` : `Mitarbeiter: ${displayUser.name}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), isAdmin && displayUser.id !== user.id && /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedUserId,\n              onChange: e => setSelectedUserId(e.target.value),\n              className: \"mt-2 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: user.id,\n                children: \"Meine Ansicht\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 19\n              }, this), allUsers.filter(u => u.id !== user.id).map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: u.id,\n                children: u.name\n              }, u.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/settings'),\n              className: \"p-2 hover:bg-gray-100 rounded-lg transition-colors\",\n              title: \"Einstellungen\",\n              children: \"\\u2699\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: logout,\n              className: \"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-700\",\n                children: \"Abmelden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 grid md:grid-cols-3 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Position\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), isEditingUser ? /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editForm.position,\n              onChange: e => setEditForm({\n                ...editForm,\n                position: e.target.value\n              }),\n              className: \"mt-1 w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: displayUser.position || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Abteilung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: displayUser.department || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Organisation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: organization === null || organization === void 0 ? void 0 : organization.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), isAdmin && displayUser.id !== user.id && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 flex justify-end\",\n          children: isEditingUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setIsEditingUser(false),\n              className: \"px-3 py-1 text-sm text-gray-600 hover:text-gray-800\",\n              children: \"Abbrechen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSaveUserEdit,\n              className: \"ml-2 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700\",\n              children: \"Speichern\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsEditingUser(true),\n            className: \"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700\",\n            children: \"Bearbeiten\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-sm p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Heute\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl\",\n              children: \"\\u23F0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), todayRecord ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: [todayRecord.totalHours, \"h\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-1\",\n              children: [formatTime(todayRecord.timeIn), \" - \", todayRecord.timeOut ? formatTime(todayRecord.timeOut) : 'läuft']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this), !todayRecord.timeOut && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-block mt-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full\",\n              children: \"Gestempelt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-400\",\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-block mt-2 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full\",\n              children: \"Nicht gestempelt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-sm p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Monat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl\",\n              children: \"\\uD83D\\uDCCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: [monthlyStats.totalHours.toFixed(1), \"h\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-xs text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Soll: \", expectedMonthlyHours.toFixed(0), \"h\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: cn(\"font-medium\", monthlyStats.totalHours >= expectedMonthlyHours ? \"text-green-600\" : \"text-orange-600\"),\n                children: [monthlyStats.totalHours >= expectedMonthlyHours ? '+' : '', (monthlyStats.totalHours - expectedMonthlyHours).toFixed(1), \"h\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 w-full bg-gray-200 rounded-full h-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: cn(\"h-2 rounded-full transition-all\", monthlyStats.totalHours >= expectedMonthlyHours ? \"bg-green-500\" : \"bg-blue-500\"),\n                style: {\n                  width: `${Math.min(monthlyStats.totalHours / expectedMonthlyHours * 100, 100)}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-2\",\n            children: [\"Woche: \", weeklyStats.totalHours.toFixed(1), \"h / \", expectedWeeklyHours, \"h\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-sm p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Urlaub\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl\",\n              children: \"\\uD83C\\uDFD6\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: isEditingUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: editForm.vacationDays,\n                onChange: e => setEditForm({\n                  ...editForm,\n                  vacationDays: e.target.value\n                }),\n                className: \"w-20 border border-gray-300 rounded px-2 py-1 text-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Tage/Jahr\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: (displayUser.vacationDays || 0) - usedVacationDays\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: [\"von \", displayUser.vacationDays || 0, \" Tagen\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500\",\n                children: \"Genommen:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: [usedVacationDays, \" Tage\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), displayUser.employmentType === 'PART_TIME' && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-blue-600\",\n              children: \"Teilzeit-angepasst\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-sm p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Browo Coins\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl\",\n              children: \"\\uD83E\\uDE99\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-yellow-600\",\n            children: coinBalance\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), currentLevel && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-purple-600 font-medium mt-1\",\n            children: currentLevel.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this), nextEvent && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-xs text-gray-500 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"N\\xE4chstes Level\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [coinBalance, \"/\", nextEvent.requiredCoins]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-gray-200 rounded-full h-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-purple-500 to-indigo-500 h-2 rounded-full transition-all\",\n                style: {\n                  width: `${Math.min(coinBalance / nextEvent.requiredCoins * 100, 100)}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-sm p-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 mb-4\",\n          children: \"Besch\\xE4ftigungsdetails\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid md:grid-cols-4 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Wochenarbeitszeit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), isEditingUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: editForm.weeklyHours,\n                onChange: e => setEditForm({\n                  ...editForm,\n                  weeklyHours: e.target.value\n                }),\n                className: \"w-20 border border-gray-300 rounded px-2 py-1 text-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm\",\n                children: \"Stunden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: [displayUser.weeklyHours || '-', \"h / Woche\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Besch\\xE4ftigungsart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: [displayUser.employmentType === 'FULL_TIME' && 'Vollzeit', displayUser.employmentType === 'PART_TIME' && 'Teilzeit', displayUser.employmentType === 'MINI_JOB' && 'Minijob', !displayUser.employmentType && '-']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Eintrittsdatum\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: displayUser.joinDate ? new Date(displayUser.joinDate).toLocaleDateString('de-DE') : '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium\",\n              children: [displayUser.employmentStatus === 'ACTIVE' && '✅ Aktiv', displayUser.employmentStatus === 'PARENTAL_LEAVE' && '👶 Elternzeit', displayUser.employmentStatus === 'TERMINATED' && '❌ Ausgeschieden', !displayUser.employmentStatus && '-']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-2 lg:grid-cols-3 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/time'),\n          className: \"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-3xl\",\n              children: \"\\u23F0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: \"\\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-900\",\n            children: \"Arbeitszeit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Stempeln & \\xDCbersicht\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/calendar'),\n          className: \"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-3xl\",\n              children: \"\\uD83D\\uDCC5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: \"\\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-900\",\n            children: \"Kalender\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Urlaub & Termine\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/benefits'),\n          className: \"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-3xl\",\n              children: \"\\uD83C\\uDF81\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: \"\\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-900\",\n            children: \"Benefits\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Shop & Coins\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/requests'),\n          className: \"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-3xl\",\n              children: \"\\uD83D\\uDCDD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: \"\\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-900\",\n            children: \"Antr\\xE4ge\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Urlaub & Krankmeldung\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/documents'),\n          className: \"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-3xl\",\n              children: \"\\uD83D\\uDCC4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: \"\\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-900\",\n            children: \"Dokumente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Lohn & Vertr\\xE4ge\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/settings'),\n          className: \"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-3xl\",\n              children: \"\\u2699\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: \"\\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-900\",\n            children: \"Einstellungen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Profil & Daten\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardScreen, \"701B/JpHdLOTNlwjOEjSB04zypY=\", false, function () {\n  return [useNavigate, useAuthStore, useLeavesStore, useTimeRecordsStore, useCoinsStore, useCoinEventsStore];\n});\n_c = DashboardScreen;\nvar _c;\n$RefreshReg$(_c, \"DashboardScreen\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuthStore","useLeavesStore","useTimeRecordsStore","useCoinsStore","useCoinEventsStore","cn","jsxDEV","_jsxDEV","Fragment","_Fragment","DashboardScreen","_s","navigate","user","organization","logout","updateUser","getAllUsers","getAllLeaveRequests","getTimeRecords","getMonthlyStats","getWeeklyStats","getUserBalance","getNextEvent","getUnlockedEvents","selectedUserId","setSelectedUserId","id","isEditingUser","setIsEditingUser","editForm","setEditForm","position","weeklyHours","vacationDays","isAdmin","role","allUsers","displayUser","find","u","_displayUser$weeklyHo","_displayUser$vacation","toString","userBalance","todayDate","Date","toISOString","split","todayRecords","filter","record","date","todayRecord","currentMonth","getMonth","currentYear","getFullYear","monthlyStats","weeklyStats","approvedVacations","req","userId","type","status","startDate","usedVacationDays","reduce","total","start","end","endDate","days","Math","ceil","getTime","expectedMonthlyHours","expectedWeeklyHours","coinBalance","currentBalance","nextEvent","unlockedEvents","currentLevel","length","handleSaveUserEdit","parseInt","undefined","error","console","formatTime","time","toLocaleTimeString","hour","minute","className","children","firstName","name","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","map","onClick","title","department","totalHours","timeIn","timeOut","toFixed","style","width","min","employmentType","requiredCoins","joinDate","toLocaleDateString","employmentStatus","_c","$RefreshReg$"],"sources":["/Users/halteverbotsocialmacpro/Desktop/ars vivai/Worky Time/worky-time-web/src/screens/DashboardScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '../state/auth';\nimport { useLeavesStore } from '../state/leaves';\nimport { useTimeRecordsStore } from '../state/timeRecords';\nimport { useCoinsStore } from '../state/coins';\nimport { useCoinEventsStore } from '../state/coinEvents';\nimport { cn } from '../utils/cn';\n\n/**\n * Main dashboard screen showing personalized information\n * Different views for employees and admins\n */\nexport const DashboardScreen = () => {\n  const navigate = useNavigate();\n  const { user, organization, logout, updateUser, getAllUsers } = useAuthStore();\n  const { getAllLeaveRequests } = useLeavesStore();\n  const { getTimeRecords, getMonthlyStats, getWeeklyStats } = useTimeRecordsStore();\n  const { getUserBalance } = useCoinsStore();\n  const { getNextEvent, getUnlockedEvents } = useCoinEventsStore();\n\n  const [selectedUserId, setSelectedUserId] = useState(user?.id || '');\n  const [isEditingUser, setIsEditingUser] = useState(false);\n  const [editForm, setEditForm] = useState({\n    position: '',\n    weeklyHours: '',\n    vacationDays: ''\n  });\n\n  const isAdmin = user?.role === 'ADMIN' || user?.role === 'SUPERADMIN';\n  const allUsers = isAdmin ? getAllUsers() : [];\n  const displayUser = isAdmin && selectedUserId !== user.id \n    ? allUsers.find(u => u.id === selectedUserId) || user \n    : user;\n\n  useEffect(() => {\n    if (displayUser) {\n      setEditForm({\n        position: displayUser.position || '',\n        weeklyHours: displayUser.weeklyHours?.toString() || '',\n        vacationDays: displayUser.vacationDays?.toString() || ''\n      });\n    }\n  }, [displayUser]);\n\n  if (!user || !displayUser) return null;\n\n  // Get user's data\n  const userBalance = getUserBalance(displayUser.id);\n  const todayDate = new Date().toISOString().split('T')[0];\n  const todayRecords = getTimeRecords(displayUser.id).filter(record => record.date === todayDate);\n  const todayRecord = todayRecords[0];\n  \n  // Calculate monthly and weekly stats\n  const currentMonth = new Date().getMonth();\n  const currentYear = new Date().getFullYear();\n  const monthlyStats = getMonthlyStats(displayUser.id, currentMonth, currentYear);\n  const weeklyStats = getWeeklyStats(displayUser.id);\n\n  // Calculate vacation usage\n  const approvedVacations = getAllLeaveRequests()\n    .filter(req => \n      req.userId === displayUser.id && \n      req.type === 'VACATION' && \n      req.status === 'APPROVED' &&\n      new Date(req.startDate).getFullYear() === currentYear\n    );\n  \n  const usedVacationDays = approvedVacations.reduce((total, req) => {\n    const start = new Date(req.startDate);\n    const end = new Date(req.endDate);\n    const days = Math.ceil((end.getTime() - start.getTime()) / (1000 * 60 * 60 * 24)) + 1;\n    return total + days;\n  }, 0);\n\n  // Calculate working hours based on employment type\n  const expectedMonthlyHours = displayUser.weeklyHours ? (displayUser.weeklyHours * 4.33) : 0; // Average weeks per month\n  const expectedWeeklyHours = displayUser.weeklyHours || 0;\n\n  // Get coin level info\n  const coinBalance = userBalance?.currentBalance || 0;\n  const nextEvent = getNextEvent(coinBalance);\n  const unlockedEvents = getUnlockedEvents(coinBalance);\n  const currentLevel = unlockedEvents.length > 0 ? unlockedEvents[unlockedEvents.length - 1] : null;\n\n  /**\n   * Handles saving user edits (admin only)\n   */\n  const handleSaveUserEdit = async () => {\n    if (!isAdmin || !displayUser) return;\n\n    try {\n      await updateUser(displayUser.id, {\n        position: editForm.position,\n        weeklyHours: parseInt(editForm.weeklyHours) || undefined,\n        vacationDays: parseInt(editForm.vacationDays) || undefined\n      });\n      setIsEditingUser(false);\n    } catch (error) {\n      console.error('Error updating user:', error);\n    }\n  };\n\n  /**\n   * Formats time to German format\n   */\n  const formatTime = (time: string) => {\n    return new Date(`2000-01-01T${time}`).toLocaleTimeString('de-DE', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  return (\n    <div className=\"flex-1 bg-gray-50 min-h-screen\">\n      <div className=\"max-w-7xl mx-auto px-4 py-6\">\n        {/* Header */}\n        <div className=\"bg-white rounded-xl shadow-sm p-6 mb-6\">\n          <div className=\"flex justify-between items-start\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                {displayUser.id === user.id \n                  ? `Hallo, ${displayUser.firstName || displayUser.name.split(' ')[0]}!`\n                  : `Mitarbeiter: ${displayUser.name}`\n                }\n              </h1>\n              {isAdmin && displayUser.id !== user.id && (\n                <select\n                  value={selectedUserId}\n                  onChange={(e) => setSelectedUserId(e.target.value)}\n                  className=\"mt-2 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value={user.id}>Meine Ansicht</option>\n                  {allUsers.filter(u => u.id !== user.id).map(u => (\n                    <option key={u.id} value={u.id}>{u.name}</option>\n                  ))}\n                </select>\n              )}\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <button \n                onClick={() => navigate('/settings')}\n                className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n                title=\"Einstellungen\"\n              >\n                ⚙️\n              </button>\n              <button \n                onClick={logout}\n                className=\"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors\"\n              >\n                <span className=\"text-gray-700\">Abmelden</span>\n              </button>\n            </div>\n          </div>\n\n          {/* Position and Organization */}\n          <div className=\"mt-4 grid md:grid-cols-3 gap-4\">\n            <div>\n              <p className=\"text-sm text-gray-500\">Position</p>\n              {isEditingUser ? (\n                <input\n                  type=\"text\"\n                  value={editForm.position}\n                  onChange={(e) => setEditForm({...editForm, position: e.target.value})}\n                  className=\"mt-1 w-full border border-gray-300 rounded px-2 py-1 text-sm\"\n                />\n              ) : (\n                <p className=\"font-medium\">{displayUser.position || '-'}</p>\n              )}\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-500\">Abteilung</p>\n              <p className=\"font-medium\">{displayUser.department || '-'}</p>\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-500\">Organisation</p>\n              <p className=\"font-medium\">{organization?.name}</p>\n            </div>\n          </div>\n\n          {/* Admin Edit Controls */}\n          {isAdmin && displayUser.id !== user.id && (\n            <div className=\"mt-4 flex justify-end\">\n              {isEditingUser ? (\n                <>\n                  <button\n                    onClick={() => setIsEditingUser(false)}\n                    className=\"px-3 py-1 text-sm text-gray-600 hover:text-gray-800\"\n                  >\n                    Abbrechen\n                  </button>\n                  <button\n                    onClick={handleSaveUserEdit}\n                    className=\"ml-2 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700\"\n                  >\n                    Speichern\n                  </button>\n                </>\n              ) : (\n                <button\n                  onClick={() => setIsEditingUser(true)}\n                  className=\"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700\"\n                >\n                  Bearbeiten\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Main Stats Grid */}\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\n          {/* Working Time Today */}\n          <div className=\"bg-white rounded-xl shadow-sm p-6\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-sm font-medium text-gray-500\">Heute</h3>\n              <span className=\"text-2xl\">⏰</span>\n            </div>\n            {todayRecord ? (\n              <>\n                <p className=\"text-2xl font-bold text-gray-900\">{todayRecord.totalHours}h</p>\n                <p className=\"text-sm text-gray-500 mt-1\">\n                  {formatTime(todayRecord.timeIn)} - {todayRecord.timeOut ? formatTime(todayRecord.timeOut) : 'läuft'}\n                </p>\n                {!todayRecord.timeOut && (\n                  <span className=\"inline-block mt-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full\">\n                    Gestempelt\n                  </span>\n                )}\n              </>\n            ) : (\n              <>\n                <p className=\"text-2xl font-bold text-gray-400\">-</p>\n                <span className=\"inline-block mt-2 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full\">\n                  Nicht gestempelt\n                </span>\n              </>\n            )}\n          </div>\n\n          {/* Monthly Hours */}\n          <div className=\"bg-white rounded-xl shadow-sm p-6\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-sm font-medium text-gray-500\">Monat</h3>\n              <span className=\"text-2xl\">📊</span>\n            </div>\n            <p className=\"text-2xl font-bold text-gray-900\">{monthlyStats.totalHours.toFixed(1)}h</p>\n            <div className=\"mt-2\">\n              <div className=\"flex justify-between text-xs text-gray-500\">\n                <span>Soll: {expectedMonthlyHours.toFixed(0)}h</span>\n                <span className={cn(\n                  \"font-medium\",\n                  monthlyStats.totalHours >= expectedMonthlyHours ? \"text-green-600\" : \"text-orange-600\"\n                )}>\n                  {monthlyStats.totalHours >= expectedMonthlyHours ? '+' : ''}{(monthlyStats.totalHours - expectedMonthlyHours).toFixed(1)}h\n                </span>\n              </div>\n              <div className=\"mt-1 w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className={cn(\n                    \"h-2 rounded-full transition-all\",\n                    monthlyStats.totalHours >= expectedMonthlyHours ? \"bg-green-500\" : \"bg-blue-500\"\n                  )}\n                  style={{ width: `${Math.min((monthlyStats.totalHours / expectedMonthlyHours) * 100, 100)}%` }}\n                />\n              </div>\n            </div>\n            <p className=\"text-xs text-gray-500 mt-2\">\n              Woche: {weeklyStats.totalHours.toFixed(1)}h / {expectedWeeklyHours}h\n            </p>\n          </div>\n\n          {/* Vacation */}\n          <div className=\"bg-white rounded-xl shadow-sm p-6\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-sm font-medium text-gray-500\">Urlaub</h3>\n              <span className=\"text-2xl\">🏖️</span>\n            </div>\n            <div>\n              {isEditingUser ? (\n                <div className=\"flex items-center gap-2\">\n                  <input\n                    type=\"number\"\n                    value={editForm.vacationDays}\n                    onChange={(e) => setEditForm({...editForm, vacationDays: e.target.value})}\n                    className=\"w-20 border border-gray-300 rounded px-2 py-1 text-sm\"\n                  />\n                  <span className=\"text-sm text-gray-500\">Tage/Jahr</span>\n                </div>\n              ) : (\n                <>\n                  <p className=\"text-2xl font-bold text-gray-900\">\n                    {(displayUser.vacationDays || 0) - usedVacationDays}\n                  </p>\n                  <p className=\"text-sm text-gray-500\">von {displayUser.vacationDays || 0} Tagen</p>\n                </>\n              )}\n            </div>\n            <div className=\"mt-2 space-y-1\">\n              <div className=\"flex justify-between text-xs\">\n                <span className=\"text-gray-500\">Genommen:</span>\n                <span className=\"font-medium\">{usedVacationDays} Tage</span>\n              </div>\n              {displayUser.employmentType === 'PART_TIME' && (\n                <p className=\"text-xs text-blue-600\">Teilzeit-angepasst</p>\n              )}\n            </div>\n          </div>\n\n          {/* Browo Coins & Level */}\n          <div className=\"bg-white rounded-xl shadow-sm p-6\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-sm font-medium text-gray-500\">Browo Coins</h3>\n              <span className=\"text-2xl\">🪙</span>\n            </div>\n            <p className=\"text-2xl font-bold text-yellow-600\">{coinBalance}</p>\n            {currentLevel && (\n              <p className=\"text-sm text-purple-600 font-medium mt-1\">\n                {currentLevel.title}\n              </p>\n            )}\n            {nextEvent && (\n              <div className=\"mt-3\">\n                <div className=\"flex justify-between text-xs text-gray-500 mb-1\">\n                  <span>Nächstes Level</span>\n                  <span>{coinBalance}/{nextEvent.requiredCoins}</span>\n                </div>\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div \n                    className=\"bg-gradient-to-r from-purple-500 to-indigo-500 h-2 rounded-full transition-all\"\n                    style={{ width: `${Math.min((coinBalance / nextEvent.requiredCoins) * 100, 100)}%` }}\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Employment Details (Admin editable) */}\n        {isAdmin && (\n          <div className=\"bg-white rounded-xl shadow-sm p-6 mb-6\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Beschäftigungsdetails</h2>\n            <div className=\"grid md:grid-cols-4 gap-4\">\n              <div>\n                <p className=\"text-sm text-gray-500\">Wochenarbeitszeit</p>\n                {isEditingUser ? (\n                  <div className=\"flex items-center gap-2\">\n                    <input\n                      type=\"number\"\n                      value={editForm.weeklyHours}\n                      onChange={(e) => setEditForm({...editForm, weeklyHours: e.target.value})}\n                      className=\"w-20 border border-gray-300 rounded px-2 py-1 text-sm\"\n                    />\n                    <span className=\"text-sm\">Stunden</span>\n                  </div>\n                ) : (\n                  <p className=\"font-medium\">{displayUser.weeklyHours || '-'}h / Woche</p>\n                )}\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-500\">Beschäftigungsart</p>\n                <p className=\"font-medium\">\n                  {displayUser.employmentType === 'FULL_TIME' && 'Vollzeit'}\n                  {displayUser.employmentType === 'PART_TIME' && 'Teilzeit'}\n                  {displayUser.employmentType === 'MINI_JOB' && 'Minijob'}\n                  {!displayUser.employmentType && '-'}\n                </p>\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-500\">Eintrittsdatum</p>\n                <p className=\"font-medium\">\n                  {displayUser.joinDate ? new Date(displayUser.joinDate).toLocaleDateString('de-DE') : '-'}\n                </p>\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-500\">Status</p>\n                <p className=\"font-medium\">\n                  {displayUser.employmentStatus === 'ACTIVE' && '✅ Aktiv'}\n                  {displayUser.employmentStatus === 'PARENTAL_LEAVE' && '👶 Elternzeit'}\n                  {displayUser.employmentStatus === 'TERMINATED' && '❌ Ausgeschieden'}\n                  {!displayUser.employmentStatus && '-'}\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Quick Actions */}\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          <button\n            onClick={() => navigate('/time')}\n            className=\"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\"\n          >\n            <div className=\"flex items-center justify-between mb-3\">\n              <span className=\"text-3xl\">⏰</span>\n              <span className=\"text-gray-400\">→</span>\n            </div>\n            <h3 className=\"font-semibold text-gray-900\">Arbeitszeit</h3>\n            <p className=\"text-sm text-gray-500 mt-1\">Stempeln & Übersicht</p>\n          </button>\n\n          <button\n            onClick={() => navigate('/calendar')}\n            className=\"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\"\n          >\n            <div className=\"flex items-center justify-between mb-3\">\n              <span className=\"text-3xl\">📅</span>\n              <span className=\"text-gray-400\">→</span>\n            </div>\n            <h3 className=\"font-semibold text-gray-900\">Kalender</h3>\n            <p className=\"text-sm text-gray-500 mt-1\">Urlaub & Termine</p>\n          </button>\n\n          <button\n            onClick={() => navigate('/benefits')}\n            className=\"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\"\n          >\n            <div className=\"flex items-center justify-between mb-3\">\n              <span className=\"text-3xl\">🎁</span>\n              <span className=\"text-gray-400\">→</span>\n            </div>\n            <h3 className=\"font-semibold text-gray-900\">Benefits</h3>\n            <p className=\"text-sm text-gray-500 mt-1\">Shop & Coins</p>\n          </button>\n\n          <button\n            onClick={() => navigate('/requests')}\n            className=\"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\"\n          >\n            <div className=\"flex items-center justify-between mb-3\">\n              <span className=\"text-3xl\">📝</span>\n              <span className=\"text-gray-400\">→</span>\n            </div>\n            <h3 className=\"font-semibold text-gray-900\">Anträge</h3>\n            <p className=\"text-sm text-gray-500 mt-1\">Urlaub & Krankmeldung</p>\n          </button>\n\n          <button\n            onClick={() => navigate('/documents')}\n            className=\"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\"\n          >\n            <div className=\"flex items-center justify-between mb-3\">\n              <span className=\"text-3xl\">📄</span>\n              <span className=\"text-gray-400\">→</span>\n            </div>\n            <h3 className=\"font-semibold text-gray-900\">Dokumente</h3>\n            <p className=\"text-sm text-gray-500 mt-1\">Lohn & Verträge</p>\n          </button>\n\n          <button\n            onClick={() => navigate('/settings')}\n            className=\"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow text-left\"\n          >\n            <div className=\"flex items-center justify-between mb-3\">\n              <span className=\"text-3xl\">⚙️</span>\n              <span className=\"text-gray-400\">→</span>\n            </div>\n            <h3 className=\"font-semibold text-gray-900\">Einstellungen</h3>\n            <p className=\"text-sm text-gray-500 mt-1\">Profil & Daten</p>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}